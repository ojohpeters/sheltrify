const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/react-9xZRtzEE.js","assets/mixin-C_e69MQf.js","assets/hls-BGvSEJpu.js","assets/react-CQ_M7WYL.js","assets/index-vbltAc-j.js"])))=>i.map(i=>d[i]);
(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))l(d);new MutationObserver(d=>{for(const u of d)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function s(d){const u={};return d.integrity&&(u.integrity=d.integrity),d.referrerPolicy&&(u.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?u.credentials="include":d.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function l(d){if(d.ep)return;d.ep=!0;const u=s(d);fetch(d.href,u)}})();function Vx(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var pc={exports:{}},mi={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yh;function Qb(){if(Yh)return mi;Yh=1;var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function s(l,d,u){var f=null;if(u!==void 0&&(f=""+u),d.key!==void 0&&(f=""+d.key),"key"in d){u={};for(var p in d)p!=="key"&&(u[p]=d[p])}else u=d;return d=u.ref,{$$typeof:n,type:l,key:f,ref:d!==void 0?d:null,props:u}}return mi.Fragment=r,mi.jsx=s,mi.jsxs=s,mi}var Jh;function Zb(){return Jh||(Jh=1,pc.exports=Qb()),pc.exports}var t=Zb(),xc={exports:{}},we={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wh;function ev(){if(Wh)return we;Wh=1;var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),k=Symbol.iterator;function w(C){return C===null||typeof C!="object"?null:(C=k&&C[k]||C["@@iterator"],typeof C=="function"?C:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,V={};function $(C,H,X){this.props=C,this.context=H,this.refs=V,this.updater=X||j}$.prototype.isReactComponent={},$.prototype.setState=function(C,H){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,H,"setState")},$.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function U(){}U.prototype=$.prototype;function D(C,H,X){this.props=C,this.context=H,this.refs=V,this.updater=X||j}var A=D.prototype=new U;A.constructor=D,P(A,$.prototype),A.isPureReactComponent=!0;var I=Array.isArray;function q(){}var M={H:null,A:null,T:null,S:null},ee=Object.prototype.hasOwnProperty;function F(C,H,X){var ie=X.ref;return{$$typeof:n,type:C,key:H,ref:ie!==void 0?ie:null,props:X}}function z(C,H){return F(C.type,H,C.props)}function re(C){return typeof C=="object"&&C!==null&&C.$$typeof===n}function ce(C){var H={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(X){return H[X]})}var se=/\/+/g;function oe(C,H){return typeof C=="object"&&C!==null&&C.key!=null?ce(""+C.key):H.toString(36)}function Y(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(q,q):(C.status="pending",C.then(function(H){C.status==="pending"&&(C.status="fulfilled",C.value=H)},function(H){C.status==="pending"&&(C.status="rejected",C.reason=H)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function _(C,H,X,ie,pe){var J=typeof C;(J==="undefined"||J==="boolean")&&(C=null);var he=!1;if(C===null)he=!0;else switch(J){case"bigint":case"string":case"number":he=!0;break;case"object":switch(C.$$typeof){case n:case r:he=!0;break;case b:return he=C._init,_(he(C._payload),H,X,ie,pe)}}if(he)return pe=pe(C),he=ie===""?"."+oe(C,0):ie,I(pe)?(X="",he!=null&&(X=he.replace(se,"$&/")+"/"),_(pe,H,X,"",function(be){return be})):pe!=null&&(re(pe)&&(pe=z(pe,X+(pe.key==null||C&&C.key===pe.key?"":(""+pe.key).replace(se,"$&/")+"/")+he)),H.push(pe)),1;he=0;var de=ie===""?".":ie+":";if(I(C))for(var fe=0;fe<C.length;fe++)ie=C[fe],J=de+oe(ie,fe),he+=_(ie,H,X,J,pe);else if(fe=w(C),typeof fe=="function")for(C=fe.call(C),fe=0;!(ie=C.next()).done;)ie=ie.value,J=de+oe(ie,fe++),he+=_(ie,H,X,J,pe);else if(J==="object"){if(typeof C.then=="function")return _(Y(C),H,X,ie,pe);throw H=String(C),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return he}function W(C,H,X){if(C==null)return C;var ie=[],pe=0;return _(C,ie,"","",function(J){return H.call(X,J,pe++)}),ie}function Q(C){if(C._status===-1){var H=C._result;H=H(),H.then(function(X){(C._status===0||C._status===-1)&&(C._status=1,C._result=X)},function(X){(C._status===0||C._status===-1)&&(C._status=2,C._result=X)}),C._status===-1&&(C._status=0,C._result=H)}if(C._status===1)return C._result.default;throw C._result}var Z=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},me={map:W,forEach:function(C,H,X){W(C,function(){H.apply(this,arguments)},X)},count:function(C){var H=0;return W(C,function(){H++}),H},toArray:function(C){return W(C,function(H){return H})||[]},only:function(C){if(!re(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return we.Activity=v,we.Children=me,we.Component=$,we.Fragment=s,we.Profiler=d,we.PureComponent=D,we.StrictMode=l,we.Suspense=y,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,we.__COMPILER_RUNTIME={__proto__:null,c:function(C){return M.H.useMemoCache(C)}},we.cache=function(C){return function(){return C.apply(null,arguments)}},we.cacheSignal=function(){return null},we.cloneElement=function(C,H,X){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var ie=P({},C.props),pe=C.key;if(H!=null)for(J in H.key!==void 0&&(pe=""+H.key),H)!ee.call(H,J)||J==="key"||J==="__self"||J==="__source"||J==="ref"&&H.ref===void 0||(ie[J]=H[J]);var J=arguments.length-2;if(J===1)ie.children=X;else if(1<J){for(var he=Array(J),de=0;de<J;de++)he[de]=arguments[de+2];ie.children=he}return F(C.type,pe,ie)},we.createContext=function(C){return C={$$typeof:f,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:u,_context:C},C},we.createElement=function(C,H,X){var ie,pe={},J=null;if(H!=null)for(ie in H.key!==void 0&&(J=""+H.key),H)ee.call(H,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(pe[ie]=H[ie]);var he=arguments.length-2;if(he===1)pe.children=X;else if(1<he){for(var de=Array(he),fe=0;fe<he;fe++)de[fe]=arguments[fe+2];pe.children=de}if(C&&C.defaultProps)for(ie in he=C.defaultProps,he)pe[ie]===void 0&&(pe[ie]=he[ie]);return F(C,J,pe)},we.createRef=function(){return{current:null}},we.forwardRef=function(C){return{$$typeof:p,render:C}},we.isValidElement=re,we.lazy=function(C){return{$$typeof:b,_payload:{_status:-1,_result:C},_init:Q}},we.memo=function(C,H){return{$$typeof:x,type:C,compare:H===void 0?null:H}},we.startTransition=function(C){var H=M.T,X={};M.T=X;try{var ie=C(),pe=M.S;pe!==null&&pe(X,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(q,Z)}catch(J){Z(J)}finally{H!==null&&X.types!==null&&(H.types=X.types),M.T=H}},we.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},we.use=function(C){return M.H.use(C)},we.useActionState=function(C,H,X){return M.H.useActionState(C,H,X)},we.useCallback=function(C,H){return M.H.useCallback(C,H)},we.useContext=function(C){return M.H.useContext(C)},we.useDebugValue=function(){},we.useDeferredValue=function(C,H){return M.H.useDeferredValue(C,H)},we.useEffect=function(C,H){return M.H.useEffect(C,H)},we.useEffectEvent=function(C){return M.H.useEffectEvent(C)},we.useId=function(){return M.H.useId()},we.useImperativeHandle=function(C,H,X){return M.H.useImperativeHandle(C,H,X)},we.useInsertionEffect=function(C,H){return M.H.useInsertionEffect(C,H)},we.useLayoutEffect=function(C,H){return M.H.useLayoutEffect(C,H)},we.useMemo=function(C,H){return M.H.useMemo(C,H)},we.useOptimistic=function(C,H){return M.H.useOptimistic(C,H)},we.useReducer=function(C,H,X){return M.H.useReducer(C,H,X)},we.useRef=function(C){return M.H.useRef(C)},we.useState=function(C){return M.H.useState(C)},we.useSyncExternalStore=function(C,H,X){return M.H.useSyncExternalStore(C,H,X)},we.useTransition=function(){return M.H.useTransition()},we.version="19.2.0",we}var Kh;function qc(){return Kh||(Kh=1,xc.exports=ev()),xc.exports}var T=qc();const zt=Vx(T);var gc={exports:{}},fi={},yc={exports:{}},bc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $h;function tv(){return $h||($h=1,(function(n){function r(_,W){var Q=_.length;_.push(W);e:for(;0<Q;){var Z=Q-1>>>1,me=_[Z];if(0<d(me,W))_[Z]=W,_[Q]=me,Q=Z;else break e}}function s(_){return _.length===0?null:_[0]}function l(_){if(_.length===0)return null;var W=_[0],Q=_.pop();if(Q!==W){_[0]=Q;e:for(var Z=0,me=_.length,C=me>>>1;Z<C;){var H=2*(Z+1)-1,X=_[H],ie=H+1,pe=_[ie];if(0>d(X,Q))ie<me&&0>d(pe,X)?(_[Z]=pe,_[ie]=Q,Z=ie):(_[Z]=X,_[H]=Q,Z=H);else if(ie<me&&0>d(pe,Q))_[Z]=pe,_[ie]=Q,Z=ie;else break e}}return W}function d(_,W){var Q=_.sortIndex-W.sortIndex;return Q!==0?Q:_.id-W.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();n.unstable_now=function(){return f.now()-p}}var y=[],x=[],b=1,v=null,k=3,w=!1,j=!1,P=!1,V=!1,$=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function A(_){for(var W=s(x);W!==null;){if(W.callback===null)l(x);else if(W.startTime<=_)l(x),W.sortIndex=W.expirationTime,r(y,W);else break;W=s(x)}}function I(_){if(P=!1,A(_),!j)if(s(y)!==null)j=!0,q||(q=!0,ce());else{var W=s(x);W!==null&&Y(I,W.startTime-_)}}var q=!1,M=-1,ee=5,F=-1;function z(){return V?!0:!(n.unstable_now()-F<ee)}function re(){if(V=!1,q){var _=n.unstable_now();F=_;var W=!0;try{e:{j=!1,P&&(P=!1,U(M),M=-1),w=!0;var Q=k;try{t:{for(A(_),v=s(y);v!==null&&!(v.expirationTime>_&&z());){var Z=v.callback;if(typeof Z=="function"){v.callback=null,k=v.priorityLevel;var me=Z(v.expirationTime<=_);if(_=n.unstable_now(),typeof me=="function"){v.callback=me,A(_),W=!0;break t}v===s(y)&&l(y),A(_)}else l(y);v=s(y)}if(v!==null)W=!0;else{var C=s(x);C!==null&&Y(I,C.startTime-_),W=!1}}break e}finally{v=null,k=Q,w=!1}W=void 0}}finally{W?ce():q=!1}}}var ce;if(typeof D=="function")ce=function(){D(re)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,oe=se.port2;se.port1.onmessage=re,ce=function(){oe.postMessage(null)}}else ce=function(){$(re,0)};function Y(_,W){M=$(function(){_(n.unstable_now())},W)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(_){_.callback=null},n.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<_?Math.floor(1e3/_):5},n.unstable_getCurrentPriorityLevel=function(){return k},n.unstable_next=function(_){switch(k){case 1:case 2:case 3:var W=3;break;default:W=k}var Q=k;k=W;try{return _()}finally{k=Q}},n.unstable_requestPaint=function(){V=!0},n.unstable_runWithPriority=function(_,W){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var Q=k;k=_;try{return W()}finally{k=Q}},n.unstable_scheduleCallback=function(_,W,Q){var Z=n.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?Z+Q:Z):Q=Z,_){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=Q+me,_={id:b++,callback:W,priorityLevel:_,startTime:Q,expirationTime:me,sortIndex:-1},Q>Z?(_.sortIndex=Q,r(x,_),s(y)===null&&_===s(x)&&(P?(U(M),M=-1):P=!0,Y(I,Q-Z))):(_.sortIndex=me,r(y,_),j||w||(j=!0,q||(q=!0,ce()))),_},n.unstable_shouldYield=z,n.unstable_wrapCallback=function(_){var W=k;return function(){var Q=k;k=W;try{return _.apply(this,arguments)}finally{k=Q}}}})(bc)),bc}var Xh;function rv(){return Xh||(Xh=1,yc.exports=tv()),yc.exports}var vc={exports:{}},Tt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qh;function nv(){if(Qh)return Tt;Qh=1;var n=qc();function r(y){var x="https://react.dev/errors/"+y;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)x+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+y+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var l={d:{f:s,r:function(){throw Error(r(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},d=Symbol.for("react.portal");function u(y,x,b){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:v==null?null:""+v,children:y,containerInfo:x,implementation:b}}var f=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,x){if(y==="font")return"";if(typeof x=="string")return x==="use-credentials"?x:""}return Tt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,Tt.createPortal=function(y,x){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)throw Error(r(299));return u(y,x,null,b)},Tt.flushSync=function(y){var x=f.T,b=l.p;try{if(f.T=null,l.p=2,y)return y()}finally{f.T=x,l.p=b,l.d.f()}},Tt.preconnect=function(y,x){typeof y=="string"&&(x?(x=x.crossOrigin,x=typeof x=="string"?x==="use-credentials"?x:"":void 0):x=null,l.d.C(y,x))},Tt.prefetchDNS=function(y){typeof y=="string"&&l.d.D(y)},Tt.preinit=function(y,x){if(typeof y=="string"&&x&&typeof x.as=="string"){var b=x.as,v=p(b,x.crossOrigin),k=typeof x.integrity=="string"?x.integrity:void 0,w=typeof x.fetchPriority=="string"?x.fetchPriority:void 0;b==="style"?l.d.S(y,typeof x.precedence=="string"?x.precedence:void 0,{crossOrigin:v,integrity:k,fetchPriority:w}):b==="script"&&l.d.X(y,{crossOrigin:v,integrity:k,fetchPriority:w,nonce:typeof x.nonce=="string"?x.nonce:void 0})}},Tt.preinitModule=function(y,x){if(typeof y=="string")if(typeof x=="object"&&x!==null){if(x.as==null||x.as==="script"){var b=p(x.as,x.crossOrigin);l.d.M(y,{crossOrigin:b,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0})}}else x==null&&l.d.M(y)},Tt.preload=function(y,x){if(typeof y=="string"&&typeof x=="object"&&x!==null&&typeof x.as=="string"){var b=x.as,v=p(b,x.crossOrigin);l.d.L(y,b,{crossOrigin:v,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0,type:typeof x.type=="string"?x.type:void 0,fetchPriority:typeof x.fetchPriority=="string"?x.fetchPriority:void 0,referrerPolicy:typeof x.referrerPolicy=="string"?x.referrerPolicy:void 0,imageSrcSet:typeof x.imageSrcSet=="string"?x.imageSrcSet:void 0,imageSizes:typeof x.imageSizes=="string"?x.imageSizes:void 0,media:typeof x.media=="string"?x.media:void 0})}},Tt.preloadModule=function(y,x){if(typeof y=="string")if(x){var b=p(x.as,x.crossOrigin);l.d.m(y,{as:typeof x.as=="string"&&x.as!=="script"?x.as:void 0,crossOrigin:b,integrity:typeof x.integrity=="string"?x.integrity:void 0})}else l.d.m(y)},Tt.requestFormReset=function(y){l.d.r(y)},Tt.unstable_batchedUpdates=function(y,x){return y(x)},Tt.useFormState=function(y,x,b){return f.H.useFormState(y,x,b)},Tt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Tt.version="19.2.0",Tt}var Zh;function av(){if(Zh)return vc.exports;Zh=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(r){console.error(r)}}return n(),vc.exports=nv(),vc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ep;function sv(){if(ep)return fi;ep=1;var n=rv(),r=qc(),s=av();function l(e){var a="https://react.dev/errors/"+e;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)a+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var a=e,i=e;if(e.alternate)for(;a.return;)a=a.return;else{e=a;do a=e,(a.flags&4098)!==0&&(i=a.return),e=a.return;while(e)}return a.tag===3?i:null}function f(e){if(e.tag===13){var a=e.memoizedState;if(a===null&&(e=e.alternate,e!==null&&(a=e.memoizedState)),a!==null)return a.dehydrated}return null}function p(e){if(e.tag===31){var a=e.memoizedState;if(a===null&&(e=e.alternate,e!==null&&(a=e.memoizedState)),a!==null)return a.dehydrated}return null}function y(e){if(u(e)!==e)throw Error(l(188))}function x(e){var a=e.alternate;if(!a){if(a=u(e),a===null)throw Error(l(188));return a!==e?null:e}for(var i=e,o=a;;){var h=i.return;if(h===null)break;var g=h.alternate;if(g===null){if(o=h.return,o!==null){i=o;continue}break}if(h.child===g.child){for(g=h.child;g;){if(g===i)return y(h),e;if(g===o)return y(h),a;g=g.sibling}throw Error(l(188))}if(i.return!==o.return)i=h,o=g;else{for(var N=!1,S=h.child;S;){if(S===i){N=!0,i=h,o=g;break}if(S===o){N=!0,o=h,i=g;break}S=S.sibling}if(!N){for(S=g.child;S;){if(S===i){N=!0,i=g,o=h;break}if(S===o){N=!0,o=g,i=h;break}S=S.sibling}if(!N)throw Error(l(189))}}if(i.alternate!==o)throw Error(l(190))}if(i.tag!==3)throw Error(l(188));return i.stateNode.current===i?e:a}function b(e){var a=e.tag;if(a===5||a===26||a===27||a===6)return e;for(e=e.child;e!==null;){if(a=b(e),a!==null)return a;e=e.sibling}return null}var v=Object.assign,k=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),U=Symbol.for("react.consumer"),D=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),re=Symbol.iterator;function ce(e){return e===null||typeof e!="object"?null:(e=re&&e[re]||e["@@iterator"],typeof e=="function"?e:null)}var se=Symbol.for("react.client.reference");function oe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===se?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case P:return"Fragment";case $:return"Profiler";case V:return"StrictMode";case I:return"Suspense";case q:return"SuspenseList";case F:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case j:return"Portal";case D:return e.displayName||"Context";case U:return(e._context.displayName||"Context")+".Consumer";case A:var a=e.render;return e=e.displayName,e||(e=a.displayName||a.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case M:return a=e.displayName||null,a!==null?a:oe(e.type)||"Memo";case ee:a=e._payload,e=e._init;try{return oe(e(a))}catch{}}return null}var Y=Array.isArray,_=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},Z=[],me=-1;function C(e){return{current:e}}function H(e){0>me||(e.current=Z[me],Z[me]=null,me--)}function X(e,a){me++,Z[me]=e.current,e.current=a}var ie=C(null),pe=C(null),J=C(null),he=C(null);function de(e,a){switch(X(J,a),X(pe,e),X(ie,null),a.nodeType){case 9:case 11:e=(e=a.documentElement)&&(e=e.namespaceURI)?ph(e):0;break;default:if(e=a.tagName,a=a.namespaceURI)a=ph(a),e=xh(a,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}H(ie),X(ie,e)}function fe(){H(ie),H(pe),H(J)}function be(e){e.memoizedState!==null&&X(he,e);var a=ie.current,i=xh(a,e.type);a!==i&&(X(pe,e),X(ie,i))}function He(e){pe.current===e&&(H(ie),H(pe)),he.current===e&&(H(he),oi._currentValue=Q)}var Ct,Et;function Re(e){if(Ct===void 0)try{throw Error()}catch(i){var a=i.stack.trim().match(/\n( *(at )?)/);Ct=a&&a[1]||"",Et=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ct+e+Et}var qe=!1;function $e(e,a){if(!e||qe)return"";qe=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(a){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(te){var K=te}Reflect.construct(e,[],le)}else{try{le.call()}catch(te){K=te}e.call(le.prototype)}}else{try{throw Error()}catch(te){K=te}(le=e())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(te){if(te&&K&&typeof te.stack=="string")return[te.stack,K.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=o.DetermineComponentFrameRoot(),N=g[0],S=g[1];if(N&&S){var R=N.split(`
`),O=S.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<O.length&&!O[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===O.length)for(o=R.length-1,h=O.length-1;1<=o&&0<=h&&R[o]!==O[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==O[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==O[h]){var ne=`
`+R[o].replace(" at new "," at ");return e.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",e.displayName)),ne}while(1<=o&&0<=h);break}}}finally{qe=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?Re(i):""}function gs(e,a){switch(e.tag){case 26:case 27:case 5:return Re(e.type);case 16:return Re("Lazy");case 13:return e.child!==a&&a!==null?Re("Suspense Fallback"):Re("Suspense");case 19:return Re("SuspenseList");case 0:case 15:return $e(e.type,!1);case 11:return $e(e.type.render,!1);case 1:return $e(e.type,!0);case 31:return Re("Activity");default:return""}}function Lt(e){try{var a="",i=null;do a+=gs(e,i),i=e,e=e.return;while(e);return a}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var dn=Object.prototype.hasOwnProperty,nt=n.unstable_scheduleCallback,kr=n.unstable_cancelCallback,Ir=n.unstable_shouldYield,Yn=n.unstable_requestPaint,Xe=n.unstable_now,pa=n.unstable_getCurrentPriorityLevel,Gt=n.unstable_ImmediatePriority,Fe=n.unstable_UserBlockingPriority,ct=n.unstable_NormalPriority,Ke=n.unstable_LowPriority,Ge=n.unstable_IdlePriority,fr=n.log,At=n.unstable_setDisableYieldValue,_t=null,Mt=null;function Nr(e){if(typeof fr=="function"&&At(e),Mt&&typeof Mt.setStrictMode=="function")try{Mt.setStrictMode(_t,e)}catch{}}var Rt=Math.clz32?Math.clz32:so,ao=Math.log,ys=Math.LN2;function so(e){return e>>>=0,e===0?32:31-(ao(e)/ys|0)|0}var xa=256,ga=262144,ya=4194304;function Pr(e){var a=e&42;if(a!==0)return a;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ba(e,a,i){var o=e.pendingLanes;if(o===0)return 0;var h=0,g=e.suspendedLanes,N=e.pingedLanes;e=e.warmLanes;var S=o&134217727;return S!==0?(o=S&~g,o!==0?h=Pr(o):(N&=S,N!==0?h=Pr(N):i||(i=S&~e,i!==0&&(h=Pr(i))))):(S=o&~g,S!==0?h=Pr(S):N!==0?h=Pr(N):i||(i=o&~e,i!==0&&(h=Pr(i)))),h===0?0:a!==0&&a!==h&&(a&g)===0&&(g=h&-h,i=a&-a,g>=i||g===32&&(i&4194048)!==0)?a:h}function Lr(e,a){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&a)===0}function ji(e,a){switch(e){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ci(){var e=ya;return ya<<=1,(ya&62914560)===0&&(ya=4194304),e}function bs(e){for(var a=[],i=0;31>i;i++)a.push(e);return a}function cn(e,a){e.pendingLanes|=a,a!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function io(e,a,i,o,h,g){var N=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var S=e.entanglements,R=e.expirationTimes,O=e.hiddenUpdates;for(i=N&~i;0<i;){var ne=31-Rt(i),le=1<<ne;S[ne]=0,R[ne]=-1;var K=O[ne];if(K!==null)for(O[ne]=null,ne=0;ne<K.length;ne++){var te=K[ne];te!==null&&(te.lane&=-536870913)}i&=~le}o!==0&&Jn(e,o,0),g!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=g&~(N&~a))}function Jn(e,a,i){e.pendingLanes|=a,e.suspendedLanes&=~a;var o=31-Rt(a);e.entangledLanes|=a,e.entanglements[o]=e.entanglements[o]|1073741824|i&261930}function va(e,a){var i=e.entangledLanes|=a;for(e=e.entanglements;i;){var o=31-Rt(i),h=1<<o;h&a|e[o]&a&&(e[o]|=a),i&=~h}}function vs(e,a){var i=a&-a;return i=(i&42)!==0?1:ka(i),(i&(e.suspendedLanes|a))!==0?0:i}function ka(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Na(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ks(){var e=W.p;return e!==0?e:(e=window.event,e===void 0?32:Vh(e.type))}function Ns(e,a){var i=W.p;try{return W.p=e,a()}finally{W.p=i}}var hr=Math.random().toString(36).slice(2),ut="__reactFiber$"+hr,vt="__reactProps$"+hr,Dr="__reactContainer$"+hr,wa="__reactEvents$"+hr,Ei="__reactListeners$"+hr,Ai="__reactHandles$"+hr,ws="__reactResources$"+hr,un="__reactMarker$"+hr;function Sa(e){delete e[ut],delete e[vt],delete e[wa],delete e[Ei],delete e[Ai]}function Ur(e){var a=e[ut];if(a)return a;for(var i=e.parentNode;i;){if(a=i[Dr]||i[ut]){if(i=a.alternate,a.child!==null||i!==null&&i.child!==null)for(e=wh(e);e!==null;){if(i=e[ut])return i;e=wh(e)}return a}e=i,i=e.parentNode}return null}function qr(e){if(e=e[ut]||e[Dr]){var a=e.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return e}return null}function mn(e){var a=e.tag;if(a===5||a===26||a===27||a===6)return e.stateNode;throw Error(l(33))}function Vr(e){var a=e[ws];return a||(a=e[ws]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function lt(e){e[un]=!0}var Ss=new Set,E={};function ge(e,a){at(e,a),at(e+"Capture",a)}function at(e,a){for(E[e]=a,e=0;e<a.length;e++)Ss.add(a[e])}var wr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fn={},hn={};function It(e){return dn.call(hn,e)?!0:dn.call(fn,e)?!1:wr.test(e)?hn[e]=!0:(fn[e]=!0,!1)}function Sr(e,a,i){if(It(a))if(i===null)e.removeAttribute(a);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(a);return;case"boolean":var o=a.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(a);return}}e.setAttribute(a,""+i)}}function _i(e,a,i){if(i===null)e.removeAttribute(a);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttribute(a,""+i)}}function Hr(e,a,i,o){if(o===null)e.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(a,i,""+o)}}function Zt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function iu(e){var a=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Og(e,a,i){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,a);if(!e.hasOwnProperty(a)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,g=o.set;return Object.defineProperty(e,a,{configurable:!0,get:function(){return h.call(this)},set:function(N){i=""+N,g.call(this,N)}}),Object.defineProperty(e,a,{enumerable:o.enumerable}),{getValue:function(){return i},setValue:function(N){i=""+N},stopTracking:function(){e._valueTracker=null,delete e[a]}}}}function lo(e){if(!e._valueTracker){var a=iu(e)?"checked":"value";e._valueTracker=Og(e,a,""+e[a])}}function lu(e){if(!e)return!1;var a=e._valueTracker;if(!a)return!0;var i=a.getValue(),o="";return e&&(o=iu(e)?e.checked?"true":"false":e.value),e=o,e!==i?(a.setValue(e),!0):!1}function Mi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Yg=/[\n"\\]/g;function er(e){return e.replace(Yg,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function oo(e,a,i,o,h,g,N,S){e.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?e.type=N:e.removeAttribute("type"),a!=null?N==="number"?(a===0&&e.value===""||e.value!=a)&&(e.value=""+Zt(a)):e.value!==""+Zt(a)&&(e.value=""+Zt(a)):N!=="submit"&&N!=="reset"||e.removeAttribute("value"),a!=null?co(e,N,Zt(a)):i!=null?co(e,N,Zt(i)):o!=null&&e.removeAttribute("value"),h==null&&g!=null&&(e.defaultChecked=!!g),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.name=""+Zt(S):e.removeAttribute("name")}function ou(e,a,i,o,h,g,N,S){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.type=g),a!=null||i!=null){if(!(g!=="submit"&&g!=="reset"||a!=null)){lo(e);return}i=i!=null?""+Zt(i):"",a=a!=null?""+Zt(a):i,S||a===e.value||(e.value=a),e.defaultValue=a}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=S?e.checked:!!o,e.defaultChecked=!!o,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(e.name=N),lo(e)}function co(e,a,i){a==="number"&&Mi(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function Ta(e,a,i,o){if(e=e.options,a){a={};for(var h=0;h<i.length;h++)a["$"+i[h]]=!0;for(i=0;i<e.length;i++)h=a.hasOwnProperty("$"+e[i].value),e[i].selected!==h&&(e[i].selected=h),h&&o&&(e[i].defaultSelected=!0)}else{for(i=""+Zt(i),a=null,h=0;h<e.length;h++){if(e[h].value===i){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}a!==null||e[h].disabled||(a=e[h])}a!==null&&(a.selected=!0)}}function du(e,a,i){if(a!=null&&(a=""+Zt(a),a!==e.value&&(e.value=a),i==null)){e.defaultValue!==a&&(e.defaultValue=a);return}e.defaultValue=i!=null?""+Zt(i):""}function cu(e,a,i,o){if(a==null){if(o!=null){if(i!=null)throw Error(l(92));if(Y(o)){if(1<o.length)throw Error(l(93));o=o[0]}i=o}i==null&&(i=""),a=i}i=Zt(a),e.defaultValue=i,o=e.textContent,o===i&&o!==""&&o!==null&&(e.value=o),lo(e)}function ja(e,a){if(a){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=a;return}}e.textContent=a}var Jg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function uu(e,a,i){var o=a.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?o?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="":o?e.setProperty(a,i):typeof i!="number"||i===0||Jg.has(a)?a==="float"?e.cssFloat=i:e[a]=(""+i).trim():e[a]=i+"px"}function mu(e,a,i){if(a!=null&&typeof a!="object")throw Error(l(62));if(e=e.style,i!=null){for(var o in i)!i.hasOwnProperty(o)||a!=null&&a.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in a)o=a[h],a.hasOwnProperty(h)&&i[h]!==o&&uu(e,h,o)}else for(var g in a)a.hasOwnProperty(g)&&uu(e,g,a[g])}function uo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Kg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ri(e){return Kg.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Fr(){}var mo=null;function fo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ca=null,Ea=null;function fu(e){var a=qr(e);if(a&&(e=a.stateNode)){var i=e[vt]||null;e:switch(e=a.stateNode,a.type){case"input":if(oo(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),a=i.name,i.type==="radio"&&a!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+er(""+a)+'"][type="radio"]'),a=0;a<i.length;a++){var o=i[a];if(o!==e&&o.form===e.form){var h=o[vt]||null;if(!h)throw Error(l(90));oo(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(a=0;a<i.length;a++)o=i[a],o.form===e.form&&lu(o)}break e;case"textarea":du(e,i.value,i.defaultValue);break e;case"select":a=i.value,a!=null&&Ta(e,!!i.multiple,a,!1)}}}var ho=!1;function hu(e,a,i){if(ho)return e(a,i);ho=!0;try{var o=e(a);return o}finally{if(ho=!1,(Ca!==null||Ea!==null)&&(bl(),Ca&&(a=Ca,e=Ea,Ea=Ca=null,fu(a),e)))for(a=0;a<e.length;a++)fu(e[a])}}function Ts(e,a){var i=e.stateNode;if(i===null)return null;var o=i[vt]||null;if(o===null)return null;i=o[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(l(231,a,typeof i));return i}var Br=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),po=!1;if(Br)try{var js={};Object.defineProperty(js,"passive",{get:function(){po=!0}}),window.addEventListener("test",js,js),window.removeEventListener("test",js,js)}catch{po=!1}var pn=null,xo=null,Ii=null;function pu(){if(Ii)return Ii;var e,a=xo,i=a.length,o,h="value"in pn?pn.value:pn.textContent,g=h.length;for(e=0;e<i&&a[e]===h[e];e++);var N=i-e;for(o=1;o<=N&&a[i-o]===h[g-o];o++);return Ii=h.slice(e,1<o?1-o:void 0)}function Pi(e){var a=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&a===13&&(e=13)):e=a,e===10&&(e=13),32<=e||e===13?e:0}function Li(){return!0}function xu(){return!1}function Dt(e){function a(i,o,h,g,N){this._reactName=i,this._targetInst=h,this.type=o,this.nativeEvent=g,this.target=N,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(i=e[S],this[S]=i?i(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Li:xu,this.isPropagationStopped=xu,this}return v(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Li)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Li)},persist:function(){},isPersistent:Li}),a}var Wn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Di=Dt(Wn),Cs=v({},Wn,{view:0,detail:0}),$g=Dt(Cs),go,yo,Es,Ui=v({},Cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Es&&(Es&&e.type==="mousemove"?(go=e.screenX-Es.screenX,yo=e.screenY-Es.screenY):yo=go=0,Es=e),go)},movementY:function(e){return"movementY"in e?e.movementY:yo}}),gu=Dt(Ui),Xg=v({},Ui,{dataTransfer:0}),Qg=Dt(Xg),Zg=v({},Cs,{relatedTarget:0}),bo=Dt(Zg),ey=v({},Wn,{animationName:0,elapsedTime:0,pseudoElement:0}),ty=Dt(ey),ry=v({},Wn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ny=Dt(ry),ay=v({},Wn,{data:0}),yu=Dt(ay),sy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ly={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oy(e){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(e):(e=ly[e])?!!a[e]:!1}function vo(){return oy}var dy=v({},Cs,{key:function(e){if(e.key){var a=sy[e.key]||e.key;if(a!=="Unidentified")return a}return e.type==="keypress"?(e=Pi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?iy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vo,charCode:function(e){return e.type==="keypress"?Pi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Pi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),cy=Dt(dy),uy=v({},Ui,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bu=Dt(uy),my=v({},Cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vo}),fy=Dt(my),hy=v({},Wn,{propertyName:0,elapsedTime:0,pseudoElement:0}),py=Dt(hy),xy=v({},Ui,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),gy=Dt(xy),yy=v({},Wn,{newState:0,oldState:0}),by=Dt(yy),vy=[9,13,27,32],ko=Br&&"CompositionEvent"in window,As=null;Br&&"documentMode"in document&&(As=document.documentMode);var ky=Br&&"TextEvent"in window&&!As,vu=Br&&(!ko||As&&8<As&&11>=As),ku=" ",Nu=!1;function wu(e,a){switch(e){case"keyup":return vy.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Su(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Aa=!1;function Ny(e,a){switch(e){case"compositionend":return Su(a);case"keypress":return a.which!==32?null:(Nu=!0,ku);case"textInput":return e=a.data,e===ku&&Nu?null:e;default:return null}}function wy(e,a){if(Aa)return e==="compositionend"||!ko&&wu(e,a)?(e=pu(),Ii=xo=pn=null,Aa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return vu&&a.locale!=="ko"?null:a.data;default:return null}}var Sy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tu(e){var a=e&&e.nodeName&&e.nodeName.toLowerCase();return a==="input"?!!Sy[e.type]:a==="textarea"}function ju(e,a,i,o){Ca?Ea?Ea.push(o):Ea=[o]:Ca=o,a=jl(a,"onChange"),0<a.length&&(i=new Di("onChange","change",null,i,o),e.push({event:i,listeners:a}))}var _s=null,Ms=null;function Ty(e){dh(e,0)}function qi(e){var a=mn(e);if(lu(a))return e}function Cu(e,a){if(e==="change")return a}var Eu=!1;if(Br){var No;if(Br){var wo="oninput"in document;if(!wo){var Au=document.createElement("div");Au.setAttribute("oninput","return;"),wo=typeof Au.oninput=="function"}No=wo}else No=!1;Eu=No&&(!document.documentMode||9<document.documentMode)}function _u(){_s&&(_s.detachEvent("onpropertychange",Mu),Ms=_s=null)}function Mu(e){if(e.propertyName==="value"&&qi(Ms)){var a=[];ju(a,Ms,e,fo(e)),hu(Ty,a)}}function jy(e,a,i){e==="focusin"?(_u(),_s=a,Ms=i,_s.attachEvent("onpropertychange",Mu)):e==="focusout"&&_u()}function Cy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return qi(Ms)}function Ey(e,a){if(e==="click")return qi(a)}function Ay(e,a){if(e==="input"||e==="change")return qi(a)}function _y(e,a){return e===a&&(e!==0||1/e===1/a)||e!==e&&a!==a}var Ot=typeof Object.is=="function"?Object.is:_y;function Rs(e,a){if(Ot(e,a))return!0;if(typeof e!="object"||e===null||typeof a!="object"||a===null)return!1;var i=Object.keys(e),o=Object.keys(a);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var h=i[o];if(!dn.call(a,h)||!Ot(e[h],a[h]))return!1}return!0}function Ru(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Iu(e,a){var i=Ru(e);e=0;for(var o;i;){if(i.nodeType===3){if(o=e+i.textContent.length,e<=a&&o>=a)return{node:i,offset:a-e};e=o}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Ru(i)}}function Pu(e,a){return e&&a?e===a?!0:e&&e.nodeType===3?!1:a&&a.nodeType===3?Pu(e,a.parentNode):"contains"in e?e.contains(a):e.compareDocumentPosition?!!(e.compareDocumentPosition(a)&16):!1:!1}function Lu(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var a=Mi(e.document);a instanceof e.HTMLIFrameElement;){try{var i=typeof a.contentWindow.location.href=="string"}catch{i=!1}if(i)e=a.contentWindow;else break;a=Mi(e.document)}return a}function So(e){var a=e&&e.nodeName&&e.nodeName.toLowerCase();return a&&(a==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||a==="textarea"||e.contentEditable==="true")}var My=Br&&"documentMode"in document&&11>=document.documentMode,_a=null,To=null,Is=null,jo=!1;function Du(e,a,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;jo||_a==null||_a!==Mi(o)||(o=_a,"selectionStart"in o&&So(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Is&&Rs(Is,o)||(Is=o,o=jl(To,"onSelect"),0<o.length&&(a=new Di("onSelect","select",null,a,i),e.push({event:a,listeners:o}),a.target=_a)))}function Kn(e,a){var i={};return i[e.toLowerCase()]=a.toLowerCase(),i["Webkit"+e]="webkit"+a,i["Moz"+e]="moz"+a,i}var Ma={animationend:Kn("Animation","AnimationEnd"),animationiteration:Kn("Animation","AnimationIteration"),animationstart:Kn("Animation","AnimationStart"),transitionrun:Kn("Transition","TransitionRun"),transitionstart:Kn("Transition","TransitionStart"),transitioncancel:Kn("Transition","TransitionCancel"),transitionend:Kn("Transition","TransitionEnd")},Co={},Uu={};Br&&(Uu=document.createElement("div").style,"AnimationEvent"in window||(delete Ma.animationend.animation,delete Ma.animationiteration.animation,delete Ma.animationstart.animation),"TransitionEvent"in window||delete Ma.transitionend.transition);function $n(e){if(Co[e])return Co[e];if(!Ma[e])return e;var a=Ma[e],i;for(i in a)if(a.hasOwnProperty(i)&&i in Uu)return Co[e]=a[i];return e}var qu=$n("animationend"),Vu=$n("animationiteration"),Hu=$n("animationstart"),Ry=$n("transitionrun"),Iy=$n("transitionstart"),Py=$n("transitioncancel"),Fu=$n("transitionend"),Bu=new Map,Eo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Eo.push("scrollEnd");function pr(e,a){Bu.set(e,a),ge(a,[e])}var Vi=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},tr=[],Ra=0,Ao=0;function Hi(){for(var e=Ra,a=Ao=Ra=0;a<e;){var i=tr[a];tr[a++]=null;var o=tr[a];tr[a++]=null;var h=tr[a];tr[a++]=null;var g=tr[a];if(tr[a++]=null,o!==null&&h!==null){var N=o.pending;N===null?h.next=h:(h.next=N.next,N.next=h),o.pending=h}g!==0&&zu(i,h,g)}}function Fi(e,a,i,o){tr[Ra++]=e,tr[Ra++]=a,tr[Ra++]=i,tr[Ra++]=o,Ao|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function _o(e,a,i,o){return Fi(e,a,i,o),Bi(e)}function Xn(e,a){return Fi(e,null,null,a),Bi(e)}function zu(e,a,i){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i);for(var h=!1,g=e.return;g!==null;)g.childLanes|=i,o=g.alternate,o!==null&&(o.childLanes|=i),g.tag===22&&(e=g.stateNode,e===null||e._visibility&1||(h=!0)),e=g,g=g.return;return e.tag===3?(g=e.stateNode,h&&a!==null&&(h=31-Rt(i),e=g.hiddenUpdates,o=e[h],o===null?e[h]=[a]:o.push(a),a.lane=i|536870912),g):null}function Bi(e){if(50<ti)throw ti=0,Vd=null,Error(l(185));for(var a=e.return;a!==null;)e=a,a=e.return;return e.tag===3?e.stateNode:null}var Ia={};function Ly(e,a,i,o){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yt(e,a,i,o){return new Ly(e,a,i,o)}function Mo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function zr(e,a){var i=e.alternate;return i===null?(i=Yt(e.tag,a,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=a,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,a=e.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function Gu(e,a){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=a,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,a=i.dependencies,e.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),e}function zi(e,a,i,o,h,g){var N=0;if(o=e,typeof e=="function")Mo(e)&&(N=1);else if(typeof e=="string")N=Hb(e,i,ie.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case F:return e=Yt(31,i,a,h),e.elementType=F,e.lanes=g,e;case P:return Qn(i.children,h,g,a);case V:N=8,h|=24;break;case $:return e=Yt(12,i,a,h|2),e.elementType=$,e.lanes=g,e;case I:return e=Yt(13,i,a,h),e.elementType=I,e.lanes=g,e;case q:return e=Yt(19,i,a,h),e.elementType=q,e.lanes=g,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case D:N=10;break e;case U:N=9;break e;case A:N=11;break e;case M:N=14;break e;case ee:N=16,o=null;break e}N=29,i=Error(l(130,e===null?"null":typeof e,"")),o=null}return a=Yt(N,i,a,h),a.elementType=e,a.type=o,a.lanes=g,a}function Qn(e,a,i,o){return e=Yt(7,e,o,a),e.lanes=i,e}function Ro(e,a,i){return e=Yt(6,e,null,a),e.lanes=i,e}function Ou(e){var a=Yt(18,null,null,0);return a.stateNode=e,a}function Io(e,a,i){return a=Yt(4,e.children!==null?e.children:[],e.key,a),a.lanes=i,a.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},a}var Yu=new WeakMap;function rr(e,a){if(typeof e=="object"&&e!==null){var i=Yu.get(e);return i!==void 0?i:(a={value:e,source:a,stack:Lt(a)},Yu.set(e,a),a)}return{value:e,source:a,stack:Lt(a)}}var Pa=[],La=0,Gi=null,Ps=0,nr=[],ar=0,xn=null,Tr=1,jr="";function Gr(e,a){Pa[La++]=Ps,Pa[La++]=Gi,Gi=e,Ps=a}function Ju(e,a,i){nr[ar++]=Tr,nr[ar++]=jr,nr[ar++]=xn,xn=e;var o=Tr;e=jr;var h=32-Rt(o)-1;o&=~(1<<h),i+=1;var g=32-Rt(a)+h;if(30<g){var N=h-h%5;g=(o&(1<<N)-1).toString(32),o>>=N,h-=N,Tr=1<<32-Rt(a)+h|i<<h|o,jr=g+e}else Tr=1<<g|i<<h|o,jr=e}function Po(e){e.return!==null&&(Gr(e,1),Ju(e,1,0))}function Lo(e){for(;e===Gi;)Gi=Pa[--La],Pa[La]=null,Ps=Pa[--La],Pa[La]=null;for(;e===xn;)xn=nr[--ar],nr[ar]=null,jr=nr[--ar],nr[ar]=null,Tr=nr[--ar],nr[ar]=null}function Wu(e,a){nr[ar++]=Tr,nr[ar++]=jr,nr[ar++]=xn,Tr=a.id,jr=a.overflow,xn=e}var kt=null,Qe=null,Ie=!1,gn=null,sr=!1,Do=Error(l(519));function yn(e){var a=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ls(rr(a,e)),Do}function Ku(e){var a=e.stateNode,i=e.type,o=e.memoizedProps;switch(a[ut]=e,a[vt]=o,i){case"dialog":Ee("cancel",a),Ee("close",a);break;case"iframe":case"object":case"embed":Ee("load",a);break;case"video":case"audio":for(i=0;i<ni.length;i++)Ee(ni[i],a);break;case"source":Ee("error",a);break;case"img":case"image":case"link":Ee("error",a),Ee("load",a);break;case"details":Ee("toggle",a);break;case"input":Ee("invalid",a),ou(a,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ee("invalid",a);break;case"textarea":Ee("invalid",a),cu(a,o.value,o.defaultValue,o.children)}i=o.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||a.textContent===""+i||o.suppressHydrationWarning===!0||fh(a.textContent,i)?(o.popover!=null&&(Ee("beforetoggle",a),Ee("toggle",a)),o.onScroll!=null&&Ee("scroll",a),o.onScrollEnd!=null&&Ee("scrollend",a),o.onClick!=null&&(a.onclick=Fr),a=!0):a=!1,a||yn(e,!0)}function $u(e){for(kt=e.return;kt;)switch(kt.tag){case 5:case 31:case 13:sr=!1;return;case 27:case 3:sr=!0;return;default:kt=kt.return}}function Da(e){if(e!==kt)return!1;if(!Ie)return $u(e),Ie=!0,!1;var a=e.tag,i;if((i=a!==3&&a!==27)&&((i=a===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||ec(e.type,e.memoizedProps)),i=!i),i&&Qe&&yn(e),$u(e),a===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Qe=Nh(e)}else if(a===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Qe=Nh(e)}else a===27?(a=Qe,Rn(e.type)?(e=sc,sc=null,Qe=e):Qe=a):Qe=kt?lr(e.stateNode.nextSibling):null;return!0}function Zn(){Qe=kt=null,Ie=!1}function Uo(){var e=gn;return e!==null&&(Ht===null?Ht=e:Ht.push.apply(Ht,e),gn=null),e}function Ls(e){gn===null?gn=[e]:gn.push(e)}var qo=C(null),ea=null,Or=null;function bn(e,a,i){X(qo,a._currentValue),a._currentValue=i}function Yr(e){e._currentValue=qo.current,H(qo)}function Vo(e,a,i){for(;e!==null;){var o=e.alternate;if((e.childLanes&a)!==a?(e.childLanes|=a,o!==null&&(o.childLanes|=a)):o!==null&&(o.childLanes&a)!==a&&(o.childLanes|=a),e===i)break;e=e.return}}function Ho(e,a,i,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var g=h.dependencies;if(g!==null){var N=h.child;g=g.firstContext;e:for(;g!==null;){var S=g;g=h;for(var R=0;R<a.length;R++)if(S.context===a[R]){g.lanes|=i,S=g.alternate,S!==null&&(S.lanes|=i),Vo(g.return,i,e),o||(N=null);break e}g=S.next}}else if(h.tag===18){if(N=h.return,N===null)throw Error(l(341));N.lanes|=i,g=N.alternate,g!==null&&(g.lanes|=i),Vo(N,i,e),N=null}else N=h.child;if(N!==null)N.return=h;else for(N=h;N!==null;){if(N===e){N=null;break}if(h=N.sibling,h!==null){h.return=N.return,N=h;break}N=N.return}h=N}}function Ua(e,a,i,o){e=null;for(var h=a,g=!1;h!==null;){if(!g){if((h.flags&524288)!==0)g=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var N=h.alternate;if(N===null)throw Error(l(387));if(N=N.memoizedProps,N!==null){var S=h.type;Ot(h.pendingProps.value,N.value)||(e!==null?e.push(S):e=[S])}}else if(h===he.current){if(N=h.alternate,N===null)throw Error(l(387));N.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(oi):e=[oi])}h=h.return}e!==null&&Ho(a,e,i,o),a.flags|=262144}function Oi(e){for(e=e.firstContext;e!==null;){if(!Ot(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ta(e){ea=e,Or=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Nt(e){return Xu(ea,e)}function Yi(e,a){return ea===null&&ta(e),Xu(e,a)}function Xu(e,a){var i=a._currentValue;if(a={context:a,memoizedValue:i,next:null},Or===null){if(e===null)throw Error(l(308));Or=a,e.dependencies={lanes:0,firstContext:a},e.flags|=524288}else Or=Or.next=a;return i}var Dy=typeof AbortController<"u"?AbortController:function(){var e=[],a=this.signal={aborted:!1,addEventListener:function(i,o){e.push(o)}};this.abort=function(){a.aborted=!0,e.forEach(function(i){return i()})}},Uy=n.unstable_scheduleCallback,qy=n.unstable_NormalPriority,mt={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fo(){return{controller:new Dy,data:new Map,refCount:0}}function Ds(e){e.refCount--,e.refCount===0&&Uy(qy,function(){e.controller.abort()})}var Us=null,Bo=0,qa=0,Va=null;function Vy(e,a){if(Us===null){var i=Us=[];Bo=0,qa=Od(),Va={status:"pending",value:void 0,then:function(o){i.push(o)}}}return Bo++,a.then(Qu,Qu),a}function Qu(){if(--Bo===0&&Us!==null){Va!==null&&(Va.status="fulfilled");var e=Us;Us=null,qa=0,Va=null;for(var a=0;a<e.length;a++)(0,e[a])()}}function Hy(e,a){var i=[],o={status:"pending",value:null,reason:null,then:function(h){i.push(h)}};return e.then(function(){o.status="fulfilled",o.value=a;for(var h=0;h<i.length;h++)(0,i[h])(a)},function(h){for(o.status="rejected",o.reason=h,h=0;h<i.length;h++)(0,i[h])(void 0)}),o}var Zu=_.S;_.S=function(e,a){Uf=Xe(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&Vy(e,a),Zu!==null&&Zu(e,a)};var ra=C(null);function zo(){var e=ra.current;return e!==null?e:We.pooledCache}function Ji(e,a){a===null?X(ra,ra.current):X(ra,a.pool)}function em(){var e=zo();return e===null?null:{parent:mt._currentValue,pool:e}}var Ha=Error(l(460)),Go=Error(l(474)),Wi=Error(l(542)),Ki={then:function(){}};function tm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function rm(e,a,i){switch(i=e[i],i===void 0?e.push(a):i!==a&&(a.then(Fr,Fr),a=i),a.status){case"fulfilled":return a.value;case"rejected":throw e=a.reason,am(e),e;default:if(typeof a.status=="string")a.then(Fr,Fr);else{if(e=We,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=a,e.status="pending",e.then(function(o){if(a.status==="pending"){var h=a;h.status="fulfilled",h.value=o}},function(o){if(a.status==="pending"){var h=a;h.status="rejected",h.reason=o}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw e=a.reason,am(e),e}throw aa=a,Ha}}function na(e){try{var a=e._init;return a(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(aa=i,Ha):i}}var aa=null;function nm(){if(aa===null)throw Error(l(459));var e=aa;return aa=null,e}function am(e){if(e===Ha||e===Wi)throw Error(l(483))}var Fa=null,qs=0;function $i(e){var a=qs;return qs+=1,Fa===null&&(Fa=[]),rm(Fa,e,a)}function Vs(e,a){a=a.props.ref,e.ref=a!==void 0?a:null}function Xi(e,a){throw a.$$typeof===k?Error(l(525)):(e=Object.prototype.toString.call(a),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":e)))}function sm(e){function a(B,L){if(e){var G=B.deletions;G===null?(B.deletions=[L],B.flags|=16):G.push(L)}}function i(B,L){if(!e)return null;for(;L!==null;)a(B,L),L=L.sibling;return null}function o(B){for(var L=new Map;B!==null;)B.key!==null?L.set(B.key,B):L.set(B.index,B),B=B.sibling;return L}function h(B,L){return B=zr(B,L),B.index=0,B.sibling=null,B}function g(B,L,G){return B.index=G,e?(G=B.alternate,G!==null?(G=G.index,G<L?(B.flags|=67108866,L):G):(B.flags|=67108866,L)):(B.flags|=1048576,L)}function N(B){return e&&B.alternate===null&&(B.flags|=67108866),B}function S(B,L,G,ae){return L===null||L.tag!==6?(L=Ro(G,B.mode,ae),L.return=B,L):(L=h(L,G),L.return=B,L)}function R(B,L,G,ae){var ke=G.type;return ke===P?ne(B,L,G.props.children,ae,G.key):L!==null&&(L.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===ee&&na(ke)===L.type)?(L=h(L,G.props),Vs(L,G),L.return=B,L):(L=zi(G.type,G.key,G.props,null,B.mode,ae),Vs(L,G),L.return=B,L)}function O(B,L,G,ae){return L===null||L.tag!==4||L.stateNode.containerInfo!==G.containerInfo||L.stateNode.implementation!==G.implementation?(L=Io(G,B.mode,ae),L.return=B,L):(L=h(L,G.children||[]),L.return=B,L)}function ne(B,L,G,ae,ke){return L===null||L.tag!==7?(L=Qn(G,B.mode,ae,ke),L.return=B,L):(L=h(L,G),L.return=B,L)}function le(B,L,G){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Ro(""+L,B.mode,G),L.return=B,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case w:return G=zi(L.type,L.key,L.props,null,B.mode,G),Vs(G,L),G.return=B,G;case j:return L=Io(L,B.mode,G),L.return=B,L;case ee:return L=na(L),le(B,L,G)}if(Y(L)||ce(L))return L=Qn(L,B.mode,G,null),L.return=B,L;if(typeof L.then=="function")return le(B,$i(L),G);if(L.$$typeof===D)return le(B,Yi(B,L),G);Xi(B,L)}return null}function K(B,L,G,ae){var ke=L!==null?L.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return ke!==null?null:S(B,L,""+G,ae);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case w:return G.key===ke?R(B,L,G,ae):null;case j:return G.key===ke?O(B,L,G,ae):null;case ee:return G=na(G),K(B,L,G,ae)}if(Y(G)||ce(G))return ke!==null?null:ne(B,L,G,ae,null);if(typeof G.then=="function")return K(B,L,$i(G),ae);if(G.$$typeof===D)return K(B,L,Yi(B,G),ae);Xi(B,G)}return null}function te(B,L,G,ae,ke){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return B=B.get(G)||null,S(L,B,""+ae,ke);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case w:return B=B.get(ae.key===null?G:ae.key)||null,R(L,B,ae,ke);case j:return B=B.get(ae.key===null?G:ae.key)||null,O(L,B,ae,ke);case ee:return ae=na(ae),te(B,L,G,ae,ke)}if(Y(ae)||ce(ae))return B=B.get(G)||null,ne(L,B,ae,ke,null);if(typeof ae.then=="function")return te(B,L,G,$i(ae),ke);if(ae.$$typeof===D)return te(B,L,G,Yi(L,ae),ke);Xi(L,ae)}return null}function ye(B,L,G,ae){for(var ke=null,Le=null,ve=L,Te=L=0,Me=null;ve!==null&&Te<G.length;Te++){ve.index>Te?(Me=ve,ve=null):Me=ve.sibling;var De=K(B,ve,G[Te],ae);if(De===null){ve===null&&(ve=Me);break}e&&ve&&De.alternate===null&&a(B,ve),L=g(De,L,Te),Le===null?ke=De:Le.sibling=De,Le=De,ve=Me}if(Te===G.length)return i(B,ve),Ie&&Gr(B,Te),ke;if(ve===null){for(;Te<G.length;Te++)ve=le(B,G[Te],ae),ve!==null&&(L=g(ve,L,Te),Le===null?ke=ve:Le.sibling=ve,Le=ve);return Ie&&Gr(B,Te),ke}for(ve=o(ve);Te<G.length;Te++)Me=te(ve,B,Te,G[Te],ae),Me!==null&&(e&&Me.alternate!==null&&ve.delete(Me.key===null?Te:Me.key),L=g(Me,L,Te),Le===null?ke=Me:Le.sibling=Me,Le=Me);return e&&ve.forEach(function(Un){return a(B,Un)}),Ie&&Gr(B,Te),ke}function Ne(B,L,G,ae){if(G==null)throw Error(l(151));for(var ke=null,Le=null,ve=L,Te=L=0,Me=null,De=G.next();ve!==null&&!De.done;Te++,De=G.next()){ve.index>Te?(Me=ve,ve=null):Me=ve.sibling;var Un=K(B,ve,De.value,ae);if(Un===null){ve===null&&(ve=Me);break}e&&ve&&Un.alternate===null&&a(B,ve),L=g(Un,L,Te),Le===null?ke=Un:Le.sibling=Un,Le=Un,ve=Me}if(De.done)return i(B,ve),Ie&&Gr(B,Te),ke;if(ve===null){for(;!De.done;Te++,De=G.next())De=le(B,De.value,ae),De!==null&&(L=g(De,L,Te),Le===null?ke=De:Le.sibling=De,Le=De);return Ie&&Gr(B,Te),ke}for(ve=o(ve);!De.done;Te++,De=G.next())De=te(ve,B,Te,De.value,ae),De!==null&&(e&&De.alternate!==null&&ve.delete(De.key===null?Te:De.key),L=g(De,L,Te),Le===null?ke=De:Le.sibling=De,Le=De);return e&&ve.forEach(function(Xb){return a(B,Xb)}),Ie&&Gr(B,Te),ke}function Je(B,L,G,ae){if(typeof G=="object"&&G!==null&&G.type===P&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case w:e:{for(var ke=G.key;L!==null;){if(L.key===ke){if(ke=G.type,ke===P){if(L.tag===7){i(B,L.sibling),ae=h(L,G.props.children),ae.return=B,B=ae;break e}}else if(L.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===ee&&na(ke)===L.type){i(B,L.sibling),ae=h(L,G.props),Vs(ae,G),ae.return=B,B=ae;break e}i(B,L);break}else a(B,L);L=L.sibling}G.type===P?(ae=Qn(G.props.children,B.mode,ae,G.key),ae.return=B,B=ae):(ae=zi(G.type,G.key,G.props,null,B.mode,ae),Vs(ae,G),ae.return=B,B=ae)}return N(B);case j:e:{for(ke=G.key;L!==null;){if(L.key===ke)if(L.tag===4&&L.stateNode.containerInfo===G.containerInfo&&L.stateNode.implementation===G.implementation){i(B,L.sibling),ae=h(L,G.children||[]),ae.return=B,B=ae;break e}else{i(B,L);break}else a(B,L);L=L.sibling}ae=Io(G,B.mode,ae),ae.return=B,B=ae}return N(B);case ee:return G=na(G),Je(B,L,G,ae)}if(Y(G))return ye(B,L,G,ae);if(ce(G)){if(ke=ce(G),typeof ke!="function")throw Error(l(150));return G=ke.call(G),Ne(B,L,G,ae)}if(typeof G.then=="function")return Je(B,L,$i(G),ae);if(G.$$typeof===D)return Je(B,L,Yi(B,G),ae);Xi(B,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,L!==null&&L.tag===6?(i(B,L.sibling),ae=h(L,G),ae.return=B,B=ae):(i(B,L),ae=Ro(G,B.mode,ae),ae.return=B,B=ae),N(B)):i(B,L)}return function(B,L,G,ae){try{qs=0;var ke=Je(B,L,G,ae);return Fa=null,ke}catch(ve){if(ve===Ha||ve===Wi)throw ve;var Le=Yt(29,ve,null,B.mode);return Le.lanes=ae,Le.return=B,Le}finally{}}}var sa=sm(!0),im=sm(!1),vn=!1;function Oo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yo(e,a){e=e.updateQueue,a.updateQueue===e&&(a.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function kn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Nn(e,a,i){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ve&2)!==0){var h=o.pending;return h===null?a.next=a:(a.next=h.next,h.next=a),o.pending=a,a=Bi(e),zu(e,null,i),a}return Fi(e,o,a,i),Bi(e)}function Hs(e,a,i){if(a=a.updateQueue,a!==null&&(a=a.shared,(i&4194048)!==0)){var o=a.lanes;o&=e.pendingLanes,i|=o,a.lanes=i,va(e,i)}}function Jo(e,a){var i=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var h=null,g=null;if(i=i.firstBaseUpdate,i!==null){do{var N={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};g===null?h=g=N:g=g.next=N,i=i.next}while(i!==null);g===null?h=g=a:g=g.next=a}else h=g=a;i={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:g,shared:o.shared,callbacks:o.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=a:e.next=a,i.lastBaseUpdate=a}var Wo=!1;function Fs(){if(Wo){var e=Va;if(e!==null)throw e}}function Bs(e,a,i,o){Wo=!1;var h=e.updateQueue;vn=!1;var g=h.firstBaseUpdate,N=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var R=S,O=R.next;R.next=null,N===null?g=O:N.next=O,N=R;var ne=e.alternate;ne!==null&&(ne=ne.updateQueue,S=ne.lastBaseUpdate,S!==N&&(S===null?ne.firstBaseUpdate=O:S.next=O,ne.lastBaseUpdate=R))}if(g!==null){var le=h.baseState;N=0,ne=O=R=null,S=g;do{var K=S.lane&-536870913,te=K!==S.lane;if(te?(_e&K)===K:(o&K)===K){K!==0&&K===qa&&(Wo=!0),ne!==null&&(ne=ne.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var ye=e,Ne=S;K=a;var Je=i;switch(Ne.tag){case 1:if(ye=Ne.payload,typeof ye=="function"){le=ye.call(Je,le,K);break e}le=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=Ne.payload,K=typeof ye=="function"?ye.call(Je,le,K):ye,K==null)break e;le=v({},le,K);break e;case 2:vn=!0}}K=S.callback,K!==null&&(e.flags|=64,te&&(e.flags|=8192),te=h.callbacks,te===null?h.callbacks=[K]:te.push(K))}else te={lane:K,tag:S.tag,payload:S.payload,callback:S.callback,next:null},ne===null?(O=ne=te,R=le):ne=ne.next=te,N|=K;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;te=S,S=te.next,te.next=null,h.lastBaseUpdate=te,h.shared.pending=null}}while(!0);ne===null&&(R=le),h.baseState=R,h.firstBaseUpdate=O,h.lastBaseUpdate=ne,g===null&&(h.shared.lanes=0),Cn|=N,e.lanes=N,e.memoizedState=le}}function lm(e,a){if(typeof e!="function")throw Error(l(191,e));e.call(a)}function om(e,a){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)lm(i[e],a)}var Ba=C(null),Qi=C(0);function dm(e,a){e=tn,X(Qi,e),X(Ba,a),tn=e|a.baseLanes}function Ko(){X(Qi,tn),X(Ba,Ba.current)}function $o(){tn=Qi.current,H(Ba),H(Qi)}var Jt=C(null),ir=null;function wn(e){var a=e.alternate;X(ot,ot.current&1),X(Jt,e),ir===null&&(a===null||Ba.current!==null||a.memoizedState!==null)&&(ir=e)}function Xo(e){X(ot,ot.current),X(Jt,e),ir===null&&(ir=e)}function cm(e){e.tag===22?(X(ot,ot.current),X(Jt,e),ir===null&&(ir=e)):Sn()}function Sn(){X(ot,ot.current),X(Jt,Jt.current)}function Wt(e){H(Jt),ir===e&&(ir=null),H(ot)}var ot=C(0);function Zi(e){for(var a=e;a!==null;){if(a.tag===13){var i=a.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||nc(i)||ac(i)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Jr=0,Se=null,Oe=null,ft=null,el=!1,za=!1,ia=!1,tl=0,zs=0,Ga=null,Fy=0;function st(){throw Error(l(321))}function Qo(e,a){if(a===null)return!1;for(var i=0;i<a.length&&i<e.length;i++)if(!Ot(e[i],a[i]))return!1;return!0}function Zo(e,a,i,o,h,g){return Jr=g,Se=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,_.H=e===null||e.memoizedState===null?Jm:hd,ia=!1,g=i(o,h),ia=!1,za&&(g=mm(a,i,o,h)),um(e),g}function um(e){_.H=Ys;var a=Oe!==null&&Oe.next!==null;if(Jr=0,ft=Oe=Se=null,el=!1,zs=0,Ga=null,a)throw Error(l(300));e===null||ht||(e=e.dependencies,e!==null&&Oi(e)&&(ht=!0))}function mm(e,a,i,o){Se=e;var h=0;do{if(za&&(Ga=null),zs=0,za=!1,25<=h)throw Error(l(301));if(h+=1,ft=Oe=null,e.updateQueue!=null){var g=e.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}_.H=Wm,g=a(i,o)}while(za);return g}function By(){var e=_.H,a=e.useState()[0];return a=typeof a.then=="function"?Gs(a):a,e=e.useState()[0],(Oe!==null?Oe.memoizedState:null)!==e&&(Se.flags|=1024),a}function ed(){var e=tl!==0;return tl=0,e}function td(e,a,i){a.updateQueue=e.updateQueue,a.flags&=-2053,e.lanes&=~i}function rd(e){if(el){for(e=e.memoizedState;e!==null;){var a=e.queue;a!==null&&(a.pending=null),e=e.next}el=!1}Jr=0,ft=Oe=Se=null,za=!1,zs=tl=0,Ga=null}function Pt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ft===null?Se.memoizedState=ft=e:ft=ft.next=e,ft}function dt(){if(Oe===null){var e=Se.alternate;e=e!==null?e.memoizedState:null}else e=Oe.next;var a=ft===null?Se.memoizedState:ft.next;if(a!==null)ft=a,Oe=e;else{if(e===null)throw Se.alternate===null?Error(l(467)):Error(l(310));Oe=e,e={memoizedState:Oe.memoizedState,baseState:Oe.baseState,baseQueue:Oe.baseQueue,queue:Oe.queue,next:null},ft===null?Se.memoizedState=ft=e:ft=ft.next=e}return ft}function rl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Gs(e){var a=zs;return zs+=1,Ga===null&&(Ga=[]),e=rm(Ga,e,a),a=Se,(ft===null?a.memoizedState:ft.next)===null&&(a=a.alternate,_.H=a===null||a.memoizedState===null?Jm:hd),e}function nl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Gs(e);if(e.$$typeof===D)return Nt(e)}throw Error(l(438,String(e)))}function nd(e){var a=null,i=Se.updateQueue;if(i!==null&&(a=i.memoCache),a==null){var o=Se.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(a={data:o.data.map(function(h){return h.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),i===null&&(i=rl(),Se.updateQueue=i),i.memoCache=a,i=a.data[a.index],i===void 0)for(i=a.data[a.index]=Array(e),o=0;o<e;o++)i[o]=z;return a.index++,i}function Wr(e,a){return typeof a=="function"?a(e):a}function al(e){var a=dt();return ad(a,Oe,e)}function ad(e,a,i){var o=e.queue;if(o===null)throw Error(l(311));o.lastRenderedReducer=i;var h=e.baseQueue,g=o.pending;if(g!==null){if(h!==null){var N=h.next;h.next=g.next,g.next=N}a.baseQueue=h=g,o.pending=null}if(g=e.baseState,h===null)e.memoizedState=g;else{a=h.next;var S=N=null,R=null,O=a,ne=!1;do{var le=O.lane&-536870913;if(le!==O.lane?(_e&le)===le:(Jr&le)===le){var K=O.revertLane;if(K===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),le===qa&&(ne=!0);else if((Jr&K)===K){O=O.next,K===qa&&(ne=!0);continue}else le={lane:0,revertLane:O.revertLane,gesture:null,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},R===null?(S=R=le,N=g):R=R.next=le,Se.lanes|=K,Cn|=K;le=O.action,ia&&i(g,le),g=O.hasEagerState?O.eagerState:i(g,le)}else K={lane:le,revertLane:O.revertLane,gesture:O.gesture,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},R===null?(S=R=K,N=g):R=R.next=K,Se.lanes|=le,Cn|=le;O=O.next}while(O!==null&&O!==a);if(R===null?N=g:R.next=S,!Ot(g,e.memoizedState)&&(ht=!0,ne&&(i=Va,i!==null)))throw i;e.memoizedState=g,e.baseState=N,e.baseQueue=R,o.lastRenderedState=g}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function sd(e){var a=dt(),i=a.queue;if(i===null)throw Error(l(311));i.lastRenderedReducer=e;var o=i.dispatch,h=i.pending,g=a.memoizedState;if(h!==null){i.pending=null;var N=h=h.next;do g=e(g,N.action),N=N.next;while(N!==h);Ot(g,a.memoizedState)||(ht=!0),a.memoizedState=g,a.baseQueue===null&&(a.baseState=g),i.lastRenderedState=g}return[g,o]}function fm(e,a,i){var o=Se,h=dt(),g=Ie;if(g){if(i===void 0)throw Error(l(407));i=i()}else i=a();var N=!Ot((Oe||h).memoizedState,i);if(N&&(h.memoizedState=i,ht=!0),h=h.queue,od(xm.bind(null,o,h,e),[e]),h.getSnapshot!==a||N||ft!==null&&ft.memoizedState.tag&1){if(o.flags|=2048,Oa(9,{destroy:void 0},pm.bind(null,o,h,i,a),null),We===null)throw Error(l(349));g||(Jr&127)!==0||hm(o,a,i)}return i}function hm(e,a,i){e.flags|=16384,e={getSnapshot:a,value:i},a=Se.updateQueue,a===null?(a=rl(),Se.updateQueue=a,a.stores=[e]):(i=a.stores,i===null?a.stores=[e]:i.push(e))}function pm(e,a,i,o){a.value=i,a.getSnapshot=o,gm(a)&&ym(e)}function xm(e,a,i){return i(function(){gm(a)&&ym(e)})}function gm(e){var a=e.getSnapshot;e=e.value;try{var i=a();return!Ot(e,i)}catch{return!0}}function ym(e){var a=Xn(e,2);a!==null&&Ft(a,e,2)}function id(e){var a=Pt();if(typeof e=="function"){var i=e;if(e=i(),ia){Nr(!0);try{i()}finally{Nr(!1)}}}return a.memoizedState=a.baseState=e,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wr,lastRenderedState:e},a}function bm(e,a,i,o){return e.baseState=i,ad(e,Oe,typeof o=="function"?o:Wr)}function zy(e,a,i,o,h){if(ll(e))throw Error(l(485));if(e=a.action,e!==null){var g={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){g.listeners.push(N)}};_.T!==null?i(!0):g.isTransition=!1,o(g),i=a.pending,i===null?(g.next=a.pending=g,vm(a,g)):(g.next=i.next,a.pending=i.next=g)}}function vm(e,a){var i=a.action,o=a.payload,h=e.state;if(a.isTransition){var g=_.T,N={};_.T=N;try{var S=i(h,o),R=_.S;R!==null&&R(N,S),km(e,a,S)}catch(O){ld(e,a,O)}finally{g!==null&&N.types!==null&&(g.types=N.types),_.T=g}}else try{g=i(h,o),km(e,a,g)}catch(O){ld(e,a,O)}}function km(e,a,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(o){Nm(e,a,o)},function(o){return ld(e,a,o)}):Nm(e,a,i)}function Nm(e,a,i){a.status="fulfilled",a.value=i,wm(a),e.state=i,a=e.pending,a!==null&&(i=a.next,i===a?e.pending=null:(i=i.next,a.next=i,vm(e,i)))}function ld(e,a,i){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do a.status="rejected",a.reason=i,wm(a),a=a.next;while(a!==o)}e.action=null}function wm(e){e=e.listeners;for(var a=0;a<e.length;a++)(0,e[a])()}function Sm(e,a){return a}function Tm(e,a){if(Ie){var i=We.formState;if(i!==null){e:{var o=Se;if(Ie){if(Qe){t:{for(var h=Qe,g=sr;h.nodeType!==8;){if(!g){h=null;break t}if(h=lr(h.nextSibling),h===null){h=null;break t}}g=h.data,h=g==="F!"||g==="F"?h:null}if(h){Qe=lr(h.nextSibling),o=h.data==="F!";break e}}yn(o)}o=!1}o&&(a=i[0])}}return i=Pt(),i.memoizedState=i.baseState=a,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sm,lastRenderedState:a},i.queue=o,i=Gm.bind(null,Se,o),o.dispatch=i,o=id(!1),g=fd.bind(null,Se,!1,o.queue),o=Pt(),h={state:a,dispatch:null,action:e,pending:null},o.queue=h,i=zy.bind(null,Se,h,g,i),h.dispatch=i,o.memoizedState=e,[a,i,!1]}function jm(e){var a=dt();return Cm(a,Oe,e)}function Cm(e,a,i){if(a=ad(e,a,Sm)[0],e=al(Wr)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var o=Gs(a)}catch(N){throw N===Ha?Wi:N}else o=a;a=dt();var h=a.queue,g=h.dispatch;return i!==a.memoizedState&&(Se.flags|=2048,Oa(9,{destroy:void 0},Gy.bind(null,h,i),null)),[o,g,e]}function Gy(e,a){e.action=a}function Em(e){var a=dt(),i=Oe;if(i!==null)return Cm(a,i,e);dt(),a=a.memoizedState,i=dt();var o=i.queue.dispatch;return i.memoizedState=e,[a,o,!1]}function Oa(e,a,i,o){return e={tag:e,create:i,deps:o,inst:a,next:null},a=Se.updateQueue,a===null&&(a=rl(),Se.updateQueue=a),i=a.lastEffect,i===null?a.lastEffect=e.next=e:(o=i.next,i.next=e,e.next=o,a.lastEffect=e),e}function Am(){return dt().memoizedState}function sl(e,a,i,o){var h=Pt();Se.flags|=e,h.memoizedState=Oa(1|a,{destroy:void 0},i,o===void 0?null:o)}function il(e,a,i,o){var h=dt();o=o===void 0?null:o;var g=h.memoizedState.inst;Oe!==null&&o!==null&&Qo(o,Oe.memoizedState.deps)?h.memoizedState=Oa(a,g,i,o):(Se.flags|=e,h.memoizedState=Oa(1|a,g,i,o))}function _m(e,a){sl(8390656,8,e,a)}function od(e,a){il(2048,8,e,a)}function Oy(e){Se.flags|=4;var a=Se.updateQueue;if(a===null)a=rl(),Se.updateQueue=a,a.events=[e];else{var i=a.events;i===null?a.events=[e]:i.push(e)}}function Mm(e){var a=dt().memoizedState;return Oy({ref:a,nextImpl:e}),function(){if((Ve&2)!==0)throw Error(l(440));return a.impl.apply(void 0,arguments)}}function Rm(e,a){return il(4,2,e,a)}function Im(e,a){return il(4,4,e,a)}function Pm(e,a){if(typeof a=="function"){e=e();var i=a(e);return function(){typeof i=="function"?i():a(null)}}if(a!=null)return e=e(),a.current=e,function(){a.current=null}}function Lm(e,a,i){i=i!=null?i.concat([e]):null,il(4,4,Pm.bind(null,a,e),i)}function dd(){}function Dm(e,a){var i=dt();a=a===void 0?null:a;var o=i.memoizedState;return a!==null&&Qo(a,o[1])?o[0]:(i.memoizedState=[e,a],e)}function Um(e,a){var i=dt();a=a===void 0?null:a;var o=i.memoizedState;if(a!==null&&Qo(a,o[1]))return o[0];if(o=e(),ia){Nr(!0);try{e()}finally{Nr(!1)}}return i.memoizedState=[o,a],o}function cd(e,a,i){return i===void 0||(Jr&1073741824)!==0&&(_e&261930)===0?e.memoizedState=a:(e.memoizedState=i,e=Vf(),Se.lanes|=e,Cn|=e,i)}function qm(e,a,i,o){return Ot(i,a)?i:Ba.current!==null?(e=cd(e,i,o),Ot(e,a)||(ht=!0),e):(Jr&42)===0||(Jr&1073741824)!==0&&(_e&261930)===0?(ht=!0,e.memoizedState=i):(e=Vf(),Se.lanes|=e,Cn|=e,a)}function Vm(e,a,i,o,h){var g=W.p;W.p=g!==0&&8>g?g:8;var N=_.T,S={};_.T=S,fd(e,!1,a,i);try{var R=h(),O=_.S;if(O!==null&&O(S,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var ne=Hy(R,o);Os(e,a,ne,Xt(e))}else Os(e,a,o,Xt(e))}catch(le){Os(e,a,{then:function(){},status:"rejected",reason:le},Xt())}finally{W.p=g,N!==null&&S.types!==null&&(N.types=S.types),_.T=N}}function Yy(){}function ud(e,a,i,o){if(e.tag!==5)throw Error(l(476));var h=Hm(e).queue;Vm(e,h,a,Q,i===null?Yy:function(){return Fm(e),i(o)})}function Hm(e){var a=e.memoizedState;if(a!==null)return a;a={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wr,lastRenderedState:Q},next:null};var i={};return a.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wr,lastRenderedState:i},next:null},e.memoizedState=a,e=e.alternate,e!==null&&(e.memoizedState=a),a}function Fm(e){var a=Hm(e);a.next===null&&(a=e.alternate.memoizedState),Os(e,a.next.queue,{},Xt())}function md(){return Nt(oi)}function Bm(){return dt().memoizedState}function zm(){return dt().memoizedState}function Jy(e){for(var a=e.return;a!==null;){switch(a.tag){case 24:case 3:var i=Xt();e=kn(i);var o=Nn(a,e,i);o!==null&&(Ft(o,a,i),Hs(o,a,i)),a={cache:Fo()},e.payload=a;return}a=a.return}}function Wy(e,a,i){var o=Xt();i={lane:o,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},ll(e)?Om(a,i):(i=_o(e,a,i,o),i!==null&&(Ft(i,e,o),Ym(i,a,o)))}function Gm(e,a,i){var o=Xt();Os(e,a,i,o)}function Os(e,a,i,o){var h={lane:o,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(ll(e))Om(a,h);else{var g=e.alternate;if(e.lanes===0&&(g===null||g.lanes===0)&&(g=a.lastRenderedReducer,g!==null))try{var N=a.lastRenderedState,S=g(N,i);if(h.hasEagerState=!0,h.eagerState=S,Ot(S,N))return Fi(e,a,h,0),We===null&&Hi(),!1}catch{}finally{}if(i=_o(e,a,h,o),i!==null)return Ft(i,e,o),Ym(i,a,o),!0}return!1}function fd(e,a,i,o){if(o={lane:2,revertLane:Od(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},ll(e)){if(a)throw Error(l(479))}else a=_o(e,i,o,2),a!==null&&Ft(a,e,2)}function ll(e){var a=e.alternate;return e===Se||a!==null&&a===Se}function Om(e,a){za=el=!0;var i=e.pending;i===null?a.next=a:(a.next=i.next,i.next=a),e.pending=a}function Ym(e,a,i){if((i&4194048)!==0){var o=a.lanes;o&=e.pendingLanes,i|=o,a.lanes=i,va(e,i)}}var Ys={readContext:Nt,use:nl,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useLayoutEffect:st,useInsertionEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useSyncExternalStore:st,useId:st,useHostTransitionStatus:st,useFormState:st,useActionState:st,useOptimistic:st,useMemoCache:st,useCacheRefresh:st};Ys.useEffectEvent=st;var Jm={readContext:Nt,use:nl,useCallback:function(e,a){return Pt().memoizedState=[e,a===void 0?null:a],e},useContext:Nt,useEffect:_m,useImperativeHandle:function(e,a,i){i=i!=null?i.concat([e]):null,sl(4194308,4,Pm.bind(null,a,e),i)},useLayoutEffect:function(e,a){return sl(4194308,4,e,a)},useInsertionEffect:function(e,a){sl(4,2,e,a)},useMemo:function(e,a){var i=Pt();a=a===void 0?null:a;var o=e();if(ia){Nr(!0);try{e()}finally{Nr(!1)}}return i.memoizedState=[o,a],o},useReducer:function(e,a,i){var o=Pt();if(i!==void 0){var h=i(a);if(ia){Nr(!0);try{i(a)}finally{Nr(!1)}}}else h=a;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=Wy.bind(null,Se,e),[o.memoizedState,e]},useRef:function(e){var a=Pt();return e={current:e},a.memoizedState=e},useState:function(e){e=id(e);var a=e.queue,i=Gm.bind(null,Se,a);return a.dispatch=i,[e.memoizedState,i]},useDebugValue:dd,useDeferredValue:function(e,a){var i=Pt();return cd(i,e,a)},useTransition:function(){var e=id(!1);return e=Vm.bind(null,Se,e.queue,!0,!1),Pt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,a,i){var o=Se,h=Pt();if(Ie){if(i===void 0)throw Error(l(407));i=i()}else{if(i=a(),We===null)throw Error(l(349));(_e&127)!==0||hm(o,a,i)}h.memoizedState=i;var g={value:i,getSnapshot:a};return h.queue=g,_m(xm.bind(null,o,g,e),[e]),o.flags|=2048,Oa(9,{destroy:void 0},pm.bind(null,o,g,i,a),null),i},useId:function(){var e=Pt(),a=We.identifierPrefix;if(Ie){var i=jr,o=Tr;i=(o&~(1<<32-Rt(o)-1)).toString(32)+i,a="_"+a+"R_"+i,i=tl++,0<i&&(a+="H"+i.toString(32)),a+="_"}else i=Fy++,a="_"+a+"r_"+i.toString(32)+"_";return e.memoizedState=a},useHostTransitionStatus:md,useFormState:Tm,useActionState:Tm,useOptimistic:function(e){var a=Pt();a.memoizedState=a.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=i,a=fd.bind(null,Se,!0,i),i.dispatch=a,[e,a]},useMemoCache:nd,useCacheRefresh:function(){return Pt().memoizedState=Jy.bind(null,Se)},useEffectEvent:function(e){var a=Pt(),i={impl:e};return a.memoizedState=i,function(){if((Ve&2)!==0)throw Error(l(440));return i.impl.apply(void 0,arguments)}}},hd={readContext:Nt,use:nl,useCallback:Dm,useContext:Nt,useEffect:od,useImperativeHandle:Lm,useInsertionEffect:Rm,useLayoutEffect:Im,useMemo:Um,useReducer:al,useRef:Am,useState:function(){return al(Wr)},useDebugValue:dd,useDeferredValue:function(e,a){var i=dt();return qm(i,Oe.memoizedState,e,a)},useTransition:function(){var e=al(Wr)[0],a=dt().memoizedState;return[typeof e=="boolean"?e:Gs(e),a]},useSyncExternalStore:fm,useId:Bm,useHostTransitionStatus:md,useFormState:jm,useActionState:jm,useOptimistic:function(e,a){var i=dt();return bm(i,Oe,e,a)},useMemoCache:nd,useCacheRefresh:zm};hd.useEffectEvent=Mm;var Wm={readContext:Nt,use:nl,useCallback:Dm,useContext:Nt,useEffect:od,useImperativeHandle:Lm,useInsertionEffect:Rm,useLayoutEffect:Im,useMemo:Um,useReducer:sd,useRef:Am,useState:function(){return sd(Wr)},useDebugValue:dd,useDeferredValue:function(e,a){var i=dt();return Oe===null?cd(i,e,a):qm(i,Oe.memoizedState,e,a)},useTransition:function(){var e=sd(Wr)[0],a=dt().memoizedState;return[typeof e=="boolean"?e:Gs(e),a]},useSyncExternalStore:fm,useId:Bm,useHostTransitionStatus:md,useFormState:Em,useActionState:Em,useOptimistic:function(e,a){var i=dt();return Oe!==null?bm(i,Oe,e,a):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:nd,useCacheRefresh:zm};Wm.useEffectEvent=Mm;function pd(e,a,i,o){a=e.memoizedState,i=i(o,a),i=i==null?a:v({},a,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var xd={enqueueSetState:function(e,a,i){e=e._reactInternals;var o=Xt(),h=kn(o);h.payload=a,i!=null&&(h.callback=i),a=Nn(e,h,o),a!==null&&(Ft(a,e,o),Hs(a,e,o))},enqueueReplaceState:function(e,a,i){e=e._reactInternals;var o=Xt(),h=kn(o);h.tag=1,h.payload=a,i!=null&&(h.callback=i),a=Nn(e,h,o),a!==null&&(Ft(a,e,o),Hs(a,e,o))},enqueueForceUpdate:function(e,a){e=e._reactInternals;var i=Xt(),o=kn(i);o.tag=2,a!=null&&(o.callback=a),a=Nn(e,o,i),a!==null&&(Ft(a,e,i),Hs(a,e,i))}};function Km(e,a,i,o,h,g,N){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,g,N):a.prototype&&a.prototype.isPureReactComponent?!Rs(i,o)||!Rs(h,g):!0}function $m(e,a,i,o){e=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(i,o),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(i,o),a.state!==e&&xd.enqueueReplaceState(a,a.state,null)}function la(e,a){var i=a;if("ref"in a){i={};for(var o in a)o!=="ref"&&(i[o]=a[o])}if(e=e.defaultProps){i===a&&(i=v({},i));for(var h in e)i[h]===void 0&&(i[h]=e[h])}return i}function Xm(e){Vi(e)}function Qm(e){console.error(e)}function Zm(e){Vi(e)}function ol(e,a){try{var i=e.onUncaughtError;i(a.value,{componentStack:a.stack})}catch(o){setTimeout(function(){throw o})}}function ef(e,a,i){try{var o=e.onCaughtError;o(i.value,{componentStack:i.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function gd(e,a,i){return i=kn(i),i.tag=3,i.payload={element:null},i.callback=function(){ol(e,a)},i}function tf(e){return e=kn(e),e.tag=3,e}function rf(e,a,i,o){var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var g=o.value;e.payload=function(){return h(g)},e.callback=function(){ef(a,i,o)}}var N=i.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(e.callback=function(){ef(a,i,o),typeof h!="function"&&(En===null?En=new Set([this]):En.add(this));var S=o.stack;this.componentDidCatch(o.value,{componentStack:S!==null?S:""})})}function Ky(e,a,i,o,h){if(i.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(a=i.alternate,a!==null&&Ua(a,i,h,!0),i=Jt.current,i!==null){switch(i.tag){case 31:case 13:return ir===null?vl():i.alternate===null&&it===0&&(it=3),i.flags&=-257,i.flags|=65536,i.lanes=h,o===Ki?i.flags|=16384:(a=i.updateQueue,a===null?i.updateQueue=new Set([o]):a.add(o),Bd(e,o,h)),!1;case 22:return i.flags|=65536,o===Ki?i.flags|=16384:(a=i.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([o])},i.updateQueue=a):(i=a.retryQueue,i===null?a.retryQueue=new Set([o]):i.add(o)),Bd(e,o,h)),!1}throw Error(l(435,i.tag))}return Bd(e,o,h),vl(),!1}if(Ie)return a=Jt.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=h,o!==Do&&(e=Error(l(422),{cause:o}),Ls(rr(e,i)))):(o!==Do&&(a=Error(l(423),{cause:o}),Ls(rr(a,i))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=rr(o,i),h=gd(e.stateNode,o,h),Jo(e,h),it!==4&&(it=2)),!1;var g=Error(l(520),{cause:o});if(g=rr(g,i),ei===null?ei=[g]:ei.push(g),it!==4&&(it=2),a===null)return!0;o=rr(o,i),i=a;do{switch(i.tag){case 3:return i.flags|=65536,e=h&-h,i.lanes|=e,e=gd(i.stateNode,o,e),Jo(i,e),!1;case 1:if(a=i.type,g=i.stateNode,(i.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(En===null||!En.has(g))))return i.flags|=65536,h&=-h,i.lanes|=h,h=tf(h),rf(h,e,i,o),Jo(i,h),!1}i=i.return}while(i!==null);return!1}var yd=Error(l(461)),ht=!1;function wt(e,a,i,o){a.child=e===null?im(a,null,i,o):sa(a,e.child,i,o)}function nf(e,a,i,o,h){i=i.render;var g=a.ref;if("ref"in o){var N={};for(var S in o)S!=="ref"&&(N[S]=o[S])}else N=o;return ta(a),o=Zo(e,a,i,N,g,h),S=ed(),e!==null&&!ht?(td(e,a,h),Kr(e,a,h)):(Ie&&S&&Po(a),a.flags|=1,wt(e,a,o,h),a.child)}function af(e,a,i,o,h){if(e===null){var g=i.type;return typeof g=="function"&&!Mo(g)&&g.defaultProps===void 0&&i.compare===null?(a.tag=15,a.type=g,sf(e,a,g,o,h)):(e=zi(i.type,null,o,a,a.mode,h),e.ref=a.ref,e.return=a,a.child=e)}if(g=e.child,!jd(e,h)){var N=g.memoizedProps;if(i=i.compare,i=i!==null?i:Rs,i(N,o)&&e.ref===a.ref)return Kr(e,a,h)}return a.flags|=1,e=zr(g,o),e.ref=a.ref,e.return=a,a.child=e}function sf(e,a,i,o,h){if(e!==null){var g=e.memoizedProps;if(Rs(g,o)&&e.ref===a.ref)if(ht=!1,a.pendingProps=o=g,jd(e,h))(e.flags&131072)!==0&&(ht=!0);else return a.lanes=e.lanes,Kr(e,a,h)}return bd(e,a,i,o,h)}function lf(e,a,i,o){var h=o.children,g=e!==null?e.memoizedState:null;if(e===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((a.flags&128)!==0){if(g=g!==null?g.baseLanes|i:i,e!==null){for(o=a.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~g}else o=0,a.child=null;return of(e,a,g,i,o)}if((i&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ji(a,g!==null?g.cachePool:null),g!==null?dm(a,g):Ko(),cm(a);else return o=a.lanes=536870912,of(e,a,g!==null?g.baseLanes|i:i,i,o)}else g!==null?(Ji(a,g.cachePool),dm(a,g),Sn(),a.memoizedState=null):(e!==null&&Ji(a,null),Ko(),Sn());return wt(e,a,h,i),a.child}function Js(e,a){return e!==null&&e.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function of(e,a,i,o,h){var g=zo();return g=g===null?null:{parent:mt._currentValue,pool:g},a.memoizedState={baseLanes:i,cachePool:g},e!==null&&Ji(a,null),Ko(),cm(a),e!==null&&Ua(e,a,o,!0),a.childLanes=h,null}function dl(e,a){return a=ul({mode:a.mode,children:a.children},e.mode),a.ref=e.ref,e.child=a,a.return=e,a}function df(e,a,i){return sa(a,e.child,null,i),e=dl(a,a.pendingProps),e.flags|=2,Wt(a),a.memoizedState=null,e}function $y(e,a,i){var o=a.pendingProps,h=(a.flags&128)!==0;if(a.flags&=-129,e===null){if(Ie){if(o.mode==="hidden")return e=dl(a,o),a.lanes=536870912,Js(null,e);if(Xo(a),(e=Qe)?(e=kh(e,sr),e=e!==null&&e.data==="&"?e:null,e!==null&&(a.memoizedState={dehydrated:e,treeContext:xn!==null?{id:Tr,overflow:jr}:null,retryLane:536870912,hydrationErrors:null},i=Ou(e),i.return=a,a.child=i,kt=a,Qe=null)):e=null,e===null)throw yn(a);return a.lanes=536870912,null}return dl(a,o)}var g=e.memoizedState;if(g!==null){var N=g.dehydrated;if(Xo(a),h)if(a.flags&256)a.flags&=-257,a=df(e,a,i);else if(a.memoizedState!==null)a.child=e.child,a.flags|=128,a=null;else throw Error(l(558));else if(ht||Ua(e,a,i,!1),h=(i&e.childLanes)!==0,ht||h){if(o=We,o!==null&&(N=vs(o,i),N!==0&&N!==g.retryLane))throw g.retryLane=N,Xn(e,N),Ft(o,e,N),yd;vl(),a=df(e,a,i)}else e=g.treeContext,Qe=lr(N.nextSibling),kt=a,Ie=!0,gn=null,sr=!1,e!==null&&Wu(a,e),a=dl(a,o),a.flags|=4096;return a}return e=zr(e.child,{mode:o.mode,children:o.children}),e.ref=a.ref,a.child=e,e.return=a,e}function cl(e,a){var i=a.ref;if(i===null)e!==null&&e.ref!==null&&(a.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(l(284));(e===null||e.ref!==i)&&(a.flags|=4194816)}}function bd(e,a,i,o,h){return ta(a),i=Zo(e,a,i,o,void 0,h),o=ed(),e!==null&&!ht?(td(e,a,h),Kr(e,a,h)):(Ie&&o&&Po(a),a.flags|=1,wt(e,a,i,h),a.child)}function cf(e,a,i,o,h,g){return ta(a),a.updateQueue=null,i=mm(a,o,i,h),um(e),o=ed(),e!==null&&!ht?(td(e,a,g),Kr(e,a,g)):(Ie&&o&&Po(a),a.flags|=1,wt(e,a,i,g),a.child)}function uf(e,a,i,o,h){if(ta(a),a.stateNode===null){var g=Ia,N=i.contextType;typeof N=="object"&&N!==null&&(g=Nt(N)),g=new i(o,g),a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=xd,a.stateNode=g,g._reactInternals=a,g=a.stateNode,g.props=o,g.state=a.memoizedState,g.refs={},Oo(a),N=i.contextType,g.context=typeof N=="object"&&N!==null?Nt(N):Ia,g.state=a.memoizedState,N=i.getDerivedStateFromProps,typeof N=="function"&&(pd(a,i,N,o),g.state=a.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(N=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),N!==g.state&&xd.enqueueReplaceState(g,g.state,null),Bs(a,o,g,h),Fs(),g.state=a.memoizedState),typeof g.componentDidMount=="function"&&(a.flags|=4194308),o=!0}else if(e===null){g=a.stateNode;var S=a.memoizedProps,R=la(i,S);g.props=R;var O=g.context,ne=i.contextType;N=Ia,typeof ne=="object"&&ne!==null&&(N=Nt(ne));var le=i.getDerivedStateFromProps;ne=typeof le=="function"||typeof g.getSnapshotBeforeUpdate=="function",S=a.pendingProps!==S,ne||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S||O!==N)&&$m(a,g,o,N),vn=!1;var K=a.memoizedState;g.state=K,Bs(a,o,g,h),Fs(),O=a.memoizedState,S||K!==O||vn?(typeof le=="function"&&(pd(a,i,le,o),O=a.memoizedState),(R=vn||Km(a,i,R,o,K,O,N))?(ne||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(a.flags|=4194308)):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=o,a.memoizedState=O),g.props=o,g.state=O,g.context=N,o=R):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),o=!1)}else{g=a.stateNode,Yo(e,a),N=a.memoizedProps,ne=la(i,N),g.props=ne,le=a.pendingProps,K=g.context,O=i.contextType,R=Ia,typeof O=="object"&&O!==null&&(R=Nt(O)),S=i.getDerivedStateFromProps,(O=typeof S=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(N!==le||K!==R)&&$m(a,g,o,R),vn=!1,K=a.memoizedState,g.state=K,Bs(a,o,g,h),Fs();var te=a.memoizedState;N!==le||K!==te||vn||e!==null&&e.dependencies!==null&&Oi(e.dependencies)?(typeof S=="function"&&(pd(a,i,S,o),te=a.memoizedState),(ne=vn||Km(a,i,ne,o,K,te,R)||e!==null&&e.dependencies!==null&&Oi(e.dependencies))?(O||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(o,te,R),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(o,te,R)),typeof g.componentDidUpdate=="function"&&(a.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof g.componentDidUpdate!="function"||N===e.memoizedProps&&K===e.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||N===e.memoizedProps&&K===e.memoizedState||(a.flags|=1024),a.memoizedProps=o,a.memoizedState=te),g.props=o,g.state=te,g.context=R,o=ne):(typeof g.componentDidUpdate!="function"||N===e.memoizedProps&&K===e.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||N===e.memoizedProps&&K===e.memoizedState||(a.flags|=1024),o=!1)}return g=o,cl(e,a),o=(a.flags&128)!==0,g||o?(g=a.stateNode,i=o&&typeof i.getDerivedStateFromError!="function"?null:g.render(),a.flags|=1,e!==null&&o?(a.child=sa(a,e.child,null,h),a.child=sa(a,null,i,h)):wt(e,a,i,h),a.memoizedState=g.state,e=a.child):e=Kr(e,a,h),e}function mf(e,a,i,o){return Zn(),a.flags|=256,wt(e,a,i,o),a.child}var vd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function kd(e){return{baseLanes:e,cachePool:em()}}function Nd(e,a,i){return e=e!==null?e.childLanes&~i:0,a&&(e|=$t),e}function ff(e,a,i){var o=a.pendingProps,h=!1,g=(a.flags&128)!==0,N;if((N=g)||(N=e!==null&&e.memoizedState===null?!1:(ot.current&2)!==0),N&&(h=!0,a.flags&=-129),N=(a.flags&32)!==0,a.flags&=-33,e===null){if(Ie){if(h?wn(a):Sn(),(e=Qe)?(e=kh(e,sr),e=e!==null&&e.data!=="&"?e:null,e!==null&&(a.memoizedState={dehydrated:e,treeContext:xn!==null?{id:Tr,overflow:jr}:null,retryLane:536870912,hydrationErrors:null},i=Ou(e),i.return=a,a.child=i,kt=a,Qe=null)):e=null,e===null)throw yn(a);return ac(e)?a.lanes=32:a.lanes=536870912,null}var S=o.children;return o=o.fallback,h?(Sn(),h=a.mode,S=ul({mode:"hidden",children:S},h),o=Qn(o,h,i,null),S.return=a,o.return=a,S.sibling=o,a.child=S,o=a.child,o.memoizedState=kd(i),o.childLanes=Nd(e,N,i),a.memoizedState=vd,Js(null,o)):(wn(a),wd(a,S))}var R=e.memoizedState;if(R!==null&&(S=R.dehydrated,S!==null)){if(g)a.flags&256?(wn(a),a.flags&=-257,a=Sd(e,a,i)):a.memoizedState!==null?(Sn(),a.child=e.child,a.flags|=128,a=null):(Sn(),S=o.fallback,h=a.mode,o=ul({mode:"visible",children:o.children},h),S=Qn(S,h,i,null),S.flags|=2,o.return=a,S.return=a,o.sibling=S,a.child=o,sa(a,e.child,null,i),o=a.child,o.memoizedState=kd(i),o.childLanes=Nd(e,N,i),a.memoizedState=vd,a=Js(null,o));else if(wn(a),ac(S)){if(N=S.nextSibling&&S.nextSibling.dataset,N)var O=N.dgst;N=O,o=Error(l(419)),o.stack="",o.digest=N,Ls({value:o,source:null,stack:null}),a=Sd(e,a,i)}else if(ht||Ua(e,a,i,!1),N=(i&e.childLanes)!==0,ht||N){if(N=We,N!==null&&(o=vs(N,i),o!==0&&o!==R.retryLane))throw R.retryLane=o,Xn(e,o),Ft(N,e,o),yd;nc(S)||vl(),a=Sd(e,a,i)}else nc(S)?(a.flags|=192,a.child=e.child,a=null):(e=R.treeContext,Qe=lr(S.nextSibling),kt=a,Ie=!0,gn=null,sr=!1,e!==null&&Wu(a,e),a=wd(a,o.children),a.flags|=4096);return a}return h?(Sn(),S=o.fallback,h=a.mode,R=e.child,O=R.sibling,o=zr(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,O!==null?S=zr(O,S):(S=Qn(S,h,i,null),S.flags|=2),S.return=a,o.return=a,o.sibling=S,a.child=o,Js(null,o),o=a.child,S=e.child.memoizedState,S===null?S=kd(i):(h=S.cachePool,h!==null?(R=mt._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=em(),S={baseLanes:S.baseLanes|i,cachePool:h}),o.memoizedState=S,o.childLanes=Nd(e,N,i),a.memoizedState=vd,Js(e.child,o)):(wn(a),i=e.child,e=i.sibling,i=zr(i,{mode:"visible",children:o.children}),i.return=a,i.sibling=null,e!==null&&(N=a.deletions,N===null?(a.deletions=[e],a.flags|=16):N.push(e)),a.child=i,a.memoizedState=null,i)}function wd(e,a){return a=ul({mode:"visible",children:a},e.mode),a.return=e,e.child=a}function ul(e,a){return e=Yt(22,e,null,a),e.lanes=0,e}function Sd(e,a,i){return sa(a,e.child,null,i),e=wd(a,a.pendingProps.children),e.flags|=2,a.memoizedState=null,e}function hf(e,a,i){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a),Vo(e.return,a,i)}function Td(e,a,i,o,h,g){var N=e.memoizedState;N===null?e.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:h,treeForkCount:g}:(N.isBackwards=a,N.rendering=null,N.renderingStartTime=0,N.last=o,N.tail=i,N.tailMode=h,N.treeForkCount=g)}function pf(e,a,i){var o=a.pendingProps,h=o.revealOrder,g=o.tail;o=o.children;var N=ot.current,S=(N&2)!==0;if(S?(N=N&1|2,a.flags|=128):N&=1,X(ot,N),wt(e,a,o,i),o=Ie?Ps:0,!S&&e!==null&&(e.flags&128)!==0)e:for(e=a.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hf(e,i,a);else if(e.tag===19)hf(e,i,a);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===a)break e;for(;e.sibling===null;){if(e.return===null||e.return===a)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(i=a.child,h=null;i!==null;)e=i.alternate,e!==null&&Zi(e)===null&&(h=i),i=i.sibling;i=h,i===null?(h=a.child,a.child=null):(h=i.sibling,i.sibling=null),Td(a,!1,h,i,g,o);break;case"backwards":case"unstable_legacy-backwards":for(i=null,h=a.child,a.child=null;h!==null;){if(e=h.alternate,e!==null&&Zi(e)===null){a.child=h;break}e=h.sibling,h.sibling=i,i=h,h=e}Td(a,!0,i,null,g,o);break;case"together":Td(a,!1,null,null,void 0,o);break;default:a.memoizedState=null}return a.child}function Kr(e,a,i){if(e!==null&&(a.dependencies=e.dependencies),Cn|=a.lanes,(i&a.childLanes)===0)if(e!==null){if(Ua(e,a,i,!1),(i&a.childLanes)===0)return null}else return null;if(e!==null&&a.child!==e.child)throw Error(l(153));if(a.child!==null){for(e=a.child,i=zr(e,e.pendingProps),a.child=i,i.return=a;e.sibling!==null;)e=e.sibling,i=i.sibling=zr(e,e.pendingProps),i.return=a;i.sibling=null}return a.child}function jd(e,a){return(e.lanes&a)!==0?!0:(e=e.dependencies,!!(e!==null&&Oi(e)))}function Xy(e,a,i){switch(a.tag){case 3:de(a,a.stateNode.containerInfo),bn(a,mt,e.memoizedState.cache),Zn();break;case 27:case 5:be(a);break;case 4:de(a,a.stateNode.containerInfo);break;case 10:bn(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Xo(a),null;break;case 13:var o=a.memoizedState;if(o!==null)return o.dehydrated!==null?(wn(a),a.flags|=128,null):(i&a.child.childLanes)!==0?ff(e,a,i):(wn(a),e=Kr(e,a,i),e!==null?e.sibling:null);wn(a);break;case 19:var h=(e.flags&128)!==0;if(o=(i&a.childLanes)!==0,o||(Ua(e,a,i,!1),o=(i&a.childLanes)!==0),h){if(o)return pf(e,a,i);a.flags|=128}if(h=a.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),X(ot,ot.current),o)break;return null;case 22:return a.lanes=0,lf(e,a,i,a.pendingProps);case 24:bn(a,mt,e.memoizedState.cache)}return Kr(e,a,i)}function xf(e,a,i){if(e!==null)if(e.memoizedProps!==a.pendingProps)ht=!0;else{if(!jd(e,i)&&(a.flags&128)===0)return ht=!1,Xy(e,a,i);ht=(e.flags&131072)!==0}else ht=!1,Ie&&(a.flags&1048576)!==0&&Ju(a,Ps,a.index);switch(a.lanes=0,a.tag){case 16:e:{var o=a.pendingProps;if(e=na(a.elementType),a.type=e,typeof e=="function")Mo(e)?(o=la(e,o),a.tag=1,a=uf(null,a,e,o,i)):(a.tag=0,a=bd(null,a,e,o,i));else{if(e!=null){var h=e.$$typeof;if(h===A){a.tag=11,a=nf(null,a,e,o,i);break e}else if(h===M){a.tag=14,a=af(null,a,e,o,i);break e}}throw a=oe(e)||e,Error(l(306,a,""))}}return a;case 0:return bd(e,a,a.type,a.pendingProps,i);case 1:return o=a.type,h=la(o,a.pendingProps),uf(e,a,o,h,i);case 3:e:{if(de(a,a.stateNode.containerInfo),e===null)throw Error(l(387));o=a.pendingProps;var g=a.memoizedState;h=g.element,Yo(e,a),Bs(a,o,null,i);var N=a.memoizedState;if(o=N.cache,bn(a,mt,o),o!==g.cache&&Ho(a,[mt],i,!0),Fs(),o=N.element,g.isDehydrated)if(g={element:o,isDehydrated:!1,cache:N.cache},a.updateQueue.baseState=g,a.memoizedState=g,a.flags&256){a=mf(e,a,o,i);break e}else if(o!==h){h=rr(Error(l(424)),a),Ls(h),a=mf(e,a,o,i);break e}else{switch(e=a.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Qe=lr(e.firstChild),kt=a,Ie=!0,gn=null,sr=!0,i=im(a,null,o,i),a.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(Zn(),o===h){a=Kr(e,a,i);break e}wt(e,a,o,i)}a=a.child}return a;case 26:return cl(e,a),e===null?(i=Ch(a.type,null,a.pendingProps,null))?a.memoizedState=i:Ie||(i=a.type,e=a.pendingProps,o=Cl(J.current).createElement(i),o[ut]=a,o[vt]=e,St(o,i,e),lt(o),a.stateNode=o):a.memoizedState=Ch(a.type,e.memoizedProps,a.pendingProps,e.memoizedState),null;case 27:return be(a),e===null&&Ie&&(o=a.stateNode=Sh(a.type,a.pendingProps,J.current),kt=a,sr=!0,h=Qe,Rn(a.type)?(sc=h,Qe=lr(o.firstChild)):Qe=h),wt(e,a,a.pendingProps.children,i),cl(e,a),e===null&&(a.flags|=4194304),a.child;case 5:return e===null&&Ie&&((h=o=Qe)&&(o=Cb(o,a.type,a.pendingProps,sr),o!==null?(a.stateNode=o,kt=a,Qe=lr(o.firstChild),sr=!1,h=!0):h=!1),h||yn(a)),be(a),h=a.type,g=a.pendingProps,N=e!==null?e.memoizedProps:null,o=g.children,ec(h,g)?o=null:N!==null&&ec(h,N)&&(a.flags|=32),a.memoizedState!==null&&(h=Zo(e,a,By,null,null,i),oi._currentValue=h),cl(e,a),wt(e,a,o,i),a.child;case 6:return e===null&&Ie&&((e=i=Qe)&&(i=Eb(i,a.pendingProps,sr),i!==null?(a.stateNode=i,kt=a,Qe=null,e=!0):e=!1),e||yn(a)),null;case 13:return ff(e,a,i);case 4:return de(a,a.stateNode.containerInfo),o=a.pendingProps,e===null?a.child=sa(a,null,o,i):wt(e,a,o,i),a.child;case 11:return nf(e,a,a.type,a.pendingProps,i);case 7:return wt(e,a,a.pendingProps,i),a.child;case 8:return wt(e,a,a.pendingProps.children,i),a.child;case 12:return wt(e,a,a.pendingProps.children,i),a.child;case 10:return o=a.pendingProps,bn(a,a.type,o.value),wt(e,a,o.children,i),a.child;case 9:return h=a.type._context,o=a.pendingProps.children,ta(a),h=Nt(h),o=o(h),a.flags|=1,wt(e,a,o,i),a.child;case 14:return af(e,a,a.type,a.pendingProps,i);case 15:return sf(e,a,a.type,a.pendingProps,i);case 19:return pf(e,a,i);case 31:return $y(e,a,i);case 22:return lf(e,a,i,a.pendingProps);case 24:return ta(a),o=Nt(mt),e===null?(h=zo(),h===null&&(h=We,g=Fo(),h.pooledCache=g,g.refCount++,g!==null&&(h.pooledCacheLanes|=i),h=g),a.memoizedState={parent:o,cache:h},Oo(a),bn(a,mt,h)):((e.lanes&i)!==0&&(Yo(e,a),Bs(a,null,null,i),Fs()),h=e.memoizedState,g=a.memoizedState,h.parent!==o?(h={parent:o,cache:o},a.memoizedState=h,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=h),bn(a,mt,o)):(o=g.cache,bn(a,mt,o),o!==h.cache&&Ho(a,[mt],i,!0))),wt(e,a,a.pendingProps.children,i),a.child;case 29:throw a.pendingProps}throw Error(l(156,a.tag))}function $r(e){e.flags|=4}function Cd(e,a,i,o,h){if((a=(e.mode&32)!==0)&&(a=!1),a){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(zf())e.flags|=8192;else throw aa=Ki,Go}else e.flags&=-16777217}function gf(e,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Rh(a))if(zf())e.flags|=8192;else throw aa=Ki,Go}function ml(e,a){a!==null&&(e.flags|=4),e.flags&16384&&(a=e.tag!==22?Ci():536870912,e.lanes|=a,Ka|=a)}function Ws(e,a){if(!Ie)switch(e.tailMode){case"hidden":a=e.tail;for(var i=null;a!==null;)a.alternate!==null&&(i=a),a=a.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?a||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Ze(e){var a=e.alternate!==null&&e.alternate.child===e.child,i=0,o=0;if(a)for(var h=e.child;h!==null;)i|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)i|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=i,a}function Qy(e,a,i){var o=a.pendingProps;switch(Lo(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ze(a),null;case 1:return Ze(a),null;case 3:return i=a.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),a.memoizedState.cache!==o&&(a.flags|=2048),Yr(mt),fe(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Da(a)?$r(a):e===null||e.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Uo())),Ze(a),null;case 26:var h=a.type,g=a.memoizedState;return e===null?($r(a),g!==null?(Ze(a),gf(a,g)):(Ze(a),Cd(a,h,null,o,i))):g?g!==e.memoizedState?($r(a),Ze(a),gf(a,g)):(Ze(a),a.flags&=-16777217):(e=e.memoizedProps,e!==o&&$r(a),Ze(a),Cd(a,h,e,o,i)),null;case 27:if(He(a),i=J.current,h=a.type,e!==null&&a.stateNode!=null)e.memoizedProps!==o&&$r(a);else{if(!o){if(a.stateNode===null)throw Error(l(166));return Ze(a),null}e=ie.current,Da(a)?Ku(a):(e=Sh(h,o,i),a.stateNode=e,$r(a))}return Ze(a),null;case 5:if(He(a),h=a.type,e!==null&&a.stateNode!=null)e.memoizedProps!==o&&$r(a);else{if(!o){if(a.stateNode===null)throw Error(l(166));return Ze(a),null}if(g=ie.current,Da(a))Ku(a);else{var N=Cl(J.current);switch(g){case 1:g=N.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:g=N.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":g=N.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":g=N.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":g=N.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof o.is=="string"?N.createElement("select",{is:o.is}):N.createElement("select"),o.multiple?g.multiple=!0:o.size&&(g.size=o.size);break;default:g=typeof o.is=="string"?N.createElement(h,{is:o.is}):N.createElement(h)}}g[ut]=a,g[vt]=o;e:for(N=a.child;N!==null;){if(N.tag===5||N.tag===6)g.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===a)break e;for(;N.sibling===null;){if(N.return===null||N.return===a)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}a.stateNode=g;e:switch(St(g,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&$r(a)}}return Ze(a),Cd(a,a.type,e===null?null:e.memoizedProps,a.pendingProps,i),null;case 6:if(e&&a.stateNode!=null)e.memoizedProps!==o&&$r(a);else{if(typeof o!="string"&&a.stateNode===null)throw Error(l(166));if(e=J.current,Da(a)){if(e=a.stateNode,i=a.memoizedProps,o=null,h=kt,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[ut]=a,e=!!(e.nodeValue===i||o!==null&&o.suppressHydrationWarning===!0||fh(e.nodeValue,i)),e||yn(a,!0)}else e=Cl(e).createTextNode(o),e[ut]=a,a.stateNode=e}return Ze(a),null;case 31:if(i=a.memoizedState,e===null||e.memoizedState!==null){if(o=Da(a),i!==null){if(e===null){if(!o)throw Error(l(318));if(e=a.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[ut]=a}else Zn(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Ze(a),e=!1}else i=Uo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return a.flags&256?(Wt(a),a):(Wt(a),null);if((a.flags&128)!==0)throw Error(l(558))}return Ze(a),null;case 13:if(o=a.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Da(a),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(l(318));if(h=a.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(l(317));h[ut]=a}else Zn(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Ze(a),h=!1}else h=Uo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return a.flags&256?(Wt(a),a):(Wt(a),null)}return Wt(a),(a.flags&128)!==0?(a.lanes=i,a):(i=o!==null,e=e!==null&&e.memoizedState!==null,i&&(o=a.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),g=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(g=o.memoizedState.cachePool.pool),g!==h&&(o.flags|=2048)),i!==e&&i&&(a.child.flags|=8192),ml(a,a.updateQueue),Ze(a),null);case 4:return fe(),e===null&&Kd(a.stateNode.containerInfo),Ze(a),null;case 10:return Yr(a.type),Ze(a),null;case 19:if(H(ot),o=a.memoizedState,o===null)return Ze(a),null;if(h=(a.flags&128)!==0,g=o.rendering,g===null)if(h)Ws(o,!1);else{if(it!==0||e!==null&&(e.flags&128)!==0)for(e=a.child;e!==null;){if(g=Zi(e),g!==null){for(a.flags|=128,Ws(o,!1),e=g.updateQueue,a.updateQueue=e,ml(a,e),a.subtreeFlags=0,e=i,i=a.child;i!==null;)Gu(i,e),i=i.sibling;return X(ot,ot.current&1|2),Ie&&Gr(a,o.treeForkCount),a.child}e=e.sibling}o.tail!==null&&Xe()>gl&&(a.flags|=128,h=!0,Ws(o,!1),a.lanes=4194304)}else{if(!h)if(e=Zi(g),e!==null){if(a.flags|=128,h=!0,e=e.updateQueue,a.updateQueue=e,ml(a,e),Ws(o,!0),o.tail===null&&o.tailMode==="hidden"&&!g.alternate&&!Ie)return Ze(a),null}else 2*Xe()-o.renderingStartTime>gl&&i!==536870912&&(a.flags|=128,h=!0,Ws(o,!1),a.lanes=4194304);o.isBackwards?(g.sibling=a.child,a.child=g):(e=o.last,e!==null?e.sibling=g:a.child=g,o.last=g)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Xe(),e.sibling=null,i=ot.current,X(ot,h?i&1|2:i&1),Ie&&Gr(a,o.treeForkCount),e):(Ze(a),null);case 22:case 23:return Wt(a),$o(),o=a.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(a.flags|=8192):o&&(a.flags|=8192),o?(i&536870912)!==0&&(a.flags&128)===0&&(Ze(a),a.subtreeFlags&6&&(a.flags|=8192)):Ze(a),i=a.updateQueue,i!==null&&ml(a,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),o=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(o=a.memoizedState.cachePool.pool),o!==i&&(a.flags|=2048),e!==null&&H(ra),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),a.memoizedState.cache!==i&&(a.flags|=2048),Yr(mt),Ze(a),null;case 25:return null;case 30:return null}throw Error(l(156,a.tag))}function Zy(e,a){switch(Lo(a),a.tag){case 1:return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 3:return Yr(mt),fe(),e=a.flags,(e&65536)!==0&&(e&128)===0?(a.flags=e&-65537|128,a):null;case 26:case 27:case 5:return He(a),null;case 31:if(a.memoizedState!==null){if(Wt(a),a.alternate===null)throw Error(l(340));Zn()}return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 13:if(Wt(a),e=a.memoizedState,e!==null&&e.dehydrated!==null){if(a.alternate===null)throw Error(l(340));Zn()}return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 19:return H(ot),null;case 4:return fe(),null;case 10:return Yr(a.type),null;case 22:case 23:return Wt(a),$o(),e!==null&&H(ra),e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 24:return Yr(mt),null;case 25:return null;default:return null}}function yf(e,a){switch(Lo(a),a.tag){case 3:Yr(mt),fe();break;case 26:case 27:case 5:He(a);break;case 4:fe();break;case 31:a.memoizedState!==null&&Wt(a);break;case 13:Wt(a);break;case 19:H(ot);break;case 10:Yr(a.type);break;case 22:case 23:Wt(a),$o(),e!==null&&H(ra);break;case 24:Yr(mt)}}function Ks(e,a){try{var i=a.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var h=o.next;i=h;do{if((i.tag&e)===e){o=void 0;var g=i.create,N=i.inst;o=g(),N.destroy=o}i=i.next}while(i!==h)}}catch(S){ze(a,a.return,S)}}function Tn(e,a,i){try{var o=a.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var g=h.next;o=g;do{if((o.tag&e)===e){var N=o.inst,S=N.destroy;if(S!==void 0){N.destroy=void 0,h=a;var R=i,O=S;try{O()}catch(ne){ze(h,R,ne)}}}o=o.next}while(o!==g)}}catch(ne){ze(a,a.return,ne)}}function bf(e){var a=e.updateQueue;if(a!==null){var i=e.stateNode;try{om(a,i)}catch(o){ze(e,e.return,o)}}}function vf(e,a,i){i.props=la(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(o){ze(e,a,o)}}function $s(e,a){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof i=="function"?e.refCleanup=i(o):i.current=o}}catch(h){ze(e,a,h)}}function Cr(e,a){var i=e.ref,o=e.refCleanup;if(i!==null)if(typeof o=="function")try{o()}catch(h){ze(e,a,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(h){ze(e,a,h)}else i.current=null}function kf(e){var a=e.type,i=e.memoizedProps,o=e.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":i.autoFocus&&o.focus();break e;case"img":i.src?o.src=i.src:i.srcSet&&(o.srcset=i.srcSet)}}catch(h){ze(e,e.return,h)}}function Ed(e,a,i){try{var o=e.stateNode;kb(o,e.type,i,a),o[vt]=a}catch(h){ze(e,e.return,h)}}function Nf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Rn(e.type)||e.tag===4}function Ad(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Nf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Rn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _d(e,a,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,a?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,a):(a=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,a.appendChild(e),i=i._reactRootContainer,i!=null||a.onclick!==null||(a.onclick=Fr));else if(o!==4&&(o===27&&Rn(e.type)&&(i=e.stateNode,a=null),e=e.child,e!==null))for(_d(e,a,i),e=e.sibling;e!==null;)_d(e,a,i),e=e.sibling}function fl(e,a,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,a?i.insertBefore(e,a):i.appendChild(e);else if(o!==4&&(o===27&&Rn(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(fl(e,a,i),e=e.sibling;e!==null;)fl(e,a,i),e=e.sibling}function wf(e){var a=e.stateNode,i=e.memoizedProps;try{for(var o=e.type,h=a.attributes;h.length;)a.removeAttributeNode(h[0]);St(a,o,i),a[ut]=e,a[vt]=i}catch(g){ze(e,e.return,g)}}var Xr=!1,pt=!1,Md=!1,Sf=typeof WeakSet=="function"?WeakSet:Set,yt=null;function eb(e,a){if(e=e.containerInfo,Qd=Pl,e=Lu(e),So(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var h=o.anchorOffset,g=o.focusNode;o=o.focusOffset;try{i.nodeType,g.nodeType}catch{i=null;break e}var N=0,S=-1,R=-1,O=0,ne=0,le=e,K=null;t:for(;;){for(var te;le!==i||h!==0&&le.nodeType!==3||(S=N+h),le!==g||o!==0&&le.nodeType!==3||(R=N+o),le.nodeType===3&&(N+=le.nodeValue.length),(te=le.firstChild)!==null;)K=le,le=te;for(;;){if(le===e)break t;if(K===i&&++O===h&&(S=N),K===g&&++ne===o&&(R=N),(te=le.nextSibling)!==null)break;le=K,K=le.parentNode}le=te}i=S===-1||R===-1?null:{start:S,end:R}}else i=null}i=i||{start:0,end:0}}else i=null;for(Zd={focusedElem:e,selectionRange:i},Pl=!1,yt=a;yt!==null;)if(a=yt,e=a.child,(a.subtreeFlags&1028)!==0&&e!==null)e.return=a,yt=e;else for(;yt!==null;){switch(a=yt,g=a.alternate,e=a.flags,a.tag){case 0:if((e&4)!==0&&(e=a.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)h=e[i],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&g!==null){e=void 0,i=a,h=g.memoizedProps,g=g.memoizedState,o=i.stateNode;try{var ye=la(i.type,h);e=o.getSnapshotBeforeUpdate(ye,g),o.__reactInternalSnapshotBeforeUpdate=e}catch(Ne){ze(i,i.return,Ne)}}break;case 3:if((e&1024)!==0){if(e=a.stateNode.containerInfo,i=e.nodeType,i===9)rc(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":rc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=a.sibling,e!==null){e.return=a.return,yt=e;break}yt=a.return}}function Tf(e,a,i){var o=i.flags;switch(i.tag){case 0:case 11:case 15:Zr(e,i),o&4&&Ks(5,i);break;case 1:if(Zr(e,i),o&4)if(e=i.stateNode,a===null)try{e.componentDidMount()}catch(N){ze(i,i.return,N)}else{var h=la(i.type,a.memoizedProps);a=a.memoizedState;try{e.componentDidUpdate(h,a,e.__reactInternalSnapshotBeforeUpdate)}catch(N){ze(i,i.return,N)}}o&64&&bf(i),o&512&&$s(i,i.return);break;case 3:if(Zr(e,i),o&64&&(e=i.updateQueue,e!==null)){if(a=null,i.child!==null)switch(i.child.tag){case 27:case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}try{om(e,a)}catch(N){ze(i,i.return,N)}}break;case 27:a===null&&o&4&&wf(i);case 26:case 5:Zr(e,i),a===null&&o&4&&kf(i),o&512&&$s(i,i.return);break;case 12:Zr(e,i);break;case 31:Zr(e,i),o&4&&Ef(e,i);break;case 13:Zr(e,i),o&4&&Af(e,i),o&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=db.bind(null,i),Ab(e,i))));break;case 22:if(o=i.memoizedState!==null||Xr,!o){a=a!==null&&a.memoizedState!==null||pt,h=Xr;var g=pt;Xr=o,(pt=a)&&!g?en(e,i,(i.subtreeFlags&8772)!==0):Zr(e,i),Xr=h,pt=g}break;case 30:break;default:Zr(e,i)}}function jf(e){var a=e.alternate;a!==null&&(e.alternate=null,jf(a)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(a=e.stateNode,a!==null&&Sa(a)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var rt=null,Ut=!1;function Qr(e,a,i){for(i=i.child;i!==null;)Cf(e,a,i),i=i.sibling}function Cf(e,a,i){if(Mt&&typeof Mt.onCommitFiberUnmount=="function")try{Mt.onCommitFiberUnmount(_t,i)}catch{}switch(i.tag){case 26:pt||Cr(i,a),Qr(e,a,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:pt||Cr(i,a);var o=rt,h=Ut;Rn(i.type)&&(rt=i.stateNode,Ut=!1),Qr(e,a,i),si(i.stateNode),rt=o,Ut=h;break;case 5:pt||Cr(i,a);case 6:if(o=rt,h=Ut,rt=null,Qr(e,a,i),rt=o,Ut=h,rt!==null)if(Ut)try{(rt.nodeType===9?rt.body:rt.nodeName==="HTML"?rt.ownerDocument.body:rt).removeChild(i.stateNode)}catch(g){ze(i,a,g)}else try{rt.removeChild(i.stateNode)}catch(g){ze(i,a,g)}break;case 18:rt!==null&&(Ut?(e=rt,bh(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),ns(e)):bh(rt,i.stateNode));break;case 4:o=rt,h=Ut,rt=i.stateNode.containerInfo,Ut=!0,Qr(e,a,i),rt=o,Ut=h;break;case 0:case 11:case 14:case 15:Tn(2,i,a),pt||Tn(4,i,a),Qr(e,a,i);break;case 1:pt||(Cr(i,a),o=i.stateNode,typeof o.componentWillUnmount=="function"&&vf(i,a,o)),Qr(e,a,i);break;case 21:Qr(e,a,i);break;case 22:pt=(o=pt)||i.memoizedState!==null,Qr(e,a,i),pt=o;break;default:Qr(e,a,i)}}function Ef(e,a){if(a.memoizedState===null&&(e=a.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ns(e)}catch(i){ze(a,a.return,i)}}}function Af(e,a){if(a.memoizedState===null&&(e=a.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ns(e)}catch(i){ze(a,a.return,i)}}function tb(e){switch(e.tag){case 31:case 13:case 19:var a=e.stateNode;return a===null&&(a=e.stateNode=new Sf),a;case 22:return e=e.stateNode,a=e._retryCache,a===null&&(a=e._retryCache=new Sf),a;default:throw Error(l(435,e.tag))}}function hl(e,a){var i=tb(e);a.forEach(function(o){if(!i.has(o)){i.add(o);var h=cb.bind(null,e,o);o.then(h,h)}})}function qt(e,a){var i=a.deletions;if(i!==null)for(var o=0;o<i.length;o++){var h=i[o],g=e,N=a,S=N;e:for(;S!==null;){switch(S.tag){case 27:if(Rn(S.type)){rt=S.stateNode,Ut=!1;break e}break;case 5:rt=S.stateNode,Ut=!1;break e;case 3:case 4:rt=S.stateNode.containerInfo,Ut=!0;break e}S=S.return}if(rt===null)throw Error(l(160));Cf(g,N,h),rt=null,Ut=!1,g=h.alternate,g!==null&&(g.return=null),h.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)_f(a,e),a=a.sibling}var xr=null;function _f(e,a){var i=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:qt(a,e),Vt(e),o&4&&(Tn(3,e,e.return),Ks(3,e),Tn(5,e,e.return));break;case 1:qt(a,e),Vt(e),o&512&&(pt||i===null||Cr(i,i.return)),o&64&&Xr&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?o:i.concat(o))));break;case 26:var h=xr;if(qt(a,e),Vt(e),o&512&&(pt||i===null||Cr(i,i.return)),o&4){var g=i!==null?i.memoizedState:null;if(o=e.memoizedState,i===null)if(o===null)if(e.stateNode===null){e:{o=e.type,i=e.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":g=h.getElementsByTagName("title")[0],(!g||g[un]||g[ut]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=h.createElement(o),h.head.insertBefore(g,h.querySelector("head > title"))),St(g,o,i),g[ut]=e,lt(g),o=g;break e;case"link":var N=_h("link","href",h).get(o+(i.href||""));if(N){for(var S=0;S<N.length;S++)if(g=N[S],g.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&g.getAttribute("rel")===(i.rel==null?null:i.rel)&&g.getAttribute("title")===(i.title==null?null:i.title)&&g.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){N.splice(S,1);break t}}g=h.createElement(o),St(g,o,i),h.head.appendChild(g);break;case"meta":if(N=_h("meta","content",h).get(o+(i.content||""))){for(S=0;S<N.length;S++)if(g=N[S],g.getAttribute("content")===(i.content==null?null:""+i.content)&&g.getAttribute("name")===(i.name==null?null:i.name)&&g.getAttribute("property")===(i.property==null?null:i.property)&&g.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&g.getAttribute("charset")===(i.charSet==null?null:i.charSet)){N.splice(S,1);break t}}g=h.createElement(o),St(g,o,i),h.head.appendChild(g);break;default:throw Error(l(468,o))}g[ut]=e,lt(g),o=g}e.stateNode=o}else Mh(h,e.type,e.stateNode);else e.stateNode=Ah(h,o,e.memoizedProps);else g!==o?(g===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):g.count--,o===null?Mh(h,e.type,e.stateNode):Ah(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Ed(e,e.memoizedProps,i.memoizedProps)}break;case 27:qt(a,e),Vt(e),o&512&&(pt||i===null||Cr(i,i.return)),i!==null&&o&4&&Ed(e,e.memoizedProps,i.memoizedProps);break;case 5:if(qt(a,e),Vt(e),o&512&&(pt||i===null||Cr(i,i.return)),e.flags&32){h=e.stateNode;try{ja(h,"")}catch(ye){ze(e,e.return,ye)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Ed(e,h,i!==null?i.memoizedProps:h)),o&1024&&(Md=!0);break;case 6:if(qt(a,e),Vt(e),o&4){if(e.stateNode===null)throw Error(l(162));o=e.memoizedProps,i=e.stateNode;try{i.nodeValue=o}catch(ye){ze(e,e.return,ye)}}break;case 3:if(_l=null,h=xr,xr=El(a.containerInfo),qt(a,e),xr=h,Vt(e),o&4&&i!==null&&i.memoizedState.isDehydrated)try{ns(a.containerInfo)}catch(ye){ze(e,e.return,ye)}Md&&(Md=!1,Mf(e));break;case 4:o=xr,xr=El(e.stateNode.containerInfo),qt(a,e),Vt(e),xr=o;break;case 12:qt(a,e),Vt(e);break;case 31:qt(a,e),Vt(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,hl(e,o)));break;case 13:qt(a,e),Vt(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(xl=Xe()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,hl(e,o)));break;case 22:h=e.memoizedState!==null;var R=i!==null&&i.memoizedState!==null,O=Xr,ne=pt;if(Xr=O||h,pt=ne||R,qt(a,e),pt=ne,Xr=O,Vt(e),o&8192)e:for(a=e.stateNode,a._visibility=h?a._visibility&-2:a._visibility|1,h&&(i===null||R||Xr||pt||oa(e)),i=null,a=e;;){if(a.tag===5||a.tag===26){if(i===null){R=i=a;try{if(g=R.stateNode,h)N=g.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{S=R.stateNode;var le=R.memoizedProps.style,K=le!=null&&le.hasOwnProperty("display")?le.display:null;S.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(ye){ze(R,R.return,ye)}}}else if(a.tag===6){if(i===null){R=a;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(ye){ze(R,R.return,ye)}}}else if(a.tag===18){if(i===null){R=a;try{var te=R.stateNode;h?vh(te,!0):vh(R.stateNode,!1)}catch(ye){ze(R,R.return,ye)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===e)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break e;for(;a.sibling===null;){if(a.return===null||a.return===e)break e;i===a&&(i=null),a=a.return}i===a&&(i=null),a.sibling.return=a.return,a=a.sibling}o&4&&(o=e.updateQueue,o!==null&&(i=o.retryQueue,i!==null&&(o.retryQueue=null,hl(e,i))));break;case 19:qt(a,e),Vt(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,hl(e,o)));break;case 30:break;case 21:break;default:qt(a,e),Vt(e)}}function Vt(e){var a=e.flags;if(a&2){try{for(var i,o=e.return;o!==null;){if(Nf(o)){i=o;break}o=o.return}if(i==null)throw Error(l(160));switch(i.tag){case 27:var h=i.stateNode,g=Ad(e);fl(e,g,h);break;case 5:var N=i.stateNode;i.flags&32&&(ja(N,""),i.flags&=-33);var S=Ad(e);fl(e,S,N);break;case 3:case 4:var R=i.stateNode.containerInfo,O=Ad(e);_d(e,O,R);break;default:throw Error(l(161))}}catch(ne){ze(e,e.return,ne)}e.flags&=-3}a&4096&&(e.flags&=-4097)}function Mf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var a=e;Mf(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),e=e.sibling}}function Zr(e,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Tf(e,a.alternate,a),a=a.sibling}function oa(e){for(e=e.child;e!==null;){var a=e;switch(a.tag){case 0:case 11:case 14:case 15:Tn(4,a,a.return),oa(a);break;case 1:Cr(a,a.return);var i=a.stateNode;typeof i.componentWillUnmount=="function"&&vf(a,a.return,i),oa(a);break;case 27:si(a.stateNode);case 26:case 5:Cr(a,a.return),oa(a);break;case 22:a.memoizedState===null&&oa(a);break;case 30:oa(a);break;default:oa(a)}e=e.sibling}}function en(e,a,i){for(i=i&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var o=a.alternate,h=e,g=a,N=g.flags;switch(g.tag){case 0:case 11:case 15:en(h,g,i),Ks(4,g);break;case 1:if(en(h,g,i),o=g,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(O){ze(o,o.return,O)}if(o=g,h=o.updateQueue,h!==null){var S=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)lm(R[h],S)}catch(O){ze(o,o.return,O)}}i&&N&64&&bf(g),$s(g,g.return);break;case 27:wf(g);case 26:case 5:en(h,g,i),i&&o===null&&N&4&&kf(g),$s(g,g.return);break;case 12:en(h,g,i);break;case 31:en(h,g,i),i&&N&4&&Ef(h,g);break;case 13:en(h,g,i),i&&N&4&&Af(h,g);break;case 22:g.memoizedState===null&&en(h,g,i),$s(g,g.return);break;case 30:break;default:en(h,g,i)}a=a.sibling}}function Rd(e,a){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(e=a.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&Ds(i))}function Id(e,a){e=null,a.alternate!==null&&(e=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==e&&(a.refCount++,e!=null&&Ds(e))}function gr(e,a,i,o){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Rf(e,a,i,o),a=a.sibling}function Rf(e,a,i,o){var h=a.flags;switch(a.tag){case 0:case 11:case 15:gr(e,a,i,o),h&2048&&Ks(9,a);break;case 1:gr(e,a,i,o);break;case 3:gr(e,a,i,o),h&2048&&(e=null,a.alternate!==null&&(e=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==e&&(a.refCount++,e!=null&&Ds(e)));break;case 12:if(h&2048){gr(e,a,i,o),e=a.stateNode;try{var g=a.memoizedProps,N=g.id,S=g.onPostCommit;typeof S=="function"&&S(N,a.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){ze(a,a.return,R)}}else gr(e,a,i,o);break;case 31:gr(e,a,i,o);break;case 13:gr(e,a,i,o);break;case 23:break;case 22:g=a.stateNode,N=a.alternate,a.memoizedState!==null?g._visibility&2?gr(e,a,i,o):Xs(e,a):g._visibility&2?gr(e,a,i,o):(g._visibility|=2,Ya(e,a,i,o,(a.subtreeFlags&10256)!==0||!1)),h&2048&&Rd(N,a);break;case 24:gr(e,a,i,o),h&2048&&Id(a.alternate,a);break;default:gr(e,a,i,o)}}function Ya(e,a,i,o,h){for(h=h&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var g=e,N=a,S=i,R=o,O=N.flags;switch(N.tag){case 0:case 11:case 15:Ya(g,N,S,R,h),Ks(8,N);break;case 23:break;case 22:var ne=N.stateNode;N.memoizedState!==null?ne._visibility&2?Ya(g,N,S,R,h):Xs(g,N):(ne._visibility|=2,Ya(g,N,S,R,h)),h&&O&2048&&Rd(N.alternate,N);break;case 24:Ya(g,N,S,R,h),h&&O&2048&&Id(N.alternate,N);break;default:Ya(g,N,S,R,h)}a=a.sibling}}function Xs(e,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var i=e,o=a,h=o.flags;switch(o.tag){case 22:Xs(i,o),h&2048&&Rd(o.alternate,o);break;case 24:Xs(i,o),h&2048&&Id(o.alternate,o);break;default:Xs(i,o)}a=a.sibling}}var Qs=8192;function Ja(e,a,i){if(e.subtreeFlags&Qs)for(e=e.child;e!==null;)If(e,a,i),e=e.sibling}function If(e,a,i){switch(e.tag){case 26:Ja(e,a,i),e.flags&Qs&&e.memoizedState!==null&&Fb(i,xr,e.memoizedState,e.memoizedProps);break;case 5:Ja(e,a,i);break;case 3:case 4:var o=xr;xr=El(e.stateNode.containerInfo),Ja(e,a,i),xr=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Qs,Qs=16777216,Ja(e,a,i),Qs=o):Ja(e,a,i));break;default:Ja(e,a,i)}}function Pf(e){var a=e.alternate;if(a!==null&&(e=a.child,e!==null)){a.child=null;do a=e.sibling,e.sibling=null,e=a;while(e!==null)}}function Zs(e){var a=e.deletions;if((e.flags&16)!==0){if(a!==null)for(var i=0;i<a.length;i++){var o=a[i];yt=o,Df(o,e)}Pf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Lf(e),e=e.sibling}function Lf(e){switch(e.tag){case 0:case 11:case 15:Zs(e),e.flags&2048&&Tn(9,e,e.return);break;case 3:Zs(e);break;case 12:Zs(e);break;case 22:var a=e.stateNode;e.memoizedState!==null&&a._visibility&2&&(e.return===null||e.return.tag!==13)?(a._visibility&=-3,pl(e)):Zs(e);break;default:Zs(e)}}function pl(e){var a=e.deletions;if((e.flags&16)!==0){if(a!==null)for(var i=0;i<a.length;i++){var o=a[i];yt=o,Df(o,e)}Pf(e)}for(e=e.child;e!==null;){switch(a=e,a.tag){case 0:case 11:case 15:Tn(8,a,a.return),pl(a);break;case 22:i=a.stateNode,i._visibility&2&&(i._visibility&=-3,pl(a));break;default:pl(a)}e=e.sibling}}function Df(e,a){for(;yt!==null;){var i=yt;switch(i.tag){case 0:case 11:case 15:Tn(8,i,a);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var o=i.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Ds(i.memoizedState.cache)}if(o=i.child,o!==null)o.return=i,yt=o;else e:for(i=e;yt!==null;){o=yt;var h=o.sibling,g=o.return;if(jf(o),o===i){yt=null;break e}if(h!==null){h.return=g,yt=h;break e}yt=g}}}var rb={getCacheForType:function(e){var a=Nt(mt),i=a.data.get(e);return i===void 0&&(i=e(),a.data.set(e,i)),i},cacheSignal:function(){return Nt(mt).controller.signal}},nb=typeof WeakMap=="function"?WeakMap:Map,Ve=0,We=null,Ce=null,_e=0,Be=0,Kt=null,jn=!1,Wa=!1,Pd=!1,tn=0,it=0,Cn=0,da=0,Ld=0,$t=0,Ka=0,ei=null,Ht=null,Dd=!1,xl=0,Uf=0,gl=1/0,yl=null,En=null,gt=0,An=null,$a=null,rn=0,Ud=0,qd=null,qf=null,ti=0,Vd=null;function Xt(){return(Ve&2)!==0&&_e!==0?_e&-_e:_.T!==null?Od():ks()}function Vf(){if($t===0)if((_e&536870912)===0||Ie){var e=ga;ga<<=1,(ga&3932160)===0&&(ga=262144),$t=e}else $t=536870912;return e=Jt.current,e!==null&&(e.flags|=32),$t}function Ft(e,a,i){(e===We&&(Be===2||Be===9)||e.cancelPendingCommit!==null)&&(Xa(e,0),_n(e,_e,$t,!1)),cn(e,i),((Ve&2)===0||e!==We)&&(e===We&&((Ve&2)===0&&(da|=i),it===4&&_n(e,_e,$t,!1)),Er(e))}function Hf(e,a,i){if((Ve&6)!==0)throw Error(l(327));var o=!i&&(a&127)===0&&(a&e.expiredLanes)===0||Lr(e,a),h=o?ib(e,a):Fd(e,a,!0),g=o;do{if(h===0){Wa&&!o&&_n(e,a,0,!1);break}else{if(i=e.current.alternate,g&&!ab(i)){h=Fd(e,a,!1),g=!1;continue}if(h===2){if(g=a,e.errorRecoveryDisabledLanes&g)var N=0;else N=e.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){a=N;e:{var S=e;h=ei;var R=S.current.memoizedState.isDehydrated;if(R&&(Xa(S,N).flags|=256),N=Fd(S,N,!1),N!==2){if(Pd&&!R){S.errorRecoveryDisabledLanes|=g,da|=g,h=4;break e}g=Ht,Ht=h,g!==null&&(Ht===null?Ht=g:Ht.push.apply(Ht,g))}h=N}if(g=!1,h!==2)continue}}if(h===1){Xa(e,0),_n(e,a,0,!0);break}e:{switch(o=e,g=h,g){case 0:case 1:throw Error(l(345));case 4:if((a&4194048)!==a)break;case 6:_n(o,a,$t,!jn);break e;case 2:Ht=null;break;case 3:case 5:break;default:throw Error(l(329))}if((a&62914560)===a&&(h=xl+300-Xe(),10<h)){if(_n(o,a,$t,!jn),ba(o,0,!0)!==0)break e;rn=a,o.timeoutHandle=gh(Ff.bind(null,o,i,Ht,yl,Dd,a,$t,da,Ka,jn,g,"Throttled",-0,0),h);break e}Ff(o,i,Ht,yl,Dd,a,$t,da,Ka,jn,g,null,-0,0)}}break}while(!0);Er(e)}function Ff(e,a,i,o,h,g,N,S,R,O,ne,le,K,te){if(e.timeoutHandle=-1,le=a.subtreeFlags,le&8192||(le&16785408)===16785408){le={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Fr},If(a,g,le);var ye=(g&62914560)===g?xl-Xe():(g&4194048)===g?Uf-Xe():0;if(ye=Bb(le,ye),ye!==null){rn=g,e.cancelPendingCommit=ye(Kf.bind(null,e,a,g,i,o,h,N,S,R,ne,le,null,K,te)),_n(e,g,N,!O);return}}Kf(e,a,g,i,o,h,N,S,R)}function ab(e){for(var a=e;;){var i=a.tag;if((i===0||i===11||i===15)&&a.flags&16384&&(i=a.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var o=0;o<i.length;o++){var h=i[o],g=h.getSnapshot;h=h.value;try{if(!Ot(g(),h))return!1}catch{return!1}}if(i=a.child,a.subtreeFlags&16384&&i!==null)i.return=a,a=i;else{if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function _n(e,a,i,o){a&=~Ld,a&=~da,e.suspendedLanes|=a,e.pingedLanes&=~a,o&&(e.warmLanes|=a),o=e.expirationTimes;for(var h=a;0<h;){var g=31-Rt(h),N=1<<g;o[g]=-1,h&=~N}i!==0&&Jn(e,i,a)}function bl(){return(Ve&6)===0?(ri(0),!1):!0}function Hd(){if(Ce!==null){if(Be===0)var e=Ce.return;else e=Ce,Or=ea=null,rd(e),Fa=null,qs=0,e=Ce;for(;e!==null;)yf(e.alternate,e),e=e.return;Ce=null}}function Xa(e,a){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,Sb(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),rn=0,Hd(),We=e,Ce=i=zr(e.current,null),_e=a,Be=0,Kt=null,jn=!1,Wa=Lr(e,a),Pd=!1,Ka=$t=Ld=da=Cn=it=0,Ht=ei=null,Dd=!1,(a&8)!==0&&(a|=a&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=a;0<o;){var h=31-Rt(o),g=1<<h;a|=e[h],o&=~g}return tn=a,Hi(),i}function Bf(e,a){Se=null,_.H=Ys,a===Ha||a===Wi?(a=nm(),Be=3):a===Go?(a=nm(),Be=4):Be=a===yd?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Kt=a,Ce===null&&(it=1,ol(e,rr(a,e.current)))}function zf(){var e=Jt.current;return e===null?!0:(_e&4194048)===_e?ir===null:(_e&62914560)===_e||(_e&536870912)!==0?e===ir:!1}function Gf(){var e=_.H;return _.H=Ys,e===null?Ys:e}function Of(){var e=_.A;return _.A=rb,e}function vl(){it=4,jn||(_e&4194048)!==_e&&Jt.current!==null||(Wa=!0),(Cn&134217727)===0&&(da&134217727)===0||We===null||_n(We,_e,$t,!1)}function Fd(e,a,i){var o=Ve;Ve|=2;var h=Gf(),g=Of();(We!==e||_e!==a)&&(yl=null,Xa(e,a)),a=!1;var N=it;e:do try{if(Be!==0&&Ce!==null){var S=Ce,R=Kt;switch(Be){case 8:Hd(),N=6;break e;case 3:case 2:case 9:case 6:Jt.current===null&&(a=!0);var O=Be;if(Be=0,Kt=null,Qa(e,S,R,O),i&&Wa){N=0;break e}break;default:O=Be,Be=0,Kt=null,Qa(e,S,R,O)}}sb(),N=it;break}catch(ne){Bf(e,ne)}while(!0);return a&&e.shellSuspendCounter++,Or=ea=null,Ve=o,_.H=h,_.A=g,Ce===null&&(We=null,_e=0,Hi()),N}function sb(){for(;Ce!==null;)Yf(Ce)}function ib(e,a){var i=Ve;Ve|=2;var o=Gf(),h=Of();We!==e||_e!==a?(yl=null,gl=Xe()+500,Xa(e,a)):Wa=Lr(e,a);e:do try{if(Be!==0&&Ce!==null){a=Ce;var g=Kt;t:switch(Be){case 1:Be=0,Kt=null,Qa(e,a,g,1);break;case 2:case 9:if(tm(g)){Be=0,Kt=null,Jf(a);break}a=function(){Be!==2&&Be!==9||We!==e||(Be=7),Er(e)},g.then(a,a);break e;case 3:Be=7;break e;case 4:Be=5;break e;case 7:tm(g)?(Be=0,Kt=null,Jf(a)):(Be=0,Kt=null,Qa(e,a,g,7));break;case 5:var N=null;switch(Ce.tag){case 26:N=Ce.memoizedState;case 5:case 27:var S=Ce;if(N?Rh(N):S.stateNode.complete){Be=0,Kt=null;var R=S.sibling;if(R!==null)Ce=R;else{var O=S.return;O!==null?(Ce=O,kl(O)):Ce=null}break t}}Be=0,Kt=null,Qa(e,a,g,5);break;case 6:Be=0,Kt=null,Qa(e,a,g,6);break;case 8:Hd(),it=6;break e;default:throw Error(l(462))}}lb();break}catch(ne){Bf(e,ne)}while(!0);return Or=ea=null,_.H=o,_.A=h,Ve=i,Ce!==null?0:(We=null,_e=0,Hi(),it)}function lb(){for(;Ce!==null&&!Ir();)Yf(Ce)}function Yf(e){var a=xf(e.alternate,e,tn);e.memoizedProps=e.pendingProps,a===null?kl(e):Ce=a}function Jf(e){var a=e,i=a.alternate;switch(a.tag){case 15:case 0:a=cf(i,a,a.pendingProps,a.type,void 0,_e);break;case 11:a=cf(i,a,a.pendingProps,a.type.render,a.ref,_e);break;case 5:rd(a);default:yf(i,a),a=Ce=Gu(a,tn),a=xf(i,a,tn)}e.memoizedProps=e.pendingProps,a===null?kl(e):Ce=a}function Qa(e,a,i,o){Or=ea=null,rd(a),Fa=null,qs=0;var h=a.return;try{if(Ky(e,h,a,i,_e)){it=1,ol(e,rr(i,e.current)),Ce=null;return}}catch(g){if(h!==null)throw Ce=h,g;it=1,ol(e,rr(i,e.current)),Ce=null;return}a.flags&32768?(Ie||o===1?e=!0:Wa||(_e&536870912)!==0?e=!1:(jn=e=!0,(o===2||o===9||o===3||o===6)&&(o=Jt.current,o!==null&&o.tag===13&&(o.flags|=16384))),Wf(a,e)):kl(a)}function kl(e){var a=e;do{if((a.flags&32768)!==0){Wf(a,jn);return}e=a.return;var i=Qy(a.alternate,a,tn);if(i!==null){Ce=i;return}if(a=a.sibling,a!==null){Ce=a;return}Ce=a=e}while(a!==null);it===0&&(it=5)}function Wf(e,a){do{var i=Zy(e.alternate,e);if(i!==null){i.flags&=32767,Ce=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!a&&(e=e.sibling,e!==null)){Ce=e;return}Ce=e=i}while(e!==null);it=6,Ce=null}function Kf(e,a,i,o,h,g,N,S,R){e.cancelPendingCommit=null;do Nl();while(gt!==0);if((Ve&6)!==0)throw Error(l(327));if(a!==null){if(a===e.current)throw Error(l(177));if(g=a.lanes|a.childLanes,g|=Ao,io(e,i,g,N,S,R),e===We&&(Ce=We=null,_e=0),$a=a,An=e,rn=i,Ud=g,qd=h,qf=o,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,ub(ct,function(){return eh(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||o){o=_.T,_.T=null,h=W.p,W.p=2,N=Ve,Ve|=4;try{eb(e,a,i)}finally{Ve=N,W.p=h,_.T=o}}gt=1,$f(),Xf(),Qf()}}function $f(){if(gt===1){gt=0;var e=An,a=$a,i=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||i){i=_.T,_.T=null;var o=W.p;W.p=2;var h=Ve;Ve|=4;try{_f(a,e);var g=Zd,N=Lu(e.containerInfo),S=g.focusedElem,R=g.selectionRange;if(N!==S&&S&&S.ownerDocument&&Pu(S.ownerDocument.documentElement,S)){if(R!==null&&So(S)){var O=R.start,ne=R.end;if(ne===void 0&&(ne=O),"selectionStart"in S)S.selectionStart=O,S.selectionEnd=Math.min(ne,S.value.length);else{var le=S.ownerDocument||document,K=le&&le.defaultView||window;if(K.getSelection){var te=K.getSelection(),ye=S.textContent.length,Ne=Math.min(R.start,ye),Je=R.end===void 0?Ne:Math.min(R.end,ye);!te.extend&&Ne>Je&&(N=Je,Je=Ne,Ne=N);var B=Iu(S,Ne),L=Iu(S,Je);if(B&&L&&(te.rangeCount!==1||te.anchorNode!==B.node||te.anchorOffset!==B.offset||te.focusNode!==L.node||te.focusOffset!==L.offset)){var G=le.createRange();G.setStart(B.node,B.offset),te.removeAllRanges(),Ne>Je?(te.addRange(G),te.extend(L.node,L.offset)):(G.setEnd(L.node,L.offset),te.addRange(G))}}}}for(le=[],te=S;te=te.parentNode;)te.nodeType===1&&le.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<le.length;S++){var ae=le[S];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}Pl=!!Qd,Zd=Qd=null}finally{Ve=h,W.p=o,_.T=i}}e.current=a,gt=2}}function Xf(){if(gt===2){gt=0;var e=An,a=$a,i=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||i){i=_.T,_.T=null;var o=W.p;W.p=2;var h=Ve;Ve|=4;try{Tf(e,a.alternate,a)}finally{Ve=h,W.p=o,_.T=i}}gt=3}}function Qf(){if(gt===4||gt===3){gt=0,Yn();var e=An,a=$a,i=rn,o=qf;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?gt=5:(gt=0,$a=An=null,Zf(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(En=null),Na(i),a=a.stateNode,Mt&&typeof Mt.onCommitFiberRoot=="function")try{Mt.onCommitFiberRoot(_t,a,void 0,(a.current.flags&128)===128)}catch{}if(o!==null){a=_.T,h=W.p,W.p=2,_.T=null;try{for(var g=e.onRecoverableError,N=0;N<o.length;N++){var S=o[N];g(S.value,{componentStack:S.stack})}}finally{_.T=a,W.p=h}}(rn&3)!==0&&Nl(),Er(e),h=e.pendingLanes,(i&261930)!==0&&(h&42)!==0?e===Vd?ti++:(ti=0,Vd=e):ti=0,ri(0)}}function Zf(e,a){(e.pooledCacheLanes&=a)===0&&(a=e.pooledCache,a!=null&&(e.pooledCache=null,Ds(a)))}function Nl(){return $f(),Xf(),Qf(),eh()}function eh(){if(gt!==5)return!1;var e=An,a=Ud;Ud=0;var i=Na(rn),o=_.T,h=W.p;try{W.p=32>i?32:i,_.T=null,i=qd,qd=null;var g=An,N=rn;if(gt=0,$a=An=null,rn=0,(Ve&6)!==0)throw Error(l(331));var S=Ve;if(Ve|=4,Lf(g.current),Rf(g,g.current,N,i),Ve=S,ri(0,!1),Mt&&typeof Mt.onPostCommitFiberRoot=="function")try{Mt.onPostCommitFiberRoot(_t,g)}catch{}return!0}finally{W.p=h,_.T=o,Zf(e,a)}}function th(e,a,i){a=rr(i,a),a=gd(e.stateNode,a,2),e=Nn(e,a,2),e!==null&&(cn(e,2),Er(e))}function ze(e,a,i){if(e.tag===3)th(e,e,i);else for(;a!==null;){if(a.tag===3){th(a,e,i);break}else if(a.tag===1){var o=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(En===null||!En.has(o))){e=rr(i,e),i=tf(2),o=Nn(a,i,2),o!==null&&(rf(i,o,a,e),cn(o,2),Er(o));break}}a=a.return}}function Bd(e,a,i){var o=e.pingCache;if(o===null){o=e.pingCache=new nb;var h=new Set;o.set(a,h)}else h=o.get(a),h===void 0&&(h=new Set,o.set(a,h));h.has(i)||(Pd=!0,h.add(i),e=ob.bind(null,e,a,i),a.then(e,e))}function ob(e,a,i){var o=e.pingCache;o!==null&&o.delete(a),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,We===e&&(_e&i)===i&&(it===4||it===3&&(_e&62914560)===_e&&300>Xe()-xl?(Ve&2)===0&&Xa(e,0):Ld|=i,Ka===_e&&(Ka=0)),Er(e)}function rh(e,a){a===0&&(a=Ci()),e=Xn(e,a),e!==null&&(cn(e,a),Er(e))}function db(e){var a=e.memoizedState,i=0;a!==null&&(i=a.retryLane),rh(e,i)}function cb(e,a){var i=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(i=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(l(314))}o!==null&&o.delete(a),rh(e,i)}function ub(e,a){return nt(e,a)}var wl=null,Za=null,zd=!1,Sl=!1,Gd=!1,Mn=0;function Er(e){e!==Za&&e.next===null&&(Za===null?wl=Za=e:Za=Za.next=e),Sl=!0,zd||(zd=!0,fb())}function ri(e,a){if(!Gd&&Sl){Gd=!0;do for(var i=!1,o=wl;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var g=0;else{var N=o.suspendedLanes,S=o.pingedLanes;g=(1<<31-Rt(42|e)+1)-1,g&=h&~(N&~S),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(i=!0,ih(o,g))}else g=_e,g=ba(o,o===We?g:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(g&3)===0||Lr(o,g)||(i=!0,ih(o,g));o=o.next}while(i);Gd=!1}}function mb(){nh()}function nh(){Sl=zd=!1;var e=0;Mn!==0&&wb()&&(e=Mn);for(var a=Xe(),i=null,o=wl;o!==null;){var h=o.next,g=ah(o,a);g===0?(o.next=null,i===null?wl=h:i.next=h,h===null&&(Za=i)):(i=o,(e!==0||(g&3)!==0)&&(Sl=!0)),o=h}gt!==0&&gt!==5||ri(e),Mn!==0&&(Mn=0)}function ah(e,a){for(var i=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,g=e.pendingLanes&-62914561;0<g;){var N=31-Rt(g),S=1<<N,R=h[N];R===-1?((S&i)===0||(S&o)!==0)&&(h[N]=ji(S,a)):R<=a&&(e.expiredLanes|=S),g&=~S}if(a=We,i=_e,i=ba(e,e===a?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,i===0||e===a&&(Be===2||Be===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&kr(o),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||Lr(e,i)){if(a=i&-i,a===e.callbackPriority)return a;switch(o!==null&&kr(o),Na(i)){case 2:case 8:i=Fe;break;case 32:i=ct;break;case 268435456:i=Ge;break;default:i=ct}return o=sh.bind(null,e),i=nt(i,o),e.callbackPriority=a,e.callbackNode=i,a}return o!==null&&o!==null&&kr(o),e.callbackPriority=2,e.callbackNode=null,2}function sh(e,a){if(gt!==0&&gt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(Nl()&&e.callbackNode!==i)return null;var o=_e;return o=ba(e,e===We?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Hf(e,o,a),ah(e,Xe()),e.callbackNode!=null&&e.callbackNode===i?sh.bind(null,e):null)}function ih(e,a){if(Nl())return null;Hf(e,a,!0)}function fb(){Tb(function(){(Ve&6)!==0?nt(Gt,mb):nh()})}function Od(){if(Mn===0){var e=qa;e===0&&(e=xa,xa<<=1,(xa&261888)===0&&(xa=256)),Mn=e}return Mn}function lh(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ri(""+e)}function oh(e,a){var i=a.ownerDocument.createElement("input");return i.name=a.name,i.value=a.value,e.id&&i.setAttribute("form",e.id),a.parentNode.insertBefore(i,a),e=new FormData(e),i.parentNode.removeChild(i),e}function hb(e,a,i,o,h){if(a==="submit"&&i&&i.stateNode===h){var g=lh((h[vt]||null).action),N=o.submitter;N&&(a=(a=N[vt]||null)?lh(a.formAction):N.getAttribute("formAction"),a!==null&&(g=a,N=null));var S=new Di("action","action",null,o,h);e.push({event:S,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Mn!==0){var R=N?oh(h,N):new FormData(h);ud(i,{pending:!0,data:R,method:h.method,action:g},null,R)}}else typeof g=="function"&&(S.preventDefault(),R=N?oh(h,N):new FormData(h),ud(i,{pending:!0,data:R,method:h.method,action:g},g,R))},currentTarget:h}]})}}for(var Yd=0;Yd<Eo.length;Yd++){var Jd=Eo[Yd],pb=Jd.toLowerCase(),xb=Jd[0].toUpperCase()+Jd.slice(1);pr(pb,"on"+xb)}pr(qu,"onAnimationEnd"),pr(Vu,"onAnimationIteration"),pr(Hu,"onAnimationStart"),pr("dblclick","onDoubleClick"),pr("focusin","onFocus"),pr("focusout","onBlur"),pr(Ry,"onTransitionRun"),pr(Iy,"onTransitionStart"),pr(Py,"onTransitionCancel"),pr(Fu,"onTransitionEnd"),at("onMouseEnter",["mouseout","mouseover"]),at("onMouseLeave",["mouseout","mouseover"]),at("onPointerEnter",["pointerout","pointerover"]),at("onPointerLeave",["pointerout","pointerover"]),ge("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ge("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ge("onBeforeInput",["compositionend","keypress","textInput","paste"]),ge("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ge("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ge("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ni="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ni));function dh(e,a){a=(a&4)!==0;for(var i=0;i<e.length;i++){var o=e[i],h=o.event;o=o.listeners;e:{var g=void 0;if(a)for(var N=o.length-1;0<=N;N--){var S=o[N],R=S.instance,O=S.currentTarget;if(S=S.listener,R!==g&&h.isPropagationStopped())break e;g=S,h.currentTarget=O;try{g(h)}catch(ne){Vi(ne)}h.currentTarget=null,g=R}else for(N=0;N<o.length;N++){if(S=o[N],R=S.instance,O=S.currentTarget,S=S.listener,R!==g&&h.isPropagationStopped())break e;g=S,h.currentTarget=O;try{g(h)}catch(ne){Vi(ne)}h.currentTarget=null,g=R}}}}function Ee(e,a){var i=a[wa];i===void 0&&(i=a[wa]=new Set);var o=e+"__bubble";i.has(o)||(ch(a,e,2,!1),i.add(o))}function Wd(e,a,i){var o=0;a&&(o|=4),ch(i,e,o,a)}var Tl="_reactListening"+Math.random().toString(36).slice(2);function Kd(e){if(!e[Tl]){e[Tl]=!0,Ss.forEach(function(i){i!=="selectionchange"&&(gb.has(i)||Wd(i,!1,e),Wd(i,!0,e))});var a=e.nodeType===9?e:e.ownerDocument;a===null||a[Tl]||(a[Tl]=!0,Wd("selectionchange",!1,a))}}function ch(e,a,i,o){switch(Vh(a)){case 2:var h=Ob;break;case 8:h=Yb;break;default:h=cc}i=h.bind(null,a,i,e),h=void 0,!po||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(a,i,{capture:!0,passive:h}):e.addEventListener(a,i,!0):h!==void 0?e.addEventListener(a,i,{passive:h}):e.addEventListener(a,i,!1)}function $d(e,a,i,o,h){var g=o;if((a&1)===0&&(a&2)===0&&o!==null)e:for(;;){if(o===null)return;var N=o.tag;if(N===3||N===4){var S=o.stateNode.containerInfo;if(S===h)break;if(N===4)for(N=o.return;N!==null;){var R=N.tag;if((R===3||R===4)&&N.stateNode.containerInfo===h)return;N=N.return}for(;S!==null;){if(N=Ur(S),N===null)return;if(R=N.tag,R===5||R===6||R===26||R===27){o=g=N;continue e}S=S.parentNode}}o=o.return}hu(function(){var O=g,ne=fo(i),le=[];e:{var K=Bu.get(e);if(K!==void 0){var te=Di,ye=e;switch(e){case"keypress":if(Pi(i)===0)break e;case"keydown":case"keyup":te=cy;break;case"focusin":ye="focus",te=bo;break;case"focusout":ye="blur",te=bo;break;case"beforeblur":case"afterblur":te=bo;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=gu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=Qg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=fy;break;case qu:case Vu:case Hu:te=ty;break;case Fu:te=py;break;case"scroll":case"scrollend":te=$g;break;case"wheel":te=gy;break;case"copy":case"cut":case"paste":te=ny;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=bu;break;case"toggle":case"beforetoggle":te=by}var Ne=(a&4)!==0,Je=!Ne&&(e==="scroll"||e==="scrollend"),B=Ne?K!==null?K+"Capture":null:K;Ne=[];for(var L=O,G;L!==null;){var ae=L;if(G=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||G===null||B===null||(ae=Ts(L,B),ae!=null&&Ne.push(ai(L,ae,G))),Je)break;L=L.return}0<Ne.length&&(K=new te(K,ye,null,i,ne),le.push({event:K,listeners:Ne}))}}if((a&7)===0){e:{if(K=e==="mouseover"||e==="pointerover",te=e==="mouseout"||e==="pointerout",K&&i!==mo&&(ye=i.relatedTarget||i.fromElement)&&(Ur(ye)||ye[Dr]))break e;if((te||K)&&(K=ne.window===ne?ne:(K=ne.ownerDocument)?K.defaultView||K.parentWindow:window,te?(ye=i.relatedTarget||i.toElement,te=O,ye=ye?Ur(ye):null,ye!==null&&(Je=u(ye),Ne=ye.tag,ye!==Je||Ne!==5&&Ne!==27&&Ne!==6)&&(ye=null)):(te=null,ye=O),te!==ye)){if(Ne=gu,ae="onMouseLeave",B="onMouseEnter",L="mouse",(e==="pointerout"||e==="pointerover")&&(Ne=bu,ae="onPointerLeave",B="onPointerEnter",L="pointer"),Je=te==null?K:mn(te),G=ye==null?K:mn(ye),K=new Ne(ae,L+"leave",te,i,ne),K.target=Je,K.relatedTarget=G,ae=null,Ur(ne)===O&&(Ne=new Ne(B,L+"enter",ye,i,ne),Ne.target=G,Ne.relatedTarget=Je,ae=Ne),Je=ae,te&&ye)t:{for(Ne=yb,B=te,L=ye,G=0,ae=B;ae;ae=Ne(ae))G++;ae=0;for(var ke=L;ke;ke=Ne(ke))ae++;for(;0<G-ae;)B=Ne(B),G--;for(;0<ae-G;)L=Ne(L),ae--;for(;G--;){if(B===L||L!==null&&B===L.alternate){Ne=B;break t}B=Ne(B),L=Ne(L)}Ne=null}else Ne=null;te!==null&&uh(le,K,te,Ne,!1),ye!==null&&Je!==null&&uh(le,Je,ye,Ne,!0)}}e:{if(K=O?mn(O):window,te=K.nodeName&&K.nodeName.toLowerCase(),te==="select"||te==="input"&&K.type==="file")var Le=Cu;else if(Tu(K))if(Eu)Le=Ay;else{Le=Cy;var ve=jy}else te=K.nodeName,!te||te.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?O&&uo(O.elementType)&&(Le=Cu):Le=Ey;if(Le&&(Le=Le(e,O))){ju(le,Le,i,ne);break e}ve&&ve(e,K,O),e==="focusout"&&O&&K.type==="number"&&O.memoizedProps.value!=null&&co(K,"number",K.value)}switch(ve=O?mn(O):window,e){case"focusin":(Tu(ve)||ve.contentEditable==="true")&&(_a=ve,To=O,Is=null);break;case"focusout":Is=To=_a=null;break;case"mousedown":jo=!0;break;case"contextmenu":case"mouseup":case"dragend":jo=!1,Du(le,i,ne);break;case"selectionchange":if(My)break;case"keydown":case"keyup":Du(le,i,ne)}var Te;if(ko)e:{switch(e){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else Aa?wu(e,i)&&(Me="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(Me="onCompositionStart");Me&&(vu&&i.locale!=="ko"&&(Aa||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&Aa&&(Te=pu()):(pn=ne,xo="value"in pn?pn.value:pn.textContent,Aa=!0)),ve=jl(O,Me),0<ve.length&&(Me=new yu(Me,e,null,i,ne),le.push({event:Me,listeners:ve}),Te?Me.data=Te:(Te=Su(i),Te!==null&&(Me.data=Te)))),(Te=ky?Ny(e,i):wy(e,i))&&(Me=jl(O,"onBeforeInput"),0<Me.length&&(ve=new yu("onBeforeInput","beforeinput",null,i,ne),le.push({event:ve,listeners:Me}),ve.data=Te)),hb(le,e,O,i,ne)}dh(le,a)})}function ai(e,a,i){return{instance:e,listener:a,currentTarget:i}}function jl(e,a){for(var i=a+"Capture",o=[];e!==null;){var h=e,g=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||g===null||(h=Ts(e,i),h!=null&&o.unshift(ai(e,h,g)),h=Ts(e,a),h!=null&&o.push(ai(e,h,g))),e.tag===3)return o;e=e.return}return[]}function yb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function uh(e,a,i,o,h){for(var g=a._reactName,N=[];i!==null&&i!==o;){var S=i,R=S.alternate,O=S.stateNode;if(S=S.tag,R!==null&&R===o)break;S!==5&&S!==26&&S!==27||O===null||(R=O,h?(O=Ts(i,g),O!=null&&N.unshift(ai(i,O,R))):h||(O=Ts(i,g),O!=null&&N.push(ai(i,O,R)))),i=i.return}N.length!==0&&e.push({event:a,listeners:N})}var bb=/\r\n?/g,vb=/\u0000|\uFFFD/g;function mh(e){return(typeof e=="string"?e:""+e).replace(bb,`
`).replace(vb,"")}function fh(e,a){return a=mh(a),mh(e)===a}function Ye(e,a,i,o,h,g){switch(i){case"children":typeof o=="string"?a==="body"||a==="textarea"&&o===""||ja(e,o):(typeof o=="number"||typeof o=="bigint")&&a!=="body"&&ja(e,""+o);break;case"className":_i(e,"class",o);break;case"tabIndex":_i(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":_i(e,i,o);break;case"style":mu(e,o,g);break;case"data":if(a!=="object"){_i(e,"data",o);break}case"src":case"href":if(o===""&&(a!=="a"||i!=="href")){e.removeAttribute(i);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(i);break}o=Ri(""+o),e.setAttribute(i,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(i==="formAction"?(a!=="input"&&Ye(e,a,"name",h.name,h,null),Ye(e,a,"formEncType",h.formEncType,h,null),Ye(e,a,"formMethod",h.formMethod,h,null),Ye(e,a,"formTarget",h.formTarget,h,null)):(Ye(e,a,"encType",h.encType,h,null),Ye(e,a,"method",h.method,h,null),Ye(e,a,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(i);break}o=Ri(""+o),e.setAttribute(i,o);break;case"onClick":o!=null&&(e.onclick=Fr);break;case"onScroll":o!=null&&Ee("scroll",e);break;case"onScrollEnd":o!=null&&Ee("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(l(61));if(i=o.__html,i!=null){if(h.children!=null)throw Error(l(60));e.innerHTML=i}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}i=Ri(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,""+o):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":o===!0?e.setAttribute(i,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,o):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(i,o):e.removeAttribute(i);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(i):e.setAttribute(i,o);break;case"popover":Ee("beforetoggle",e),Ee("toggle",e),Sr(e,"popover",o);break;case"xlinkActuate":Hr(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Hr(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Hr(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Hr(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Hr(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Hr(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Hr(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Hr(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Hr(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Sr(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Wg.get(i)||i,Sr(e,i,o))}}function Xd(e,a,i,o,h,g){switch(i){case"style":mu(e,o,g);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(l(61));if(i=o.__html,i!=null){if(h.children!=null)throw Error(l(60));e.innerHTML=i}}break;case"children":typeof o=="string"?ja(e,o):(typeof o=="number"||typeof o=="bigint")&&ja(e,""+o);break;case"onScroll":o!=null&&Ee("scroll",e);break;case"onScrollEnd":o!=null&&Ee("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Fr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!E.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(h=i.endsWith("Capture"),a=i.slice(2,h?i.length-7:void 0),g=e[vt]||null,g=g!=null?g[i]:null,typeof g=="function"&&e.removeEventListener(a,g,h),typeof o=="function")){typeof g!="function"&&g!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(a,o,h);break e}i in e?e[i]=o:o===!0?e.setAttribute(i,""):Sr(e,i,o)}}}function St(e,a,i){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ee("error",e),Ee("load",e);var o=!1,h=!1,g;for(g in i)if(i.hasOwnProperty(g)){var N=i[g];if(N!=null)switch(g){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,a));default:Ye(e,a,g,N,i,null)}}h&&Ye(e,a,"srcSet",i.srcSet,i,null),o&&Ye(e,a,"src",i.src,i,null);return;case"input":Ee("invalid",e);var S=g=N=h=null,R=null,O=null;for(o in i)if(i.hasOwnProperty(o)){var ne=i[o];if(ne!=null)switch(o){case"name":h=ne;break;case"type":N=ne;break;case"checked":R=ne;break;case"defaultChecked":O=ne;break;case"value":g=ne;break;case"defaultValue":S=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(l(137,a));break;default:Ye(e,a,o,ne,i,null)}}ou(e,g,S,R,O,N,h,!1);return;case"select":Ee("invalid",e),o=N=g=null;for(h in i)if(i.hasOwnProperty(h)&&(S=i[h],S!=null))switch(h){case"value":g=S;break;case"defaultValue":N=S;break;case"multiple":o=S;default:Ye(e,a,h,S,i,null)}a=g,i=N,e.multiple=!!o,a!=null?Ta(e,!!o,a,!1):i!=null&&Ta(e,!!o,i,!0);return;case"textarea":Ee("invalid",e),g=h=o=null;for(N in i)if(i.hasOwnProperty(N)&&(S=i[N],S!=null))switch(N){case"value":o=S;break;case"defaultValue":h=S;break;case"children":g=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(l(91));break;default:Ye(e,a,N,S,i,null)}cu(e,o,h,g);return;case"option":for(R in i)if(i.hasOwnProperty(R)&&(o=i[R],o!=null))switch(R){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Ye(e,a,R,o,i,null)}return;case"dialog":Ee("beforetoggle",e),Ee("toggle",e),Ee("cancel",e),Ee("close",e);break;case"iframe":case"object":Ee("load",e);break;case"video":case"audio":for(o=0;o<ni.length;o++)Ee(ni[o],e);break;case"image":Ee("error",e),Ee("load",e);break;case"details":Ee("toggle",e);break;case"embed":case"source":case"link":Ee("error",e),Ee("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(O in i)if(i.hasOwnProperty(O)&&(o=i[O],o!=null))switch(O){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,a));default:Ye(e,a,O,o,i,null)}return;default:if(uo(a)){for(ne in i)i.hasOwnProperty(ne)&&(o=i[ne],o!==void 0&&Xd(e,a,ne,o,i,void 0));return}}for(S in i)i.hasOwnProperty(S)&&(o=i[S],o!=null&&Ye(e,a,S,o,i,null))}function kb(e,a,i,o){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,g=null,N=null,S=null,R=null,O=null,ne=null;for(te in i){var le=i[te];if(i.hasOwnProperty(te)&&le!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":R=le;default:o.hasOwnProperty(te)||Ye(e,a,te,null,o,le)}}for(var K in o){var te=o[K];if(le=i[K],o.hasOwnProperty(K)&&(te!=null||le!=null))switch(K){case"type":g=te;break;case"name":h=te;break;case"checked":O=te;break;case"defaultChecked":ne=te;break;case"value":N=te;break;case"defaultValue":S=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(l(137,a));break;default:te!==le&&Ye(e,a,K,te,o,le)}}oo(e,N,S,R,O,ne,g,h);return;case"select":te=N=S=K=null;for(g in i)if(R=i[g],i.hasOwnProperty(g)&&R!=null)switch(g){case"value":break;case"multiple":te=R;default:o.hasOwnProperty(g)||Ye(e,a,g,null,o,R)}for(h in o)if(g=o[h],R=i[h],o.hasOwnProperty(h)&&(g!=null||R!=null))switch(h){case"value":K=g;break;case"defaultValue":S=g;break;case"multiple":N=g;default:g!==R&&Ye(e,a,h,g,o,R)}a=S,i=N,o=te,K!=null?Ta(e,!!i,K,!1):!!o!=!!i&&(a!=null?Ta(e,!!i,a,!0):Ta(e,!!i,i?[]:"",!1));return;case"textarea":te=K=null;for(S in i)if(h=i[S],i.hasOwnProperty(S)&&h!=null&&!o.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Ye(e,a,S,null,o,h)}for(N in o)if(h=o[N],g=i[N],o.hasOwnProperty(N)&&(h!=null||g!=null))switch(N){case"value":K=h;break;case"defaultValue":te=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(l(91));break;default:h!==g&&Ye(e,a,N,h,o,g)}du(e,K,te);return;case"option":for(var ye in i)if(K=i[ye],i.hasOwnProperty(ye)&&K!=null&&!o.hasOwnProperty(ye))switch(ye){case"selected":e.selected=!1;break;default:Ye(e,a,ye,null,o,K)}for(R in o)if(K=o[R],te=i[R],o.hasOwnProperty(R)&&K!==te&&(K!=null||te!=null))switch(R){case"selected":e.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:Ye(e,a,R,K,o,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in i)K=i[Ne],i.hasOwnProperty(Ne)&&K!=null&&!o.hasOwnProperty(Ne)&&Ye(e,a,Ne,null,o,K);for(O in o)if(K=o[O],te=i[O],o.hasOwnProperty(O)&&K!==te&&(K!=null||te!=null))switch(O){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(l(137,a));break;default:Ye(e,a,O,K,o,te)}return;default:if(uo(a)){for(var Je in i)K=i[Je],i.hasOwnProperty(Je)&&K!==void 0&&!o.hasOwnProperty(Je)&&Xd(e,a,Je,void 0,o,K);for(ne in o)K=o[ne],te=i[ne],!o.hasOwnProperty(ne)||K===te||K===void 0&&te===void 0||Xd(e,a,ne,K,o,te);return}}for(var B in i)K=i[B],i.hasOwnProperty(B)&&K!=null&&!o.hasOwnProperty(B)&&Ye(e,a,B,null,o,K);for(le in o)K=o[le],te=i[le],!o.hasOwnProperty(le)||K===te||K==null&&te==null||Ye(e,a,le,K,o,te)}function hh(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Nb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,a=0,i=performance.getEntriesByType("resource"),o=0;o<i.length;o++){var h=i[o],g=h.transferSize,N=h.initiatorType,S=h.duration;if(g&&S&&hh(N)){for(N=0,S=h.responseEnd,o+=1;o<i.length;o++){var R=i[o],O=R.startTime;if(O>S)break;var ne=R.transferSize,le=R.initiatorType;ne&&hh(le)&&(R=R.responseEnd,N+=ne*(R<S?1:(S-O)/(R-O)))}if(--o,a+=8*(g+N)/(h.duration/1e3),e++,10<e)break}}if(0<e)return a/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Qd=null,Zd=null;function Cl(e){return e.nodeType===9?e:e.ownerDocument}function ph(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xh(e,a){if(e===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&a==="foreignObject"?0:e}function ec(e,a){return e==="textarea"||e==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var tc=null;function wb(){var e=window.event;return e&&e.type==="popstate"?e===tc?!1:(tc=e,!0):(tc=null,!1)}var gh=typeof setTimeout=="function"?setTimeout:void 0,Sb=typeof clearTimeout=="function"?clearTimeout:void 0,yh=typeof Promise=="function"?Promise:void 0,Tb=typeof queueMicrotask=="function"?queueMicrotask:typeof yh<"u"?function(e){return yh.resolve(null).then(e).catch(jb)}:gh;function jb(e){setTimeout(function(){throw e})}function Rn(e){return e==="head"}function bh(e,a){var i=a,o=0;do{var h=i.nextSibling;if(e.removeChild(i),h&&h.nodeType===8)if(i=h.data,i==="/$"||i==="/&"){if(o===0){e.removeChild(h),ns(a);return}o--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")o++;else if(i==="html")si(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,si(i);for(var g=i.firstChild;g;){var N=g.nextSibling,S=g.nodeName;g[un]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&g.rel.toLowerCase()==="stylesheet"||i.removeChild(g),g=N}}else i==="body"&&si(e.ownerDocument.body);i=h}while(i);ns(a)}function vh(e,a){var i=e;e=0;do{var o=i.nextSibling;if(i.nodeType===1?a?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(a?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),o&&o.nodeType===8)if(i=o.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=o}while(i)}function rc(e){var a=e.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var i=a;switch(a=a.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":rc(i),Sa(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function Cb(e,a,i,o){for(;e.nodeType===1;){var h=i;if(e.nodeName.toLowerCase()!==a.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[un])switch(a){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(g=e.getAttribute("rel"),g==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(g!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(g=e.getAttribute("src"),(g!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&g&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(a==="input"&&e.type==="hidden"){var g=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===g)return e}else return e;if(e=lr(e.nextSibling),e===null)break}return null}function Eb(e,a,i){if(a==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=lr(e.nextSibling),e===null))return null;return e}function kh(e,a){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=lr(e.nextSibling),e===null))return null;return e}function nc(e){return e.data==="$?"||e.data==="$~"}function ac(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Ab(e,a){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=a;else if(e.data!=="$?"||i.readyState!=="loading")a();else{var o=function(){a(),i.removeEventListener("DOMContentLoaded",o)};i.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function lr(e){for(;e!=null;e=e.nextSibling){var a=e.nodeType;if(a===1||a===3)break;if(a===8){if(a=e.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return e}var sc=null;function Nh(e){e=e.nextSibling;for(var a=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(a===0)return lr(e.nextSibling);a--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||a++}e=e.nextSibling}return null}function wh(e){e=e.previousSibling;for(var a=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(a===0)return e;a--}else i!=="/$"&&i!=="/&"||a++}e=e.previousSibling}return null}function Sh(e,a,i){switch(a=Cl(i),e){case"html":if(e=a.documentElement,!e)throw Error(l(452));return e;case"head":if(e=a.head,!e)throw Error(l(453));return e;case"body":if(e=a.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function si(e){for(var a=e.attributes;a.length;)e.removeAttributeNode(a[0]);Sa(e)}var or=new Map,Th=new Set;function El(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var nn=W.d;W.d={f:_b,r:Mb,D:Rb,C:Ib,L:Pb,m:Lb,X:Ub,S:Db,M:qb};function _b(){var e=nn.f(),a=bl();return e||a}function Mb(e){var a=qr(e);a!==null&&a.tag===5&&a.type==="form"?Fm(a):nn.r(e)}var es=typeof document>"u"?null:document;function jh(e,a,i){var o=es;if(o&&typeof a=="string"&&a){var h=er(a);h='link[rel="'+e+'"][href="'+h+'"]',typeof i=="string"&&(h+='[crossorigin="'+i+'"]'),Th.has(h)||(Th.add(h),e={rel:e,crossOrigin:i,href:a},o.querySelector(h)===null&&(a=o.createElement("link"),St(a,"link",e),lt(a),o.head.appendChild(a)))}}function Rb(e){nn.D(e),jh("dns-prefetch",e,null)}function Ib(e,a){nn.C(e,a),jh("preconnect",e,a)}function Pb(e,a,i){nn.L(e,a,i);var o=es;if(o&&e&&a){var h='link[rel="preload"][as="'+er(a)+'"]';a==="image"&&i&&i.imageSrcSet?(h+='[imagesrcset="'+er(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(h+='[imagesizes="'+er(i.imageSizes)+'"]')):h+='[href="'+er(e)+'"]';var g=h;switch(a){case"style":g=ts(e);break;case"script":g=rs(e)}or.has(g)||(e=v({rel:"preload",href:a==="image"&&i&&i.imageSrcSet?void 0:e,as:a},i),or.set(g,e),o.querySelector(h)!==null||a==="style"&&o.querySelector(ii(g))||a==="script"&&o.querySelector(li(g))||(a=o.createElement("link"),St(a,"link",e),lt(a),o.head.appendChild(a)))}}function Lb(e,a){nn.m(e,a);var i=es;if(i&&e){var o=a&&typeof a.as=="string"?a.as:"script",h='link[rel="modulepreload"][as="'+er(o)+'"][href="'+er(e)+'"]',g=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=rs(e)}if(!or.has(g)&&(e=v({rel:"modulepreload",href:e},a),or.set(g,e),i.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(li(g)))return}o=i.createElement("link"),St(o,"link",e),lt(o),i.head.appendChild(o)}}}function Db(e,a,i){nn.S(e,a,i);var o=es;if(o&&e){var h=Vr(o).hoistableStyles,g=ts(e);a=a||"default";var N=h.get(g);if(!N){var S={loading:0,preload:null};if(N=o.querySelector(ii(g)))S.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":a},i),(i=or.get(g))&&ic(e,i);var R=N=o.createElement("link");lt(R),St(R,"link",e),R._p=new Promise(function(O,ne){R.onload=O,R.onerror=ne}),R.addEventListener("load",function(){S.loading|=1}),R.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Al(N,a,o)}N={type:"stylesheet",instance:N,count:1,state:S},h.set(g,N)}}}function Ub(e,a){nn.X(e,a);var i=es;if(i&&e){var o=Vr(i).hoistableScripts,h=rs(e),g=o.get(h);g||(g=i.querySelector(li(h)),g||(e=v({src:e,async:!0},a),(a=or.get(h))&&lc(e,a),g=i.createElement("script"),lt(g),St(g,"link",e),i.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},o.set(h,g))}}function qb(e,a){nn.M(e,a);var i=es;if(i&&e){var o=Vr(i).hoistableScripts,h=rs(e),g=o.get(h);g||(g=i.querySelector(li(h)),g||(e=v({src:e,async:!0,type:"module"},a),(a=or.get(h))&&lc(e,a),g=i.createElement("script"),lt(g),St(g,"link",e),i.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},o.set(h,g))}}function Ch(e,a,i,o){var h=(h=J.current)?El(h):null;if(!h)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(a=ts(i.href),i=Vr(h).hoistableStyles,o=i.get(a),o||(o={type:"style",instance:null,count:0,state:null},i.set(a,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=ts(i.href);var g=Vr(h).hoistableStyles,N=g.get(e);if(N||(h=h.ownerDocument||h,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(e,N),(g=h.querySelector(ii(e)))&&!g._p&&(N.instance=g,N.state.loading=5),or.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},or.set(e,i),g||Vb(h,e,i,N.state))),a&&o===null)throw Error(l(528,""));return N}if(a&&o!==null)throw Error(l(529,""));return null;case"script":return a=i.async,i=i.src,typeof i=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=rs(i),i=Vr(h).hoistableScripts,o=i.get(a),o||(o={type:"script",instance:null,count:0,state:null},i.set(a,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function ts(e){return'href="'+er(e)+'"'}function ii(e){return'link[rel="stylesheet"]['+e+"]"}function Eh(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function Vb(e,a,i,o){e.querySelector('link[rel="preload"][as="style"]['+a+"]")?o.loading=1:(a=e.createElement("link"),o.preload=a,a.addEventListener("load",function(){return o.loading|=1}),a.addEventListener("error",function(){return o.loading|=2}),St(a,"link",i),lt(a),e.head.appendChild(a))}function rs(e){return'[src="'+er(e)+'"]'}function li(e){return"script[async]"+e}function Ah(e,a,i){if(a.count++,a.instance===null)switch(a.type){case"style":var o=e.querySelector('style[data-href~="'+er(i.href)+'"]');if(o)return a.instance=o,lt(o),o;var h=v({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),lt(o),St(o,"style",h),Al(o,i.precedence,e),a.instance=o;case"stylesheet":h=ts(i.href);var g=e.querySelector(ii(h));if(g)return a.state.loading|=4,a.instance=g,lt(g),g;o=Eh(i),(h=or.get(h))&&ic(o,h),g=(e.ownerDocument||e).createElement("link"),lt(g);var N=g;return N._p=new Promise(function(S,R){N.onload=S,N.onerror=R}),St(g,"link",o),a.state.loading|=4,Al(g,i.precedence,e),a.instance=g;case"script":return g=rs(i.src),(h=e.querySelector(li(g)))?(a.instance=h,lt(h),h):(o=i,(h=or.get(g))&&(o=v({},i),lc(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),lt(h),St(h,"link",o),e.head.appendChild(h),a.instance=h);case"void":return null;default:throw Error(l(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(o=a.instance,a.state.loading|=4,Al(o,i.precedence,e));return a.instance}function Al(e,a,i){for(var o=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,g=h,N=0;N<o.length;N++){var S=o[N];if(S.dataset.precedence===a)g=S;else if(g!==h)break}g?g.parentNode.insertBefore(e,g.nextSibling):(a=i.nodeType===9?i.head:i,a.insertBefore(e,a.firstChild))}function ic(e,a){e.crossOrigin==null&&(e.crossOrigin=a.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=a.referrerPolicy),e.title==null&&(e.title=a.title)}function lc(e,a){e.crossOrigin==null&&(e.crossOrigin=a.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=a.referrerPolicy),e.integrity==null&&(e.integrity=a.integrity)}var _l=null;function _h(e,a,i){if(_l===null){var o=new Map,h=_l=new Map;h.set(i,o)}else h=_l,o=h.get(i),o||(o=new Map,h.set(i,o));if(o.has(e))return o;for(o.set(e,null),i=i.getElementsByTagName(e),h=0;h<i.length;h++){var g=i[h];if(!(g[un]||g[ut]||e==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var N=g.getAttribute(a)||"";N=e+N;var S=o.get(N);S?S.push(g):o.set(N,[g])}}return o}function Mh(e,a,i){e=e.ownerDocument||e,e.head.insertBefore(i,a==="title"?e.querySelector("head > title"):null)}function Hb(e,a,i){if(i===1||a.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return e=a.disabled,typeof a.precedence=="string"&&e==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Rh(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Fb(e,a,i,o){if(i.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=ts(o.href),g=a.querySelector(ii(h));if(g){a=g._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(e.count++,e=Ml.bind(e),a.then(e,e)),i.state.loading|=4,i.instance=g,lt(g);return}g=a.ownerDocument||a,o=Eh(o),(h=or.get(h))&&ic(o,h),g=g.createElement("link"),lt(g);var N=g;N._p=new Promise(function(S,R){N.onload=S,N.onerror=R}),St(g,"link",o),i.instance=g}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,a),(a=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=Ml.bind(e),a.addEventListener("load",i),a.addEventListener("error",i))}}var oc=0;function Bb(e,a){return e.stylesheets&&e.count===0&&Il(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var o=setTimeout(function(){if(e.stylesheets&&Il(e,e.stylesheets),e.unsuspend){var g=e.unsuspend;e.unsuspend=null,g()}},6e4+a);0<e.imgBytes&&oc===0&&(oc=62500*Nb());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Il(e,e.stylesheets),e.unsuspend)){var g=e.unsuspend;e.unsuspend=null,g()}},(e.imgBytes>oc?50:800)+a);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Ml(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Il(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Rl=null;function Il(e,a){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Rl=new Map,a.forEach(zb,e),Rl=null,Ml.call(e))}function zb(e,a){if(!(a.state.loading&4)){var i=Rl.get(e);if(i)var o=i.get(null);else{i=new Map,Rl.set(e,i);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<h.length;g++){var N=h[g];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(i.set(N.dataset.precedence,N),o=N)}o&&i.set(null,o)}h=a.instance,N=h.getAttribute("data-precedence"),g=i.get(N)||o,g===o&&i.set(null,h),i.set(N,h),this.count++,o=Ml.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),g?g.parentNode.insertBefore(h,g.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),a.state.loading|=4}}var oi={$$typeof:D,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function Gb(e,a,i,o,h,g,N,S,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bs(0),this.hiddenUpdates=bs(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=g,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function Ih(e,a,i,o,h,g,N,S,R,O,ne,le){return e=new Gb(e,a,i,N,R,O,ne,le,S),a=1,g===!0&&(a|=24),g=Yt(3,null,null,a),e.current=g,g.stateNode=e,a=Fo(),a.refCount++,e.pooledCache=a,a.refCount++,g.memoizedState={element:o,isDehydrated:i,cache:a},Oo(g),e}function Ph(e){return e?(e=Ia,e):Ia}function Lh(e,a,i,o,h,g){h=Ph(h),o.context===null?o.context=h:o.pendingContext=h,o=kn(a),o.payload={element:i},g=g===void 0?null:g,g!==null&&(o.callback=g),i=Nn(e,o,a),i!==null&&(Ft(i,e,a),Hs(i,e,a))}function Dh(e,a){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<a?i:a}}function dc(e,a){Dh(e,a),(e=e.alternate)&&Dh(e,a)}function Uh(e){if(e.tag===13||e.tag===31){var a=Xn(e,67108864);a!==null&&Ft(a,e,67108864),dc(e,67108864)}}function qh(e){if(e.tag===13||e.tag===31){var a=Xt();a=ka(a);var i=Xn(e,a);i!==null&&Ft(i,e,a),dc(e,a)}}var Pl=!0;function Ob(e,a,i,o){var h=_.T;_.T=null;var g=W.p;try{W.p=2,cc(e,a,i,o)}finally{W.p=g,_.T=h}}function Yb(e,a,i,o){var h=_.T;_.T=null;var g=W.p;try{W.p=8,cc(e,a,i,o)}finally{W.p=g,_.T=h}}function cc(e,a,i,o){if(Pl){var h=uc(o);if(h===null)$d(e,a,o,Ll,i),Hh(e,o);else if(Wb(h,e,a,i,o))o.stopPropagation();else if(Hh(e,o),a&4&&-1<Jb.indexOf(e)){for(;h!==null;){var g=qr(h);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var N=Pr(g.pendingLanes);if(N!==0){var S=g;for(S.pendingLanes|=2,S.entangledLanes|=2;N;){var R=1<<31-Rt(N);S.entanglements[1]|=R,N&=~R}Er(g),(Ve&6)===0&&(gl=Xe()+500,ri(0))}}break;case 31:case 13:S=Xn(g,2),S!==null&&Ft(S,g,2),bl(),dc(g,2)}if(g=uc(o),g===null&&$d(e,a,o,Ll,i),g===h)break;h=g}h!==null&&o.stopPropagation()}else $d(e,a,o,null,i)}}function uc(e){return e=fo(e),mc(e)}var Ll=null;function mc(e){if(Ll=null,e=Ur(e),e!==null){var a=u(e);if(a===null)e=null;else{var i=a.tag;if(i===13){if(e=f(a),e!==null)return e;e=null}else if(i===31){if(e=p(a),e!==null)return e;e=null}else if(i===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;e=null}else a!==e&&(e=null)}}return Ll=e,null}function Vh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pa()){case Gt:return 2;case Fe:return 8;case ct:case Ke:return 32;case Ge:return 268435456;default:return 32}default:return 32}}var fc=!1,In=null,Pn=null,Ln=null,di=new Map,ci=new Map,Dn=[],Jb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Hh(e,a){switch(e){case"focusin":case"focusout":In=null;break;case"dragenter":case"dragleave":Pn=null;break;case"mouseover":case"mouseout":Ln=null;break;case"pointerover":case"pointerout":di.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":ci.delete(a.pointerId)}}function ui(e,a,i,o,h,g){return e===null||e.nativeEvent!==g?(e={blockedOn:a,domEventName:i,eventSystemFlags:o,nativeEvent:g,targetContainers:[h]},a!==null&&(a=qr(a),a!==null&&Uh(a)),e):(e.eventSystemFlags|=o,a=e.targetContainers,h!==null&&a.indexOf(h)===-1&&a.push(h),e)}function Wb(e,a,i,o,h){switch(a){case"focusin":return In=ui(In,e,a,i,o,h),!0;case"dragenter":return Pn=ui(Pn,e,a,i,o,h),!0;case"mouseover":return Ln=ui(Ln,e,a,i,o,h),!0;case"pointerover":var g=h.pointerId;return di.set(g,ui(di.get(g)||null,e,a,i,o,h)),!0;case"gotpointercapture":return g=h.pointerId,ci.set(g,ui(ci.get(g)||null,e,a,i,o,h)),!0}return!1}function Fh(e){var a=Ur(e.target);if(a!==null){var i=u(a);if(i!==null){if(a=i.tag,a===13){if(a=f(i),a!==null){e.blockedOn=a,Ns(e.priority,function(){qh(i)});return}}else if(a===31){if(a=p(i),a!==null){e.blockedOn=a,Ns(e.priority,function(){qh(i)});return}}else if(a===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Dl(e){if(e.blockedOn!==null)return!1;for(var a=e.targetContainers;0<a.length;){var i=uc(e.nativeEvent);if(i===null){i=e.nativeEvent;var o=new i.constructor(i.type,i);mo=o,i.target.dispatchEvent(o),mo=null}else return a=qr(i),a!==null&&Uh(a),e.blockedOn=i,!1;a.shift()}return!0}function Bh(e,a,i){Dl(e)&&i.delete(a)}function Kb(){fc=!1,In!==null&&Dl(In)&&(In=null),Pn!==null&&Dl(Pn)&&(Pn=null),Ln!==null&&Dl(Ln)&&(Ln=null),di.forEach(Bh),ci.forEach(Bh)}function Ul(e,a){e.blockedOn===a&&(e.blockedOn=null,fc||(fc=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Kb)))}var ql=null;function zh(e){ql!==e&&(ql=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){ql===e&&(ql=null);for(var a=0;a<e.length;a+=3){var i=e[a],o=e[a+1],h=e[a+2];if(typeof o!="function"){if(mc(o||i)===null)continue;break}var g=qr(i);g!==null&&(e.splice(a,3),a-=3,ud(g,{pending:!0,data:h,method:i.method,action:o},o,h))}}))}function ns(e){function a(R){return Ul(R,e)}In!==null&&Ul(In,e),Pn!==null&&Ul(Pn,e),Ln!==null&&Ul(Ln,e),di.forEach(a),ci.forEach(a);for(var i=0;i<Dn.length;i++){var o=Dn[i];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Dn.length&&(i=Dn[0],i.blockedOn===null);)Fh(i),i.blockedOn===null&&Dn.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(o=0;o<i.length;o+=3){var h=i[o],g=i[o+1],N=h[vt]||null;if(typeof g=="function")N||zh(i);else if(N){var S=null;if(g&&g.hasAttribute("formAction")){if(h=g,N=g[vt]||null)S=N.formAction;else if(mc(h)!==null)continue}else S=N.action;typeof S=="function"?i[o+1]=S:(i.splice(o,3),o-=3),zh(i)}}}function Gh(){function e(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(N){return h=N})},focusReset:"manual",scroll:"manual"})}function a(){h!==null&&(h(),h=null),o||setTimeout(i,20)}function i(){if(!o&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(i,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),h!==null&&(h(),h=null)}}}function hc(e){this._internalRoot=e}Vl.prototype.render=hc.prototype.render=function(e){var a=this._internalRoot;if(a===null)throw Error(l(409));var i=a.current,o=Xt();Lh(i,o,e,a,null,null)},Vl.prototype.unmount=hc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var a=e.containerInfo;Lh(e.current,2,null,e,null,null),bl(),a[Dr]=null}};function Vl(e){this._internalRoot=e}Vl.prototype.unstable_scheduleHydration=function(e){if(e){var a=ks();e={blockedOn:null,target:e,priority:a};for(var i=0;i<Dn.length&&a!==0&&a<Dn[i].priority;i++);Dn.splice(i,0,e),i===0&&Fh(e)}};var Oh=r.version;if(Oh!=="19.2.0")throw Error(l(527,Oh,"19.2.0"));W.findDOMNode=function(e){var a=e._reactInternals;if(a===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=x(a),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var $b={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:_,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hl.isDisabled&&Hl.supportsFiber)try{_t=Hl.inject($b),Mt=Hl}catch{}}return fi.createRoot=function(e,a){if(!d(e))throw Error(l(299));var i=!1,o="",h=Xm,g=Qm,N=Zm;return a!=null&&(a.unstable_strictMode===!0&&(i=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(N=a.onRecoverableError)),a=Ih(e,1,!1,null,null,i,o,null,h,g,N,Gh),e[Dr]=a.current,Kd(e),new hc(a)},fi.hydrateRoot=function(e,a,i){if(!d(e))throw Error(l(299));var o=!1,h="",g=Xm,N=Qm,S=Zm,R=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onUncaughtError!==void 0&&(g=i.onUncaughtError),i.onCaughtError!==void 0&&(N=i.onCaughtError),i.onRecoverableError!==void 0&&(S=i.onRecoverableError),i.formState!==void 0&&(R=i.formState)),a=Ih(e,1,!0,a,i??null,o,h,R,g,N,S,Gh),a.context=Ph(null),i=a.current,o=Xt(),o=ka(o),h=kn(o),h.callback=null,Nn(i,h,o),i=o,a.current.lanes=i,cn(a,i),Er(a),e[Dr]=a.current,Kd(e),new Vl(a)},fi.version="19.2.0",fi}var tp;function iv(){if(tp)return gc.exports;tp=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(r){console.error(r)}}return n(),gc.exports=sv(),gc.exports}var lv=iv();const ov=Vx(lv),dv="modulepreload",cv=function(n){return"/"+n},rp={},Bt=function(r,s,l){let d=Promise.resolve();if(s&&s.length>0){let f=function(x){return Promise.all(x.map(b=>Promise.resolve(b).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),y=(p==null?void 0:p.nonce)||(p==null?void 0:p.getAttribute("nonce"));d=f(s.map(x=>{if(x=cv(x),x in rp)return;rp[x]=!0;const b=x.endsWith(".css"),v=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${x}"]${v}`))return;const k=document.createElement("link");if(k.rel=b?"stylesheet":dv,b||(k.as="script"),k.crossOrigin="",k.href=x,y&&k.setAttribute("nonce",y),document.head.appendChild(k),b)return new Promise((w,j)=>{k.addEventListener("load",w),k.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${x}`)))})}))}function u(f){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=f,window.dispatchEvent(p),!p.defaultPrevented)throw f}return d.then(f=>{for(const p of f||[])p.status==="rejected"&&u(p.reason);return r().catch(u)})},Hx=({className:n="w-8 h-8"})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),$l=({className:n="w-8 h-8"})=>t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),uv=({className:n="w-6 h-6"})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,viewBox:"0 0 20 20",fill:"currentColor",children:t.jsx("path",{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"})}),Rr=({className:n="w-8 h-8"})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,viewBox:"0 0 24 24",fill:"currentColor",children:t.jsx("path",{fillRule:"evenodd",d:"M7.5 6a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zM3.751 20.105a8.25 8.25 0 0116.498 0 .75.75 0 01-.437.695A18.683 18.683 0 0112 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 01-.437-.695z",clipRule:"evenodd"})}),yr=({className:n="w-8 h-8"})=>t.jsxs("svg",{className:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M3 9.5L12 2L21 9.5V21C21 21.5523 20.5523 22 20 22H4C3.44772 22 3 21.5523 3 21V9.5Z",stroke:"currentColor",className:"text-brand-primary",strokeWidth:"2",strokeLinejoin:"round"}),t.jsx("path",{d:"M12 18C13.1046 18 14 17.1046 14 16C14 14.8954 13.1046 14 12 14C10.8954 14 10 14.8954 10 16C10 17.1046 10.8954 18 12 18Z",stroke:"currentColor",className:"text-brand-secondary",strokeWidth:"1.5"}),t.jsx("path",{d:"M12 14V11",stroke:"currentColor",className:"text-brand-secondary",strokeWidth:"2",strokeLinecap:"round"})]}),mv=({className:n="w-6 h-6"})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"})}),je=({className:n="w-6 h-6"})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),Fx=({className:n="w-6 h-6"})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18.75a6 6 0 006-6v-1.5m-6 7.5a6 6 0 01-6-6v-1.5m6 7.5v3.75m-3.75 0h7.5M12 15.75a3 3 0 01-3-3V4.5a3 3 0 013-3a3 3 0 013 3v8.25a3 3 0 01-3 3z"})}),fv=({className:n="w-6 h-6"})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:n,children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.25 9.75 19.5 12m0 0 2.25 2.25M19.5 12l-2.25 2.25m-10.5-6 4.72-4.72a.75.75 0 0 1 1.28.53v15.88a.75.75 0 0 1-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.01 9.01 0 0 1 2.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75Z"})}),Bx=({className:n="w-6 h-6"})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})}),Vc=({className:n="w-6 h-6"})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 002.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 01-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 00-1.091-.852H4.5A2.25 2.25 0 002.25 6.75z"})}),zx=({className:n="w-5 h-5"})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),np=({className:n="w-6 h-6"})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:n,children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m15.75 10.5-4.72 4.72a.75.75 0 0 1-1.06 0l-4.72-4.72M4.5 8.25 12 12m6.75-3.75L12 12m0 0 .75.75M12 12l-.75.75M12 12l.75-.75M12 12l-.75-.75m9-3.75h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 21h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 21 4.5Z"})}),ap=({className:n="w-6 h-6"})=>t.jsxs("svg",{className:n,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]}),us=({className:n="w-6 h-6"})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:n,children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m15.75 10.5 4.72-4.72a.75.75 0 0 1 1.28.53v11.38a.75.75 0 0 1-1.28.53l-4.72-4.72M4.5 18.75h9a2.25 2.25 0 0 0 2.25-2.25v-9A2.25 2.25 0 0 0 13.5 5.25h-9A2.25 2.25 0 0 0 2.25 7.5v9A2.25 2.25 0 0 0 4.5 18.75Z"})}),sp=({className:n="w-6 h-6"})=>t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:n,children:[t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 10.5l-4.72 4.72a.75.75 0 0 1-1.06 0l-4.72-4.72M4.5 18.75h9a2.25 2.25 0 0 0 2.25-2.25v-9A2.25 2.25 0 0 0 13.5 5.25h-9A2.25 2.25 0 0 0 2.25 7.5v9A2.25 2.25 0 0 0 4.5 18.75Z"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})]}),Hc=({className:n="w-5 h-5"})=>t.jsx("svg",{className:n,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:t.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})}),Gx=({className:n="w-6 h-6"})=>t.jsx("svg",{className:n,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:t.jsx("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})}),Ox=({className:n="w-6 h-6"})=>t.jsx("svg",{className:n,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:t.jsx("path",{fillRule:"evenodd",d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z",clipRule:"evenodd"})}),Ae=({className:n="w-6 h-6"})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),Hn=({className:n="w-6 h-6"})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),hv=({className:n="w-6 h-6"})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:n,children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})}),ip=({className:n="w-6 h-6"})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:n,children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})}),Fc=({className:n="w-6 h-6"})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:n,children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),Gn=({className:n="w-5 h-5"})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,viewBox:"0 0 20 20",fill:"currentColor",children:t.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),Yx=({className:n="w-6 h-6"})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 001.5-.189m-1.5.189a6.01 6.01 0 01-1.5-.189m3.75 7.478a12.06 12.06 0 01-4.5 0m3.75 2.311a7.5 7.5 0 01-7.5 0c-1.451 0-2.713-.62-3.687-1.645a7.5 7.5 0 0114.874 0c-.974 1.025-2.236 1.645-3.687 1.645z"})}),Jx=({className:n="w-6 h-6"})=>t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:[t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6a7.5 7.5 0 100 12h5.25a1.5 1.5 0 001.5-1.5V7.5a1.5 1.5 0 00-1.5-1.5H10.5z"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5a1.5 1.5 0 00-1.5-1.5H10.5V15h4.5a1.5 1.5 0 001.5-1.5v-3z"})]}),pv=({className:n="w-5 h-5"})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,viewBox:"0 0 20 20",fill:"currentColor",children:t.jsx("path",{d:"M1 8.25a1.25 1.25 0 112.5 0v7.5a1.25 1.25 0 11-2.5 0v-7.5zM11 3V1.7c0-.268.14-.526.395-.607A2 2 0 0114 3c0 .995-.182 1.948-.514 2.826-.21.574-.438 1.11-.682 1.614l-1.42 2.131A12.002 12.002 0 0011 11.25a1 1 0 102 0c0-1.16-.321-2.298-.899-3.285l.423-.635a1.82 1.82 0 00.38-1.432 2.016 2.016 0 00-.6-1.125 1.745 1.745 0 00-2.815.228zM4 15.75a.75.75 0 00.75.75h4.44l1.096-2.557a1.125 1.125 0 00-1.01-1.586H8.25a.75.75 0 00-.75.75v2.25z"})}),Bc=({className:n="w-5 h-5"})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,viewBox:"0 0 20 20",fill:"currentColor",children:t.jsx("path",{fillRule:"evenodd",d:"M10 2a8 8 0 100 16 8 8 0 000-16zM2 10a8 8 0 1116 0 8 8 0 01-16 0zm7.1-2.54a.75.75 0 00-1.2.92l.96 1.44H8.25a.75.75 0 000 1.5h2.19l-1.02 1.53a.75.75 0 101.2 1.02l2.25-3.375a.75.75 0 000-1.02L9.1 7.46z",clipRule:"evenodd"})}),fa=({className:n="w-5 h-5"})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,viewBox:"0 0 20 20",fill:"currentColor",children:t.jsx("path",{fillRule:"evenodd",d:"M15.312 11.342a1.25 1.25 0 010 1.768l-4.5 4.5a1.25 1.25 0 11-1.768-1.768L12.657 12H5.25a1.25 1.25 0 010-2.5h7.407l-3.625-3.625a1.25 1.25 0 111.768-1.768l4.5 4.5z",clipRule:"evenodd"})}),zc=({className:n="w-5 h-5"})=>t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,viewBox:"0 0 20 20",fill:"currentColor",children:[t.jsx("path",{d:"M10 3.75a.75.75 0 0 1 .75.75v10.5a.75.75 0 0 1-1.5 0V4.5a.75.75 0 0 1 .75-.75z"}),t.jsx("path",{d:"M10 3.75a.75.75 0 0 1 .75.75v10.5a.75.75 0 0 1-1.5 0V4.5a.75.75 0 0 1 .75-.75zM10 2a.75.75 0 0 1 .75.75v.01a.75.75 0 0 1-1.5 0V2.75A.75.75 0 0 1 10 2zM12.28 5.22a.75.75 0 0 0 0 1.06l1.72 1.72H4.75a.75.75 0 0 0 0 1.5h9.25l-1.72 1.72a.75.75 0 1 0 1.06 1.06l3-3a.75.75 0 0 0 0-1.06l-3-3a.75.75 0 0 0-1.06 0z"}),t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16zM2 10a8 8 0 1 1 16 0 8 8 0 0 1-16 0zM12.28 6.22a.75.75 0 0 0-1.06 1.06L11.94 8l-1.72 1.72a.75.75 0 1 0 1.06 1.06l2-2a.75.75 0 0 0 0-1.06l-2-2z"}),t.jsx("path",{fillRule:"evenodd",d:"M10 2a.75.75 0 0 1 .75.75v10.5a.75.75 0 0 1-1.5 0V2.75A.75.75 0 0 1 10 2zM12.28 5.22a.75.75 0 0 0-1.06 1.06L11.94 7H4.75a.75.75 0 0 0 0 1.5h7.19l-.72.72a.75.75 0 1 0 1.06 1.06l2-2a.75.75 0 0 0 0-1.06l-2-2z"}),t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16zM2 10a8 8 0 1 1 16 0 8 8 0 0 1-16 0zm10-5.25a.75.75 0 0 0-1.5 0v4.5a.75.75 0 0 0 1.5 0v-4.5z"}),t.jsx("path",{d:"M10.75 5.25a.75.75 0 0 0-1.5 0v4.5a.75.75 0 0 0 1.5 0v-4.5z"}),t.jsx("path",{fillRule:"evenodd",d:"M2 10a8 8 0 1 1 16 0 8 8 0 0 1-16 0zM12 7.25a.75.75 0 0 0-1.5 0v4.5a.75.75 0 0 0 1.5 0v-4.5z",clipRule:"evenodd"}),t.jsx("path",{fillRule:"evenodd",d:"M12.25 8.5H7.75a.75.75 0 0 0 0 1.5h4.5a.75.75 0 0 0 0-1.5z",clipRule:"evenodd"}),t.jsx("path",{d:"M6.25 10.25a.75.75 0 000 1.5h7.5a.75.75 0 000-1.5h-7.5z"}),t.jsx("path",{fillRule:"evenodd",d:"M2 5a3 3 0 013-3h10a3 3 0 013 3v10a3 3 0 01-3 3H5a3 3 0 01-3-3V5zm3-1.5A1.5 1.5 0 003.5 5v10A1.5 1.5 0 005 16.5h10A1.5 1.5 0 0016.5 15V5A1.5 1.5 0 0015 3.5H5z",clipRule:"evenodd"})]}),Xl=({className:n="w-6 h-6"})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.318 6.318a4.5 4.5 0 016.364 0L12 7.5l1.318-1.182a4.5 4.5 0 116.364 6.364L12 20.25l-7.682-7.682a4.5 4.5 0 010-6.364z"})}),Gc=({className:n})=>t.jsxs("svg",{className:n,viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M54 26L32 8L10 26V54C10 55.1046 10.8954 56 12 56H52C53.1046 56 54 55.1046 54 54V26Z",stroke:"currentColor",className:"text-brand-secondary",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M24 44H40V56H24V44Z",stroke:"currentColor",className:"text-brand-primary",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"})]}),Wx=({className:n})=>t.jsxs("svg",{className:n,viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M10 54V12C10 10.8954 10.8954 10 12 10H52C53.1046 10 54 10.8954 54 12V54",stroke:"currentColor",className:"text-brand-secondary",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M10 54H54",stroke:"currentColor",className:"text-brand-secondary",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M22 22H26",stroke:"currentColor",className:"text-brand-primary",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M38 22H42",stroke:"currentColor",className:"text-brand-primary",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M22 32H26",stroke:"currentColor",className:"text-brand-primary",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M38 32H42",stroke:"currentColor",className:"text-brand-primary",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M22 42H42",stroke:"currentColor",className:"text-brand-primary",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"})]}),Oc=({className:n})=>t.jsxs("svg",{className:n,viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M18 10H46V54H18V10Z",stroke:"currentColor",className:"text-brand-secondary",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M32 54V10",stroke:"currentColor",className:"text-brand-secondary",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M25 18H39",stroke:"currentColor",className:"text-brand-primary",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M25 28H39",stroke:"currentColor",className:"text-brand-primary",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M25 38H39",stroke:"currentColor",className:"text-brand-primary",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M25 48H39",stroke:"currentColor",className:"text-brand-primary",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"})]}),Kx=({className:n})=>t.jsxs("svg",{className:n,viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M10 54V20L32 8L54 20V54H10Z",stroke:"currentColor",className:"text-brand-secondary",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M18 54V34C18 32.8954 18.8954 32 20 32H44C45.1046 32 46 32.8954 46 34V54",stroke:"currentColor",className:"text-brand-primary",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M54 20H10",stroke:"currentColor",className:"text-brand-secondary",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"})]}),$x=({className:n})=>t.jsxs("svg",{className:n,viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M12 14L32 6L52 14L32 22L12 14Z",stroke:"currentColor",className:"text-brand-primary",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M12 14V48L32 58V32",stroke:"currentColor",className:"text-brand-secondary",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M52 14V48L32 58",stroke:"currentColor",className:"text-brand-secondary",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M52 14L32 22",stroke:"currentColor",className:"text-brand-secondary",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"})]}),Xx=({className:n})=>t.jsxs("svg",{className:n,viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M10 42L32 54L54 42",stroke:"currentColor",className:"text-brand-secondary",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M10 30L32 42L54 30",stroke:"currentColor",className:"text-brand-secondary",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M32 10L58 24L32 38L6 24L32 10Z",stroke:"currentColor",className:"text-brand-primary",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"})]}),Qx=({className:n})=>t.jsxs("svg",{className:n,viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M54 26L32 8L10 26V54H54V26Z",stroke:"currentColor",className:"text-brand-secondary",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M26.25 38C28.4591 35.7909 31.7409 35.7909 33.95 38",stroke:"currentColor",className:"text-brand-primary",strokeWidth:"3",strokeLinecap:"round"}),t.jsx("path",{d:"M22 34C26.4183 29.5817 33.7817 29.5817 38.2 34",stroke:"currentColor",className:"text-brand-primary",strokeWidth:"3",strokeLinecap:"round"}),t.jsx("path",{d:"M17.75 30C30.668 17.082 39.532 17.082 52.45 30",stroke:"currentColor",className:"text-brand-primary",strokeWidth:"3",strokeLinecap:"round"})]}),wc=({className:n})=>t.jsxs("svg",{className:n,viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("circle",{cx:"22",cy:"22",r:"8",stroke:"currentColor",className:"text-brand-primary",strokeWidth:"3"}),t.jsx("path",{d:"M28 28L46 46",stroke:"currentColor",className:"text-brand-primary",strokeWidth:"3",strokeLinecap:"round"}),t.jsx("path",{d:"M36 14L50 28",stroke:"currentColor",className:"text-brand-secondary",strokeWidth:"3",strokeLinecap:"round"}),t.jsx("path",{d:"M38 52L22 36",stroke:"currentColor",className:"text-brand-secondary",strokeWidth:"3",strokeLinecap:"round"}),t.jsx("path",{d:"M14 38L28 52",stroke:"currentColor",className:"text-brand-secondary",strokeWidth:"3",strokeLinecap:"round"})]}),Zx=({className:n})=>t.jsxs("svg",{className:n,viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M10 12L24 6L54 18V52L40 58L10 46V12Z",stroke:"currentColor",className:"text-brand-secondary",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("circle",{cx:"32",cy:"32",r:"6",stroke:"currentColor",className:"text-brand-primary",strokeWidth:"3"}),t.jsx("path",{d:"M32 26V16",stroke:"currentColor",className:"text-brand-primary",strokeWidth:"3",strokeLinecap:"round"}),t.jsx("path",{d:"M32 48V38",stroke:"currentColor",className:"text-brand-primary",strokeWidth:"3",strokeLinecap:"round"}),t.jsx("path",{d:"M38 32H48",stroke:"currentColor",className:"text-brand-primary",strokeWidth:"3",strokeLinecap:"round"}),t.jsx("path",{d:"M16 32H26",stroke:"currentColor",className:"text-brand-primary",strokeWidth:"3",strokeLinecap:"round"})]}),eg=({className:n})=>t.jsxs("svg",{className:n,viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M10 54L24 10",stroke:"currentColor",className:"text-brand-secondary",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M54 54L40 10",stroke:"currentColor",className:"text-brand-secondary",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M32 38C36.4183 38 40 34.4183 40 30C40 25.5817 32 14 32 14C32 14 24 25.5817 24 30C24 34.4183 27.5817 38 32 38Z",stroke:"currentColor",className:"text-brand-primary",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M32 54V48",stroke:"currentColor",className:"text-brand-secondary",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"})]}),xv=({className:n="w-5 h-5"})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75zM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625zM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125z"})}),gv=({className:n="w-5 h-5"})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.182 15.182a4.5 4.5 0 0 1-6.364 0M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0zM9 9.75h.008v.008H9V9.75zm6 0h.008v.008H15V9.75z"})}),Yc=({className:n="w-5 h-5"})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0z"})}),Jc=({className:n="w-5 h-5"})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15.75l5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5z"})}),cr=({className:n="w-6 h-6"})=>t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:[t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0z"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.91 11.672a.375.375 0 0 1 0 .656l-5.603 3.113a.375.375 0 0 1-.557-.328V8.887c0-.286.307-.466.557-.327l5.603 3.112z"})]}),Wc=({className:n="w-5 h-5"})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757m13.35-.622 1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244"})}),Bn=({className:n="w-6 h-6"})=>t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:[t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 12m18 0v6.25a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 18.25V12m18 0V6.75A2.25 2.25 0 0 0 18.75 4.5H5.25A2.25 2.25 0 0 0 3 6.75v5.25m16.5 0v3.75m-16.5-3.75v3.75m16.5 0v3.75C20.25 19.563 19.563 21 18 21H6c-1.563 0-2.25-1.437-2.25-2.25V15m16.5 0h-18"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9.75a1.5 1.5 0 0 1 1.5 1.5v1.5a1.5 1.5 0 0 1-3 0V9.75Z"})]}),Kc=({className:n="w-6 h-6"})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.25 7.756a4.5 4.5 0 0 1 0 8.488M7.5 10.5h5.25m-5.25 3h5.25M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),gi=({className:n="w-6 h-6"})=>t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:[t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.125 2.25h-4.5c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125v-9.75a1.125 1.125 0 0 0-.22-.674l-2.716-2.716A1.125 1.125 0 0 0 16.125 7.5h-1.5v-3.375c0-.621-.504-1.125-1.125-1.125h-4.5ZM13.5 10.5v6.75m0 0-3-3m3 3 3-3"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75"})]}),yv=({className:n="w-6 h-6"})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})}),Sc=({className:n="w-6 h-6"})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.57-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.286Zm0 0A11.953 11.953 0 0 1 12 2.75c1.75 0 3.416.412 4.902 1.154 1.486.742 2.824 1.86 3.942 3.286"})}),ki=({className:n="w-6 h-6"})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m-7.5-2.962a3.752 3.752 0 0 1-4.493 0L5.25 15.75m0 0a3.75 3.75 0 0 1 4.493 0m0 0a3.75 3.75 0 0 1 4.493 0M19.5 12c0-5.485-4.63-9.942-10.125-9.942S.375 6.515.375 12s4.63 9.942 10.125 9.942c.836 0 1.644-.105 2.423-.305m-3.512-5.012A3 3 0 1 1 12.5 12a3 3 0 0 1-2.7 2.44"})}),ur=({className:n="w-6 h-6"})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.28m5.94 2.28L19.5 21M12 21a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),br=({className:n="w-6 h-6"})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"})}),bv=({className:n="w-6 h-6"})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:n,children:t.jsx("path",{fillRule:"evenodd",d:"M10.868 2.884c.321-.662 1.134-.662 1.456 0l1.96 4.022a1 1 0 0 0 .95.69h4.423c.73 0 1.043.916.527 1.411l-3.58 2.6a1 1 0 0 0-.364 1.118l1.37 4.14a1 1 0 0 1-1.54 1.118l-3.58-2.6a1 1 0 0 0-1.176 0l-3.58 2.6a1 1 0 0 1-1.54-1.118l1.37-4.14a1 1 0 0 0-.364-1.118L2.07 8.995a1 1 0 0 1 .527-1.411H7.02a1 1 0 0 0 .95-.69L10.868 2.884Z",clipRule:"evenodd"})}),vv=({className:n="w-6 h-6"})=>t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:[t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 15.75V18m-4.5-2.25v2.25m-4.5-2.25v2.25M9 11.25v2.25M13.5 11.25v2.25M18 11.25v2.25M18 15v2.25M13.5 15v2.25M9 15v2.25M4.5 15v2.25M4.5 11.25v2.25M4.5 9v2.25m13.5-2.25V9m0-4.5v2.25M9 4.5v2.25M4.5 4.5v2.25m13.5 4.5V9m-4.5 2.25V9m-4.5 2.25V9M9 9V6.75M13.5 9V6.75M18 9V6.75m-9 11.25v-2.25"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 6a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v0Z"})]}),tg=({className:n="w-6 h-6"})=>t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:[t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 12.75h.008v.008H12v-.008Z"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 6.75h7.5"})]}),Mr=({className:n="w-6 h-6"})=>t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:[t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 21v-7.5A2.25 2.25 0 0 1 15.75 11.25h.5a2.25 2.25 0 0 1 2.25 2.25V21M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5"})]}),Ql=({className:n="w-6 h-6"})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m15 11.25-3-3m0 0-3 3m3-3v7.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),Ni=({className:n="w-6 h-6"})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"})}),rg=({className:n="w-6 h-6"})=>t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:[t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9 9 0 1 0 0-18 9 9 0 0 0 0 18Z"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9 9 0 1 0-5.618-16.48M3.465 10.5h17.07"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9 9 0 0 0 5.618-16.481"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c-3.262 0-6.19 1.936-7.535 4.717"})]}),fs=({className:n="w-6 h-6"})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 0 0-3 3h15.75m-12.75-3h11.218c.51 0 .962-.343 1.087-.835l1.823-6.831a.75.75 0 0 0-.67-1.03H5.625a.75.75 0 0 0-.75.75v11.25m0 0A3 3 0 0 1 7.5 18h9a3 3 0 0 1 0-6H7.5Z"})}),zn=({className:n="w-5 h-5"})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,viewBox:"0 0 20 20",fill:"currentColor",children:t.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 0 1 0 1.414L9.414 10l3.293 3.293a1 1 0 0 1-1.414 1.414l-4-4a1 1 0 0 1 0-1.414l4-4a1 1 0 0 1 1.414 0z",clipRule:"evenodd"})}),wi=({className:n="w-6 h-6"})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 16.5V9.75m0 0 3 3m-3-3-3 3M6.75 19.5a4.5 4.5 0 0 1-1.41-8.775 5.25 5.25 0 0 1 10.233-2.33 3 3 0 0 1 3.758 3.848A3.752 3.752 0 0 1 18 19.5H6.75Z"})}),ng=({className:n="w-6 h-6"})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:n,children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.114 5.636a9 9 0 0 1 0 12.728M16.463 8.288a5.25 5.25 0 0 1 0 7.424M6.75 8.25l4.72-4.72a.75.75 0 0 1 1.28.53v15.88a.75.75 0 0 1-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.009 9.009 0 0 1 2.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75Z"})}),ag=({className:n="w-6 h-6"})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:n,children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.25 9.75 19.5 12m0 0 2.25 2.25M19.5 12l-2.25 2.25M6.75 8.25l4.72-4.72a.75.75 0 0 1 1.28.53v15.88a.75.75 0 0 1-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.009 9.009 0 0 1 2.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75Z"})}),kv=({className:n="w-6 h-6"})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:n,children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"})}),Nv=({className:n="w-6 h-6"})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:n,children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"})}),sg=({className:n="w-5 h-5"})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:n,children:t.jsx("path",{d:"M5 2a1 1 0 0 0-1 1v13.586a1 1 0 0 0 1.707.707l4.586-4.586a1 1 0 0 1 1.414 0l4.586 4.586A1 1 0 0 0 16 16.586V3a1 1 0 0 0-1-1H5Z"})}),wv=({className:n="w-5 h-5"})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:n,children:t.jsx("path",{fillRule:"evenodd",d:"M2.5 4A1.5 1.5 0 0 0 1 5.5v.75A.75.75 0 0 0 2.5 7h15a.75.75 0 0 0 .75-.75V5.5A1.5 1.5 0 0 0 17.5 4h-15ZM1.057 9.472a.75.75 0 0 1 .634-.472h16.618a.75.75 0 0 1 .634.472l-1.5 3a.75.75 0 0 1-.634.528H3.191a.75.75 0 0 1-.634-.528l-1.5-3Zm3.134 6.028a.75.75 0 0 1 .634-.472h10.05a.75.75 0 0 1 .634.472l-1.5 3a.75.75 0 0 1-.634.528H6.321a.75.75 0 0 1-.634-.528l-1.5-3Z",clipRule:"evenodd"})}),Sv=({className:n="w-5 h-5"})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),Zl=({className:n="w-5 h-5"})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),Tv=({className:n="w-6 h-6"})=>t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),jv=({className:n="w-4 h-4"})=>t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,viewBox:"0 0 20 20",fill:"currentColor",children:[t.jsx("path",{d:"M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"}),t.jsx("path",{fillRule:"evenodd",d:"M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z",clipRule:"evenodd"})]}),Cv=({className:n="w-6 h-6"})=>t.jsx("svg",{className:n,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:t.jsx("path",{fillRule:"evenodd",d:"M19.812 5.418c.861.23 1.538.907 1.768 1.768C21.998 8.78 22 12 22 12s0 3.22-.418 4.814a2.506 2.506 0 0 1-1.768 1.768c-1.594.418-7.814.418-7.814.418s-6.22 0-7.814-.418a2.506 2.506 0 0 1-1.768-1.768C2 15.22 2 12 2 12s0-3.22.418-4.814a2.506 2.506 0 0 1 1.768-1.768C5.78 5 12 5 12 5s6.22 0 7.814.418zM9.545 15.568V8.432L15.818 12l-6.273 3.568z",clipRule:"evenodd"})}),Tc=({className:n="w-6 h-6"})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})}),ig=({className:n="w-6 h-6"})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),Ev=({className:n="w-6 h-6"})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 12h-15"})}),Av=[{id:1,name:"Tunde Adebayo",service:"Plumber",email:"t.adebayo@email.com",phone:"08012345678",avatarUrl:"https://images.unsplash.com/photo-1599566150163-29194dcaad36?q=80&w=256"},{id:2,name:"Amina Salisu",service:"Electrician",email:"a.salisu@email.com",phone:"08023456789",avatarUrl:"https://images.unsplash.com/photo-1580489944761-15a19d654956?q=80&w=256"},{id:3,name:"Chike Obi",service:"Carpenter",email:"c.obi@email.com",phone:"08034567890",avatarUrl:"https://images.unsplash.com/photo-1564564321837-a57b7070ac4f?q=80&w=256"},{id:4,name:"Fatima Bello",service:"Painter",email:"f.bello@email.com",phone:"08045678901",avatarUrl:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?q=80&w=256"},{id:5,name:"Samuel Kalu",service:"AC Repair",email:"s.kalu@email.com",phone:"08056789012",avatarUrl:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?q=80&w=256"},{id:6,name:"Ngozi Eze",service:"Mover",email:"n.eze@email.com",phone:"08067890123",avatarUrl:"https://images.unsplash.com/photo-1544005313-94ddf0286df2?q=80&w=256"},{id:7,name:"Musa Ibrahim",service:"Cleaner",email:"m.ibrahim@email.com",phone:"08078901234",avatarUrl:"https://images.unsplash.com/photo-1552058544-f2b08422138a?q=80&w=256"},{id:8,name:"Bola Ahmed",service:"Tutor",email:"b.ahmed@email.com",phone:"08089012345",avatarUrl:"https://images.unsplash.com/photo-1539571696357-5a69c17a67c6?q=80&w=256"}],_v=({onStartChatting:n})=>t.jsxs("section",{className:"text-center pt-16 md:pt-20",children:[t.jsx("div",{className:"mb-12 px-4",children:t.jsxs("div",{className:"relative max-w-5xl mx-auto",children:[t.jsx("img",{src:"https://images.unsplash.com/photo-1582407947304-fd86f028f716?q=80&w=2070",alt:"Impressive modern architectural building",className:"w-full h-auto max-h-[500px] object-cover rounded-2xl shadow-2xl shadow-brand-primary/10"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-light-bg dark:from-dark-bg via-light-bg/60 dark:via-dark-bg/60 to-transparent rounded-2xl"})]})}),t.jsx("h1",{className:"text-4xl md:text-6xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-brand-primary to-cyan-400 mb-4 tracking-tight",children:"Where Renting Meets Intelligence"}),t.jsx("p",{className:"max-w-3xl mx-auto text-lg md:text-xl text-light-text-secondary dark:text-dark-text-secondary mb-8 px-4",children:"Our AI-powered platform offers a comprehensive suite of features to make finding and securing your next accommodation effortless."}),t.jsx("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 mt-10",children:t.jsxs("button",{onClick:n,className:"w-full sm:w-auto inline-flex items-center justify-center px-8 py-4 text-lg font-bold text-white bg-brand-primary rounded-lg shadow-lg shadow-brand-primary/20 hover:bg-brand-secondary transition-all transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-primary",children:["Get Started Now",t.jsx(Gn,{className:"ml-2 w-5 h-5"})]})})]}),Mv=()=>{const n=[{title:"Residential House",description:"Find your long-term home, from duplexes to flats.",icon:t.jsx(Gc,{className:"w-12 h-12"})},{title:"Hotels & Guest Houses",description:"Book short-term stays for travel or leisure.",icon:t.jsx(Wx,{className:"w-12 h-12"})},{title:"Office Space",description:"Secure the perfect workspace for your business.",icon:t.jsx(Oc,{className:"w-12 h-12"})},{title:"Business Premises",description:"Retail, warehouse, or commercial spaces.",icon:t.jsx(Kx,{className:"w-12 h-12"})},{title:"Event Venue",description:"Find the ideal space for any occasion.",icon:t.jsx($x,{className:"w-12 h-12"})},{title:"Student Hostels",description:"Affordable and convenient student living.",icon:t.jsx(Xx,{className:"w-12 h-12"})},{title:"Smart Home Rent",description:"Live in the future with tech-enabled homes.",icon:t.jsx(Qx,{className:"w-12 h-12"})},{title:"Rent-to-Own",description:"A clear path to homeownership.",icon:t.jsx(wc,{className:"w-12 h-12"})},{title:"Trip Planner",description:"Organize your entire journey with our tools.",icon:t.jsx(Zx,{className:"w-12 h-12"})},{title:"Road Navigation",description:"Logistics and navigation for seamless travel.",icon:t.jsx(eg,{className:"w-12 h-12"})}];return t.jsxs("section",{className:"py-16 md:py-24 px-4",children:[t.jsxs("div",{className:"text-center mb-12 max-w-7xl mx-auto",children:[t.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-light-text-primary dark:text-dark-text-primary",children:"Find Exactly What You Need"}),t.jsx("p",{className:"max-w-3xl mx-auto mt-4 text-light-text-secondary dark:text-dark-text-secondary",children:"From long-term homes to specialized services, our AI-powered platform caters to every accommodation and travel requirement."})]}),t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 max-w-7xl mx-auto",children:n.map((r,s)=>t.jsxs("div",{className:`p-6 bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border rounded-xl text-center flex flex-col items-center cursor-pointer
                                   transition-all duration-300 ease-in-out
                                   hover:border-brand-primary/80 hover:shadow-[0_0_20px_rgba(0,168,168,0.25)]`,children:[t.jsx("div",{className:"text-brand-primary mb-4",children:r.icon}),t.jsx("h3",{className:"text-lg font-semibold text-light-text-primary dark:text-dark-text-primary mb-2",children:r.title}),t.jsx("p",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary leading-snug",children:r.description})]},s))})]})},Rv=()=>{const n=[{number:"1",title:"Chat with our AI",description:"Start a conversation with our AI assistant, telling it what you are looking for in your ideal accommodation."},{number:"2",title:"Discover Options",description:"Our AI will search through thousands of verified listings to find the perfect matches for your criteria."},{number:"3",title:"View Properties",description:"Explore detailed information, photos, and even request video tours of properties that interest you."},{number:"4",title:"Book and Pay  Securely",description:"When you find the perfect place, book it instantly with our secure payment system."},{number:"5",title:"24/7 Available",description:"ShelTrify AI assistant never sleeps  get property recommendations anytime, day or night."},{number:"6",title:"Voice Support",description:"The System offers unique services that enable those with difficulty in writing to speak and have a result."}];return t.jsxs("section",{className:"py-16 md:py-24 px-4",children:[t.jsxs("div",{className:"text-center mb-12 max-w-7xl mx-auto",children:[t.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-light-text-primary dark:text-dark-text-primary",children:"How ShelTrify AI Works"}),t.jsx("p",{className:"max-w-2xl mx-auto mt-4 text-light-text-secondary dark:text-dark-text-secondary",children:"Finding your perfect accommodation is simple and efficient with our AI-powered platform."})]}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8 max-w-7xl mx-auto",children:n.map(r=>t.jsxs("div",{className:"p-6 bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border rounded-lg",children:[t.jsxs("div",{className:"flex items-center mb-4",children:[t.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-brand-primary/10 text-brand-primary flex items-center justify-center font-bold text-lg",children:r.number}),t.jsx("h3",{className:"ml-4 text-xl font-semibold text-light-text-primary dark:text-dark-text-primary",children:r.title})]}),t.jsx("p",{className:"text-light-text-secondary dark:text-dark-text-secondary",children:r.description})]},r.number))})]})},Iv=()=>{const[n,r]=T.useState(0),s=[{src:"/vid1.mp4",title:"Finding Your Perfect Apartment with ShelTrify AI",isLocal:!0}],l=()=>{const f=n===0?s.length-1:n-1;r(f)},d=()=>{const f=n===s.length-1?0:n+1;r(f)};return t.jsxs("section",{className:"py-16 md:py-24 px-4",children:[t.jsxs("div",{className:"text-center mb-12 max-w-7xl mx-auto",children:[t.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-light-text-primary dark:text-dark-text-primary",children:"See ShelTrify in Action"}),t.jsx("p",{className:"max-w-2xl mx-auto mt-4 text-light-text-secondary dark:text-dark-text-secondary",children:"Discover how easy it is to navigate our platform and find exactly what you need."})]}),t.jsxs("div",{className:"max-w-4xl mx-auto relative group",children:[t.jsx("div",{className:"relative h-0 pb-[56.25%] overflow-hidden rounded-2xl shadow-2xl shadow-brand-primary/10 bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border",children:s.map((u,f)=>t.jsx("div",{className:`absolute top-0 left-0 w-full h-full transition-opacity duration-700 ease-in-out ${f===n?"opacity-100 z-10":"opacity-0"}`,children:f===n&&u.isLocal?t.jsx("video",{src:u.src,controls:!0,muted:!0,loop:!0,className:"w-full h-full object-cover",title:u.title}):f===n&&!u.isLocal?t.jsx("iframe",{className:"w-full h-full",src:`https://www.youtube.com/embed/${u.id}?autoplay=0&mute=1&controls=1&loop=1&playlist=${u.id}`,title:u.title,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}):null},f))}),t.jsx("button",{onClick:l,className:"absolute top-1/2 -left-5 md:-left-12 transform -translate-y-1/2 p-3 bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border rounded-full text-light-text-secondary dark:text-dark-text-secondary hover:text-white hover:bg-brand-primary transition-all opacity-0 group-hover:opacity-100",children:t.jsx(zn,{className:"w-6 h-6"})}),t.jsx("button",{onClick:d,className:"absolute top-1/2 -right-5 md:-right-12 transform -translate-y-1/2 p-3 bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border rounded-full text-light-text-secondary dark:text-dark-text-secondary hover:text-white hover:bg-brand-primary transition-all opacity-0 group-hover:opacity-100",children:t.jsx(Gn,{className:"w-6 h-6"})}),t.jsxs("div",{className:"text-center mt-4",children:[t.jsx("p",{className:"font-semibold text-light-text-primary dark:text-dark-text-primary",children:s[n].title}),t.jsx("div",{className:"flex justify-center gap-2 mt-2",children:s.map((u,f)=>t.jsx("div",{onClick:()=>r(f),className:`w-3 h-3 rounded-full cursor-pointer transition-all ${n===f?"bg-brand-primary w-6":"bg-light-border dark:bg-dark-border"}`},f))})]})]})]})},Pv=()=>{const n=[...new Set(Av.map(s=>s.service))],r=[...n,...n];return t.jsxs("section",{className:"py-8 md:py-0 px-4",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-light-text-primary dark:text-dark-text-primary",children:"And That's Not All..."}),t.jsx("p",{className:"max-w-3xl mx-auto mt-4 text-light-text-secondary dark:text-dark-text-secondary",children:"Beyond finding your next home, ShelTrify connects you with a network of trusted local artisans and essential day-to-day services to make your life easier."})]}),t.jsxs("div",{className:"relative w-full max-w-6xl mx-auto mt-10 px-4 overflow-hidden group [mask-image:_linear_gradient(to_right,transparent_0,_black_10%,_black_90%,transparent_100%)]",children:[t.jsx("div",{className:"py-3 animate-marquee whitespace-nowrap flex items-center",children:r.map((s,l)=>t.jsxs(zt.Fragment,{children:[t.jsx("span",{className:"mx-4 text-lg font-semibold text-light-text-secondary dark:text-dark-text-secondary",children:s}),l<r.length-1&&t.jsx("div",{className:"w-2 h-2 rounded-full bg-brand-primary/50"})]},l))}),t.jsx("style",{children:`
                    @keyframes marquee {
                        0% { transform: translateX(0%); }
                        100% { transform: translateX(-50%); }
                    }
                    .animate-marquee {
                        animation: marquee 60s linear infinite;
                    }
                    .group:hover .animate-marquee {
                        animation-play-state: paused;
                    }
                `})]})]})},Lv=({onTalkToAnna:n})=>t.jsx("section",{className:"py-16 md:py-24 px-4",children:t.jsxs("div",{className:"max-w-6xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-12 items-center bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border rounded-2xl p-8 md:p-12",children:[t.jsxs("div",{className:"text-center lg:text-left",children:[t.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-brand-primary to-cyan-400",children:"Meet Anna, Your AI Video Assistant"}),t.jsx("p",{className:"mt-4 text-lg text-light-text-secondary dark:text-dark-text-secondary",children:"Experience the future of property searching. Have a face-to-face, voice-powered conversation with our AI assistant, Anna, for instant, personalized recommendations."}),t.jsxs("ul",{className:"mt-6 space-y-2 text-left text-light-text-primary dark:text-dark-text-primary",children:[t.jsxs("li",{className:"flex items-center",children:[t.jsx(Ae,{className:"w-5 h-5 text-brand-primary mr-2"})," 24/7 availability across all time zones."]}),t.jsxs("li",{className:"flex items-center",children:[t.jsx(Ae,{className:"w-5 h-5 text-brand-primary mr-2"})," Instant, intelligent property suggestions."]}),t.jsxs("li",{className:"flex items-center",children:[t.jsx(Ae,{className:"w-5 h-5 text-brand-primary mr-2"})," Natural, voice-based conversations."]})]}),t.jsxs("button",{onClick:n,className:"mt-8 inline-flex items-center gap-3 px-8 py-3 text-lg font-bold text-white bg-brand-primary rounded-lg shadow-lg shadow-brand-primary/20 hover:bg-brand-secondary transition-all transform hover:scale-105",children:[t.jsx(us,{className:"w-6 h-6"}),"Talk to Anna Now"]})]}),t.jsxs("div",{className:"relative w-full aspect-square lg:h-[400px] rounded-2xl overflow-hidden group shadow-2xl shadow-brand-primary/10 flex items-center justify-center",children:[t.jsx("img",{src:"https://images.unsplash.com/photo-1554415707-6e8cfc93fe23?q=80&w=2070&auto=format&fit=crop",alt:"Professional AI video assistant background",className:"absolute inset-0 w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),t.jsx("div",{className:"absolute inset-0 bg-dark-bg/50"}),t.jsx("div",{className:"relative w-48 h-48 md:w-64 md:h-64 rounded-full overflow-hidden border-4 border-white dark:border-dark-bg shadow-2xl",children:t.jsx("img",{src:"https://storage.googleapis.com/aai-web-template-assets/sheltrify/anna-avatar-professional-v2.jpeg",alt:"AI Assistant Anna",className:"w-full h-full object-cover"})})]})]})}),Dv=()=>{const n=[{title:"AI Chatbot Assistance",description:"Intelligent conversational assistant that understands your needs and helps find perfect accommodation."},{title:"Interactive Map Integration",description:"Visual exploration of properties with Google Maps integration to visualize location and nearby amenities."},{title:"Multi-lingual Language Support",description:"Service available in English and other languages for better accessibility."},{title:"USSD Access",description:"Offline access via USSD code for users without a smartphone or internet connectivity."},{title:"AI Authenticity Check",description:"Advanced verification system to detect fake listings and ensure property authenticity about 98.2%."},{title:"Detailed Property Search",description:"Comprehensive search criteria including location amenities, proximity to facilities, and more."},{title:"Video Tour Request",description:"Request video tours of properties to get a better feel before scheduling physical visits."},{title:"Secure Payments",description:"Integrated payment system for Booking and securing properties instantly online."}];return t.jsxs("section",{className:"py-16 md:py-24 px-4 bg-light-card dark:bg-dark-card rounded-2xl",children:[t.jsx("div",{className:"text-center mb-12 px-4",children:t.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-light-text-primary dark:text-dark-text-primary",children:"Intelligent Accommodation Finding"})}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 max-w-7xl mx-auto px-4",children:n.map((r,s)=>t.jsxs("div",{className:"p-6 bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg transform hover:-translate-y-2 transition-transform duration-300",children:[t.jsx("h3",{className:"text-xl font-semibold text-light-text-primary dark:text-dark-text-primary mb-2",children:r.title}),t.jsx("p",{className:"text-light-text-secondary dark:text-dark-text-secondary",children:r.description})]},s))})]})},Uv=()=>{const[n,r]=T.useState(null),s=[{question:"How do I start a search with the AI?",answer:"Simply click the 'Get Started Now' or 'Start Chat' button. Our AI assistant, Anna, will greet you and ask for your preferences like location, budget, and property type to begin finding your perfect match."},{question:"Are the listings on ShelTrify verified?",answer:"Yes. We use an advanced AI-powered authenticity check system to verify listings, ensuring about 98.2% accuracy. We strive to provide a safe and trustworthy platform for all users."},{question:"How does the booking process work?",answer:"Once you find a property you like, you can request more details or book a viewing directly through the chat with Anna. She will guide you through scheduling an appointment with the landlord or agent."},{question:"Can I save properties to view later?",answer:"Absolutely! When our AI shows you a property card, click the bookmark icon ( interested ) to save it. You can access all your saved properties from your profile."},{question:"How does the Community Forum operate?",answer:"The forum is a space for users to connect, share experiences, ask questions, and get advice on everything related to renting. It's a community-driven platform to help everyone make more informed decisions."},{question:"What are 'Feels'?",answer:"'Feels' is our short-form video feed for real estate inspiration. It features quick, engaging video tours, design ideas, and relatable rental moments to make your property search more enjoyable."},{question:"What is the 'Rental Wahala Feeds' section?",answer:"This is our curated feed of funny and relatable short videos capturing the unique challenges and humorous side of renting, often referred to as 'wahala' in Nigeria. It's a place to share a laugh and know you're not alone!"},{question:"How does the ShelTrify Marketplace work?",answer:"The Marketplace is a one-stop shop for home-related goods and services, including electronics, furniture, building materials, and connections to local artisans. You can buy or list items for sale."},{question:"How do ShelTrify Wallet Coins (SWC) work?",answer:"SWC are reward points you earn for activities like referring new users or listing properties. They can be used to boost listings, pay for services, or even be converted to cash, providing tangible value within our ecosystem."},{question:"What if I have a problem with my booking?",answer:"Our support team is here to help. You can contact us through the 'Contact Us' link in the footer. For immediate assistance, you can also use our live AI video assistant, Anna, on the homepage."}],l=d=>{r(n===d?null:d)};return t.jsx("section",{className:"py-16 md:py-24 px-4",children:t.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[t.jsxs("div",{className:"text-center mb-12",children:[t.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-light-text-primary dark:text-dark-text-primary",children:"Help Center & FAQ"}),t.jsx("p",{className:"max-w-3xl mx-auto mt-4 text-light-text-secondary dark:text-dark-text-secondary",children:"Have questions? We're here to help. Find answers to common queries below."})]}),t.jsx("div",{className:"space-y-4",children:s.map((d,u)=>t.jsxs("div",{className:"bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border rounded-lg",children:[t.jsxs("button",{onClick:()=>l(u),className:"w-full flex justify-between items-center text-left p-5 font-semibold text-light-text-primary dark:text-dark-text-primary",children:[t.jsx("span",{children:d.question}),t.jsx(Gn,{className:`w-5 h-5 text-brand-primary transform transition-transform ${n===u?"rotate-90":""}`})]}),n===u&&t.jsx("div",{className:"px-5 pb-5 text-light-text-secondary dark:text-dark-text-secondary",children:t.jsx("p",{children:d.answer})})]},u))})]})})},qv=()=>{const n=[{icon:t.jsx(rg,{className:"w-8 h-8 text-brand-primary"}),title:"Eco-Friendly Listings",description:"We highlight properties with green features like solar panels, energy-efficient appliances, and sustainable materials."},{icon:t.jsx(Mr,{className:"w-8 h-8 text-brand-primary"}),title:"Sustainable Marketplace",description:"Our marketplace promotes eco-friendly furniture, home goods, and building materials from local artisans."},{icon:t.jsx(Hx,{className:"w-8 h-8 text-brand-primary"}),title:"Paperless Transactions",description:"From applications to lease signing, our fully digital process reduces paper waste and simplifies your journey."},{icon:t.jsx(ki,{className:"w-8 h-8 text-brand-primary"}),title:"Community Initiatives",description:"Join discussions in our community forum on green living, recycling programs, and local eco-initiatives."}];return t.jsx("section",{className:"py-16 md:py-24 px-4",children:t.jsx("div",{className:"max-w-4xl mx-auto px-4",children:t.jsxs("div",{className:"text-center",children:[t.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-green-400 to-brand-primary",children:"Building a Greener Future, Together"}),t.jsx("p",{className:"mt-4 text-lg text-light-text-secondary dark:text-dark-text-secondary",children:"At ShelTrify, we're committed to promoting sustainability and creating a more eco-friendly rental ecosystem for everyone."}),t.jsx("ul",{className:"mt-8 grid grid-cols-1 sm:grid-cols-2 gap-8 text-left",children:n.map((r,s)=>t.jsxs("li",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"flex-shrink-0 mt-1 bg-light-card dark:bg-dark-card p-2 rounded-full border border-light-border dark:border-dark-border",children:r.icon}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-light-text-primary dark:text-dark-text-primary",children:r.title}),t.jsx("p",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary",children:r.description})]})]},s))})]})})})},Vv=()=>{const n=[{name:"Adebayo T.",location:"Lagos, Nigeria",text:"ShelTrify made my apartment hunt in Lagos so much easier. The AI understood exactly what I wanted and saved me weeks of searching!"},{name:"Emily R.",location:"New York, USA",text:"As a student moving to a new city, the roommate matching feature was a lifesaver. Found a great place and a great roommate."},{name:"Kwame A.",location:"Accra, Ghana",text:"Booking a short-let for my business trip was seamless. The payment was secure, and the property was exactly as described."}];return t.jsxs("section",{className:"py-16 md:py-24 px-4",children:[t.jsx("div",{className:"text-center mb-12",children:t.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-light-text-primary dark:text-dark-text-primary",children:"What Our Users Say"})}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:n.map((r,s)=>t.jsxs("div",{className:"p-6 bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border rounded-lg",children:[t.jsxs("p",{className:"text-light-text-primary dark:text-dark-text-primary italic",children:['"',r.text,'"']}),t.jsxs("div",{className:"flex items-center mt-4",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-light-bg dark:bg-dark-bg flex items-center justify-center",children:t.jsx(Rr,{className:"w-6 h-6 text-light-text-secondary dark:text-dark-text-secondary"})}),t.jsxs("div",{className:"ml-3",children:[t.jsx("p",{className:"font-semibold text-light-text-primary dark:text-dark-text-primary",children:r.name}),t.jsx("p",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary",children:r.location})]})]})]},s))})]})},Hv=({onStartChatting:n,onPremiumUpgrade:r})=>{const s=["Priority access to new listings","Personalized property recommendations","Dedicated accommodation consultant","Expedited booking process","VIP property tours","Exclusive discounts and offers"];return t.jsx("section",{className:"py-16 md:py-24 px-4 bg-light-card dark:bg-dark-card rounded-2xl",children:t.jsxs("div",{className:"max-w-6xl mx-auto px-4 grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-brand-primary to-cyan-400",children:"Get Ahead with Premium"}),t.jsx("p",{className:"mt-4 text-lg text-light-text-secondary dark:text-dark-text-secondary",children:"Unlock enhanced features and priority service to find your perfect accommodation faster."}),t.jsx("ul",{className:"mt-6 space-y-3",children:s.map((l,d)=>t.jsxs("li",{className:"flex items-start",children:[t.jsx(Ae,{className:"w-6 h-6 text-brand-primary flex-shrink-0 mt-1"}),t.jsx("span",{className:"ml-3 text-light-text-primary dark:text-dark-text-primary",children:l})]},d))})]}),t.jsxs("div",{className:"p-8 bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg text-center",children:[t.jsxs("p",{className:"text-4xl font-bold text-light-text-primary dark:text-dark-text-primary",children:["$10 USD",t.jsx("span",{className:"text-lg font-medium text-light-text-secondary dark:text-dark-text-secondary",children:"/month"})]}),t.jsx("p",{className:"text-light-text-secondary dark:text-dark-text-secondary mt-2",children:"Cancel anytime, no long-term commitment."}),t.jsx("button",{onClick:l=>{l.preventDefault(),l.stopPropagation(),r?r():n()},className:"mt-6 w-full px-8 py-3 text-lg font-bold text-white bg-brand-primary rounded-lg shadow-lg shadow-brand-primary/20 hover:bg-brand-secondary transition-all transform hover:scale-105",children:"Upgrade to Premium Now"}),t.jsxs("p",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary mt-6",children:[t.jsx("strong",{children:"Why choose premium?"})," Save valuable time, get personalized service from a dedicated consultant, and enjoy exclusive benefits."]})]})]})})},Fv=()=>t.jsx("div",{className:"my-16 md:my-24",children:t.jsx("div",{className:"max-w-5xl mx-auto",children:t.jsx("div",{className:"relative rounded-2xl p-8 md:p-12 overflow-hidden bg-gradient-to-br from-brand-primary/10 to-cyan-400/10 dark:from-brand-primary/20 dark:to-cyan-400/20 border border-light-border dark:border-dark-border",children:t.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-center",children:[t.jsxs("div",{className:"text-center md:text-left",children:[t.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-light-text-primary dark:text-dark-text-primary",children:"Advertise with ShelTrify"}),t.jsx("p",{className:"mt-4 text-lg text-light-text-secondary dark:text-dark-text-secondary",children:"Connect your brand with thousands of active home seekers, renters, and property investors daily."}),t.jsxs("ul",{className:"mt-6 space-y-2 text-left text-light-text-primary dark:text-dark-text-primary list-none pl-0",children:[t.jsxs("li",{className:"flex items-center",children:[t.jsx(Ae,{className:"w-5 h-5 text-brand-primary mr-2"})," Target a dedicated real estate audience."]}),t.jsxs("li",{className:"flex items-center",children:[t.jsx(Ae,{className:"w-5 h-5 text-brand-primary mr-2"})," High-visibility placements across our platform."]}),t.jsxs("li",{className:"flex items-center",children:[t.jsx(Ae,{className:"w-5 h-5 text-brand-primary mr-2"})," Flexible and affordable advertising packages."]})]})]}),t.jsxs("div",{className:"flex flex-col items-center justify-center p-8 bg-light-card/50 dark:bg-dark-card/50 rounded-lg",children:[t.jsx(Jx,{className:"w-16 h-16 text-brand-primary"}),t.jsx("p",{className:"mt-4 font-semibold text-center",children:"Ready to grow your business?"}),t.jsxs("a",{href:"mailto:ads@sheltrify.com?subject=Advertising Inquiry on ShelTrify",className:"mt-4 inline-flex items-center justify-center px-6 py-3 text-lg font-bold text-white bg-brand-primary rounded-lg shadow-lg shadow-brand-primary/20 hover:bg-brand-secondary transition-all transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-primary",children:["Contact Our Team",t.jsx(Gn,{className:"ml-2 w-5 h-5"})]})]})]})})})}),Bv=({onStartChatting:n,onTalkToAnna:r,onPremiumUpgrade:s})=>t.jsxs("div",{className:"space-y-16 md:space-y-24 overflow-x-hidden w-full",children:[t.jsx(_v,{onStartChatting:n}),t.jsx(Mv,{}),t.jsx(Rv,{}),t.jsx(Iv,{}),t.jsx(Pv,{}),t.jsx(Lv,{onTalkToAnna:r}),t.jsx(Dv,{}),t.jsx(Uv,{}),t.jsx(qv,{}),t.jsx(Vv,{}),t.jsx(Hv,{onStartChatting:n,onPremiumUpgrade:s}),t.jsx(Fv,{})]}),zv=()=>{const{theme:n,toggleTheme:r}=pj();return t.jsx("button",{onClick:r,className:"p-2 rounded-md text-light-text-secondary dark:text-dark-text-secondary hover:text-light-text-primary dark:hover:text-dark-text-primary hover:bg-light-border dark:hover:bg-dark-border focus:outline-none focus:ring-2 focus:ring-inset focus:ring-brand-primary","aria-label":`Switch to ${n==="light"?"dark":"light"} mode`,children:n==="light"?t.jsx(Nv,{className:"h-5 w-5"}):t.jsx(kv,{className:"h-5 w-5"})})},Gv=({isAuthenticated:n,isAdmin:r,cartCount:s=0,onLogoClick:l,onChatClick:d,onCommunityClick:u,onWalletClick:f,onMarketplaceClick:p,onFeelsClick:y,onRentalWahalaClick:x,onGlobalTalesClick:b,onAboutClick:v,onContactClick:k,onPremiumClick:w,onProfileClick:j,onAdminClick:P,onCartClick:V,onLoginClick:$,onSignupClick:U,onLogoutClick:D})=>{const[A,I]=T.useState(!1),q=T.useRef(null),M=[...v?[{name:"About Us",onClick:()=>{I(!1),v()}}]:[],...k?[{name:"Contact Us",onClick:()=>{I(!1),k()}}]:[],{name:"Feels",onClick:y},{name:"Marketplace",onClick:p},{name:"ShelTrify Wallet",onClick:f},{name:"Rental Wahala Feeds",onClick:x},{name:"ShelTrify Community Forum",onClick:u},...b?[{name:"Global Tales",onClick:b}]:[],...w?[{name:"Premium Service",onClick:()=>{I(!1),w()}}]:[]],ee=n?[{name:"Logout",onClick:()=>{I(!1),D==null||D()}}]:[{name:"Login",onClick:()=>{I(!1),$==null||$()}},{name:"Signup",onClick:()=>{I(!1),U==null||U()}}],F=[...M,...ee];return T.useEffect(()=>{const z=re=>{q.current&&!q.current.contains(re.target)&&I(!1)};return document.addEventListener("mousedown",z),()=>{document.removeEventListener("mousedown",z)}},[]),t.jsx("header",{className:"bg-light-card/80 dark:bg-dark-card/80 backdrop-blur-sm border-b border-light-border dark:border-dark-border sticky top-0 z-50",children:t.jsx("div",{className:"container mx-auto px-4",children:t.jsxs("div",{className:"flex justify-between items-center h-16",children:[t.jsxs("div",{onClick:l,className:"flex items-center gap-3 cursor-pointer group",children:[t.jsx(yr,{className:"h-8 w-8 text-brand-primary group-hover:animate-spin"}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"text-xl font-bold text-light-text-primary dark:text-dark-text-primary group-hover:text-brand-primary transition-colors leading-tight",children:"ShelTrify"}),t.jsx("p",{className:"text-[10px] text-light-text-secondary dark:text-dark-text-secondary leading-tight",children:"First global one-stop superstore real estate eco-system"})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(zv,{}),n&&t.jsxs(t.Fragment,{children:[r&&t.jsx("button",{onClick:P,className:"px-3 py-1.5 text-xs font-semibold bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-all","aria-label":"Open admin dashboard",children:"Admin"}),t.jsx("button",{onClick:j,className:"p-2 rounded-full text-light-text-secondary dark:text-dark-text-secondary hover:text-light-text-primary dark:hover:text-dark-text-primary hover:bg-light-border dark:hover:bg-dark-border","aria-label":"Open profile",children:t.jsx(Rr,{className:"h-5 w-5"})}),n&&V&&t.jsxs("button",{onClick:V,className:"relative p-2 rounded-full text-light-text-secondary dark:text-dark-text-secondary hover:text-light-text-primary dark:hover:text-dark-text-primary hover:bg-light-border dark:hover:bg-dark-border","aria-label":"View cart",children:[t.jsx(fs,{className:"h-5 w-5"}),s>0&&t.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:s>99?"99+":s})]})]}),t.jsx("button",{onClick:d,className:"hidden sm:block px-4 py-2 text-sm font-semibold bg-brand-primary text-white rounded-md hover:bg-brand-secondary transition-all transform hover:scale-105",children:"Start Chat"}),t.jsxs("div",{className:"relative",ref:q,children:[t.jsx("button",{onClick:()=>I(!A),className:"p-2 rounded-md text-light-text-secondary dark:text-dark-text-secondary hover:text-light-text-primary dark:hover:text-dark-text-primary hover:bg-light-border dark:hover:bg-dark-border focus:outline-none focus:ring-2 focus:ring-inset focus:ring-brand-primary","aria-label":"Open main menu","aria-expanded":A,children:A?t.jsx(je,{className:"h-6 w-6"}):t.jsx(mv,{className:"h-6 w-6"})}),A&&t.jsx("div",{className:"absolute right-0 mt-2 w-56 origin-top-right bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border rounded-md shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",children:t.jsx("div",{className:"py-1",role:"menu","aria-orientation":"vertical","aria-labelledby":"options-menu",children:F.map(z=>{const re="w-full text-left block px-4 py-2 text-sm text-light-text-secondary dark:text-dark-text-secondary hover:bg-light-border dark:hover:bg-dark-border hover:text-light-text-primary dark:hover:text-dark-text-primary";return z.onClick?t.jsx("button",{onClick:()=>{var ce;(ce=z.onClick)==null||ce.call(z),I(!1)},className:re,role:"menuitem",children:z.name},z.name):t.jsx("button",{onClick:z.onClick,className:re,role:"menuitem",children:z.name},z.name)})})})]})]})]})})})},Ov=({title:n,content:r,onClose:s})=>(T.useEffect(()=>{const l=d=>{d.key==="Escape"&&s()};return document.addEventListener("keydown",l),()=>{document.removeEventListener("keydown",l)}},[s]),t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",onClick:s,children:t.jsxs("div",{className:"relative bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border rounded-lg shadow-2xl w-full max-w-lg p-6 md:p-8 text-light-text-primary dark:text-dark-text-primary",onClick:l=>l.stopPropagation(),children:[t.jsx("button",{onClick:s,className:"absolute top-4 right-4 text-light-text-secondary dark:text-dark-text-secondary hover:text-light-text-primary dark:hover:text-dark-text-primary","aria-label":"Close",children:t.jsx(je,{className:"w-6 h-6"})}),t.jsx("h2",{id:"modal-title",className:"text-xl font-bold text-brand-primary mb-4",children:n}),t.jsx("div",{className:"text-light-text-secondary dark:text-dark-text-secondary whitespace-pre-wrap max-h-[60vh] overflow-y-auto pr-2",children:r})]})})),Yv=({page:n})=>{const[r,s]=T.useState(null),l={quickLinks:[{name:"About Us",href:"#",description:"ShelTrify is a pioneering real estate technology company dedicated to creating a seamless, intelligent, and secure rental ecosystem. Our mission is to eliminate the friction and uncertainty of finding a home by leveraging advanced AI. We provide users with a personalized AI assistant, verified listings, and a suite of tools that cover every aspect of the rental journey, from discovery to payment."},{name:"Contact",href:"#",description:`We're here to help! Reach out to our team through the following channels:

- General Support: For questions about listings, bookings, or platform issues, email us at support@sheltrify.com.
- Partnerships: For business and advertising inquiries, contact our team at partnerships@sheltrify.com.
- Feedback: Have an idea to improve ShelTrify? We'd love to hear it at feedback@sheltrify.com.`},{name:"Landlord Dashboard",href:"#",description:"Empower your property management with the Landlord Dashboard. This powerful tool allows you to list properties, manage tenant applications, securely collect rent, and access performance analytics. Our AI-driven insights help you price your properties competitively and find reliable tenants faster."},{name:"Premium Services",href:"#",description:"Unlock the ultimate rental advantage. Our Premium service gives you priority access to the newest listings, personalized support from a dedicated consultant, exclusive discounts on marketplace items, and advanced search filters, ensuring you find your perfect home faster and with ease."}],policies:[{name:"Payment Policy",href:"#",description:"Our payment system is built on security and trust. We use industry-standard encryption to protect your financial data. All transactions are processed through a secure gateway. We accept major credit/debit cards, bank transfers, and payments through the ShelTrify Wallet. Payments for rent are held in escrow and released to the landlord 24 hours after a successful check-in to ensure your satisfaction and security."},{name:"Terms of Service",href:"#",description:"By using ShelTrify, you agree to our Terms of Service. This agreement outlines your rights and responsibilities as a user, our role as a platform provider, and the rules governing listings, bookings, and community interactions. We encourage you to read the full terms to understand the legal framework of our services."},{name:"Privacy Policy",href:"#",description:"Your privacy is our priority. Our Privacy Policy explains what personal data we collect, how we use it to improve your experience, and the measures we take to protect it. We are committed to transparency and giving you control over your information. We do not sell your personal data to third parties."},{name:"Refund Policy",href:"#",description:"We offer a transparent refund policy to protect our users. You may be eligible for a full or partial refund if a property is significantly misrepresented, if a booking is canceled by the landlord, or in other specific circumstances outlined in the policy. All refund requests must be submitted within 24 hours of check-in through our support channel."},{name:"Legal Agreement",href:"#",description:"This document constitutes a binding legal agreement between you and ShelTrify. It governs your use of the platform and all associated services. It includes our Terms of Service, Privacy Policy, and other guidelines that ensure a safe, fair, and reliable environment for all users."},{name:"Report Scam",href:"#",description:"Help us keep the community safe. If you encounter a suspicious listing, user, or payment request, please report it immediately. When reporting, include the property link, user's name, and a description of the suspicious activity. Our trust and safety team will investigate promptly and take appropriate action. Your vigilance protects everyone."}]},d=[{name:"YouTube",icon:t.jsx(Cv,{}),href:"https://m.youtube.com/@ShelTrifyAI-j3v",target:"_blank",rel:"noopener noreferrer"},{name:"Facebook",icon:t.jsx(Gx,{}),href:"https://web.facebook.com/profile.php?id=61585776505464",target:"_blank",rel:"noopener noreferrer"},{name:"LinkedIn",icon:t.jsx(Ox,{}),href:"https://www.linkedin.com/company/sheltrify-ai/",target:"_blank",rel:"noopener noreferrer"},{name:"X",icon:t.jsx(Hc,{}),href:"https://x.com/sheltrifyai",target:"_blank",rel:"noopener noreferrer"}];return t.jsxs(t.Fragment,{children:[t.jsx("footer",{className:"bg-light-card dark:bg-dark-card border-t border-light-border dark:border-dark-border mt-12",children:t.jsxs("div",{className:"container mx-auto px-4 py-10",children:[t.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start gap-10 mb-8",children:[t.jsxs("div",{className:"max-w-xs flex-shrink-0",children:[t.jsx("h3",{className:"text-sm font-semibold text-light-text-primary dark:text-dark-text-primary tracking-wider uppercase",children:"Sheltrify AI"}),t.jsx("p",{className:"mt-4 text-base text-light-text-secondary dark:text-dark-text-secondary",children:"Your AI-powered companion for finding the perfect accommodation."})]}),n!=="chat"&&t.jsxs("div",{className:"grid grid-cols-2 gap-x-12 sm:gap-x-24 gap-y-8 flex-grow",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-semibold text-light-text-primary dark:text-dark-text-primary tracking-wider uppercase",children:"Quick Links"}),t.jsx("ul",{className:"mt-4 space-y-3",children:l.quickLinks.map(u=>t.jsx("li",{children:t.jsx("button",{onClick:()=>s({title:u.name,content:u.description}),className:"text-base text-left font-medium text-light-text-secondary dark:text-dark-text-secondary hover:text-brand-primary transition-colors",children:u.name})},u.name))})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-semibold text-light-text-primary dark:text-dark-text-primary tracking-wider uppercase",children:"Policies"}),t.jsx("ul",{className:"mt-4 space-y-3",children:l.policies.map(u=>t.jsx("li",{children:t.jsx("button",{onClick:()=>s({title:u.name,content:u.description}),className:"text-base text-left font-medium text-light-text-secondary dark:text-dark-text-secondary hover:text-brand-primary transition-colors",children:u.name})},u.name))})]})]})]}),n==="landing"&&t.jsx("div",{className:"mb-6 pb-6 border-b border-light-border dark:border-dark-border",children:t.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-light-text-primary dark:text-dark-text-primary mb-2",children:"Stay Updated"}),t.jsx("p",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary",children:"Subscribe to get the latest property listings and updates"})]}),t.jsxs("div",{className:"flex gap-2 w-full sm:w-auto max-w-full",children:[t.jsx("input",{type:"email",placeholder:"Enter your email",className:"flex-1 min-w-0 sm:w-64 px-4 py-2 bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg focus:ring-2 focus:ring-brand-primary focus:outline-none text-light-text-primary dark:text-dark-text-primary"}),t.jsx("button",{onClick:()=>{const u=document.querySelector('input[type="email"]');u&&u.value?(alert(`Thank you for subscribing! We'll send updates to ${u.value}`),u.value=""):alert("Please enter a valid email address")},className:"px-6 py-2 bg-brand-primary text-white rounded-lg hover:bg-brand-secondary transition-colors font-semibold whitespace-nowrap flex-shrink-0",children:"Subscribe"})]})]})}),t.jsxs("div",{className:"border-t border-light-border dark:border-dark-border pt-6 flex flex-col sm:flex-row justify-between items-center",children:[t.jsxs("p",{className:"text-center sm:text-left text-sm text-light-text-secondary dark:text-dark-text-secondary",children:[" ",new Date().getFullYear()," ShelTrify. All rights reserved."]}),t.jsx("div",{className:"flex items-center gap-5 mt-4 sm:mt-0",children:d.map(u=>t.jsx("a",{href:u.href,target:u.target,rel:u.rel,className:"text-light-text-secondary dark:text-dark-text-secondary hover:text-brand-primary transition-colors","aria-label":u.name,children:zt.cloneElement(u.icon,{className:"w-7 h-7"})},u.name))})]})]})}),r&&t.jsx(Ov,{title:r.title,content:r.content,onClose:()=>s(null)})]})},yi="https://sheltrify.vercel.app/api",kc=typeof window<"u"&&(window.location.hostname==="sheltrify.com"||window.location.hostname==="www.sheltrify.com"),Fl=typeof window<"u"?`${window.location.protocol}//${window.location.host}/upload-handler.php`:"https://sheltrify.com/upload-handler.php",Bl="fba996a67317673a07b8adeefdc1dec3",Jv=()=>{const n=localStorage.getItem("tokenExpiry");if(!n)return!0;const r=parseInt(n,10);return Date.now()>=r-300*1e3},Wv=()=>{const n=localStorage.getItem("authToken");return n?Jv()?(localStorage.removeItem("authToken"),localStorage.removeItem("tokenExpiry"),localStorage.removeItem("user"),null):n:null},ue=async(n,r={})=>{const s=Wv(),l={"Content-Type":"application/json",...s&&{Authorization:`Bearer ${s}`},...r.headers},d=await fetch(`${yi}${n}`,{...r,headers:l});if(!d.ok){const u=await d.json().catch(()=>({message:"Request failed"})),f=u.message||u.error||`HTTP error! status: ${d.status}`;d.status===401&&(f.includes("Token expired")||f.includes("Invalid token")||f.includes("Access token required"))&&(localStorage.removeItem("authToken"),localStorage.removeItem("tokenExpiry"),localStorage.removeItem("user"),window.dispatchEvent(new CustomEvent("auth:logout",{detail:{reason:"token_expired"}}))),console.error("API Error:",{status:d.status,error:u});const p=new Error(f);throw p.response={status:d.status,data:u},p}return d.json()},Qt={signup:async n=>{const r=await ue("/auth/signup",{method:"POST",body:JSON.stringify(n)});if(r.success&&r.data.token){localStorage.setItem("authToken",r.data.token),localStorage.setItem("user",JSON.stringify(r.data.user));const s=Date.now()+1440*60*1e3;localStorage.setItem("tokenExpiry",s.toString())}return r},login:async(n,r)=>{const s=await ue("/auth/login",{method:"POST",body:JSON.stringify({email:n,password:r})});if(s.success&&s.data.token){localStorage.setItem("authToken",s.data.token),localStorage.setItem("user",JSON.stringify(s.data.user));const l=Date.now()+1440*60*1e3;localStorage.setItem("tokenExpiry",l.toString())}return s},logout:()=>{localStorage.removeItem("authToken"),localStorage.removeItem("tokenExpiry"),localStorage.removeItem("user")},getCurrentUser:async()=>ue("/auth/me"),forgotPassword:async n=>ue("/auth/forgot-password",{method:"POST",body:JSON.stringify({email:n})}),resetPassword:async(n,r)=>ue("/auth/reset-password",{method:"POST",body:JSON.stringify({token:n,newPassword:r})})},Si={getAll:async n=>{const r=new URLSearchParams;n&&Object.entries(n).forEach(([l,d])=>{d!==void 0&&r.append(l,String(d))});const s=r.toString();return ue(`/listings${s?`?${s}`:""}`)},getById:async n=>ue(`/listings/${n}`),create:async n=>ue("/listings",{method:"POST",body:JSON.stringify(n)}),update:async(n,r)=>ue(`/listings/${n}`,{method:"PUT",body:JSON.stringify(r)}),delete:async n=>ue(`/listings/${n}`,{method:"DELETE"}),getMyListings:async()=>ue("/listings/user/my-listings"),boost:async(n,r)=>ue(`/listings/${n}/boost`,{method:"POST",body:JSON.stringify({duration:r})})},Kv={getAll:async()=>ue("/favorites"),add:async n=>ue(`/favorites/${n}`,{method:"POST"}),remove:async n=>ue(`/favorites/${n}`,{method:"DELETE"})},ls={getProfile:async()=>ue("/users/profile"),updateProfile:async n=>ue("/users/profile",{method:"PUT",body:JSON.stringify(n)}),upgradePremium:async()=>ue("/users/upgrade-premium",{method:"POST"}),upgradeChat:async()=>ue("/users/upgrade-chat",{method:"POST"}),submitVerification:async n=>ue("/users/submit-verification",{method:"POST",body:JSON.stringify(n)})},xt={getUsers:async n=>{const r=new URLSearchParams;n&&Object.entries(n).forEach(([l,d])=>{d!==void 0&&r.append(l,String(d))});const s=r.toString();return ue(`/admin/users${s?`?${s}`:""}`)},getUser:async n=>ue(`/admin/users/${n}`),updateUser:async(n,r)=>ue(`/admin/users/${n}`,{method:"PUT",body:JSON.stringify(r)}),deleteUser:async n=>ue(`/admin/users/${n}`,{method:"DELETE"}),getListings:async n=>{const r=new URLSearchParams;n&&Object.entries(n).forEach(([l,d])=>{d!==void 0&&r.append(l,String(d))});const s=r.toString();return ue(`/admin/listings${s?`?${s}`:""}`)},getListing:async n=>ue(`/admin/listings/${n}`),updateListing:async(n,r)=>ue(`/admin/listings/${n}`,{method:"PUT",body:JSON.stringify(r)}),deleteListing:async n=>ue(`/admin/listings/${n}`,{method:"DELETE"}),getStats:async()=>ue("/admin/stats"),approveMarketplaceProduct:async n=>ue(`/admin/marketplace/${n}/approve`,{method:"PUT"}),rejectMarketplaceProduct:async n=>ue(`/admin/marketplace/${n}/reject`,{method:"PUT"}),getPendingMarketplaceProducts:async()=>ue("/admin/marketplace/pending"),getPendingVerifications:async()=>ue("/admin/verifications/pending"),approveVerification:async n=>ue(`/admin/verifications/${n}/approve`,{method:"PUT"}),rejectVerification:async(n,r)=>ue(`/admin/verifications/${n}/reject`,{method:"PUT",body:JSON.stringify({reason:r})}),getAnalytics:async n=>{const r=new URLSearchParams;n&&Object.entries(n).forEach(([l,d])=>{d!==void 0&&r.append(l,String(d))});const s=r.toString();return ue(`/admin/analytics${s?`?${s}`:""}`)},getSystemHealth:async()=>ue("/admin/system-health"),getTransactions:async n=>{const r=new URLSearchParams;n&&Object.entries(n).forEach(([l,d])=>{d!==void 0&&r.append(l,String(d))});const s=r.toString();return ue(`/admin/transactions${s?`?${s}`:""}`)},getContent:async n=>{const r=new URLSearchParams;n&&Object.entries(n).forEach(([l,d])=>{d!==void 0&&r.append(l,String(d))});const s=r.toString();return ue(`/admin/content${s?`?${s}`:""}`)},getAIStats:async()=>ue("/admin/ai/stats"),bulkAction:async n=>ue("/admin/bulk-action",{method:"POST",body:JSON.stringify(n)})},qn={getStats:async()=>ue("/dashboard/stats"),getEarnings:async()=>ue("/dashboard/earnings")},$c={getAll:async n=>{const r=new URLSearchParams;n&&Object.entries(n).forEach(([l,d])=>{d!==void 0&&r.append(l,String(d))});const s=r.toString();return ue(`/marketplace${s?`?${s}`:""}`)},getByCategory:async n=>ue(`/marketplace/category/${n}`),create:async n=>ue("/marketplace",{method:"POST",body:JSON.stringify(n)}),getMyProducts:async()=>ue("/marketplace/my-products"),update:async(n,r)=>ue(`/marketplace/${n}`,{method:"PUT",body:JSON.stringify(r)}),delete:async n=>ue(`/marketplace/${n}`,{method:"DELETE"})},_r={getAll:async()=>ue("/cart"),add:async(n,r=1)=>ue(`/cart/${n}`,{method:"POST",body:JSON.stringify({quantity:r})}),update:async(n,r)=>ue(`/cart/${n}`,{method:"PUT",body:JSON.stringify({quantity:r})}),remove:async n=>ue(`/cart/${n}`,{method:"DELETE"}),clear:async()=>ue("/cart",{method:"DELETE"})},Fn={uploadImage:async(n,r=!1)=>{if(kc){const f=new FormData;f.append("file",n),f.append("file_type","images"),f.append("api_key",Bl);const p=await fetch(Fl,{method:"POST",body:f}),y=await p.json().catch(()=>({success:!1,message:"Upload failed"}));if(!p.ok||!y.success)throw new Error(y.message||"Upload failed");return y}const s=new FormData;s.append("image",n);const l=localStorage.getItem("authToken"),d={};l&&(d.Authorization=`Bearer ${l}`);const u=await fetch(`${yi}/upload/image`,{method:"POST",headers:d,body:s});if(!u.ok){const f=await u.json().catch(()=>({message:"Upload failed"}));throw new Error(f.message||"Upload failed")}return u.json()},uploadVideo:async n=>{if(kc){const d=new FormData;d.append("file",n),d.append("file_type","videos"),d.append("api_key",Bl);const u=await fetch(Fl,{method:"POST",body:d}),f=await u.json().catch(()=>({success:!1,message:"Upload failed"}));if(!u.ok||!f.success)throw new Error(f.message||"Upload failed");return f}const r=new FormData;r.append("video",n);const s=localStorage.getItem("authToken"),l=await fetch(`${yi}/upload/video`,{method:"POST",headers:{...s&&{Authorization:`Bearer ${s}`}},body:r});if(!l.ok){const d=await l.json().catch(()=>({message:"Upload failed"}));throw new Error(d.message||"Upload failed")}return l.json()},uploadMedia:async(n,r)=>{var u,f;if(kc){let p,y;if(n){const x=new FormData;x.append("file",n),x.append("file_type","images"),x.append("api_key",Bl);const b=await fetch(Fl,{method:"POST",body:x}),v=await b.json().catch(()=>({success:!1,message:"Image upload failed"}));if(!b.ok||!v.success)throw new Error(v.message||"Image upload failed");p=(u=v.data)==null?void 0:u.url}if(r){const x=new FormData;x.append("file",r),x.append("file_type","videos"),x.append("api_key",Bl);const b=await fetch(Fl,{method:"POST",body:x}),v=await b.json().catch(()=>({success:!1,message:"Video upload failed"}));if(!b.ok||!v.success)throw new Error(v.message||"Video upload failed");y=(f=v.data)==null?void 0:f.url}return{success:!0,data:{imageUrl:p,videoUrl:y}}}const s=new FormData;n&&s.append("image",n),r&&s.append("video",r);const l=localStorage.getItem("authToken"),d=await fetch(`${yi}/upload/media`,{method:"POST",headers:{...l&&{Authorization:`Bearer ${l}`}},body:s});if(!d.ok){const p=await d.json().catch(()=>({message:"Upload failed"}));throw new Error(p.message||"Upload failed")}return d.json()}},ss={getPosts:async n=>{const r=new URLSearchParams;n&&Object.entries(n).forEach(([l,d])=>{d!==void 0&&r.append(l,String(d))});const s=r.toString();return ue(`/community/posts${s?`?${s}`:""}`)},getPost:async n=>ue(`/community/posts/${n}`),createPost:async n=>ue("/community/posts",{method:"POST",body:JSON.stringify(n)}),likePost:async n=>ue(`/community/posts/${n}/like`,{method:"POST"}),lovePost:async n=>ue(`/community/posts/${n}/love`,{method:"POST"}),addComment:async(n,r)=>ue(`/community/posts/${n}/comments`,{method:"POST",body:JSON.stringify({text:r})}),deletePost:async n=>ue(`/community/posts/${n}`,{method:"DELETE"})},jc={getAll:async()=>ue("/rental-wahala"),create:async n=>ue("/rental-wahala",{method:"POST",body:JSON.stringify(n)}),update:async(n,r)=>ue(`/rental-wahala/${n}`,{method:"PUT",body:JSON.stringify(r)}),delete:async n=>ue(`/rental-wahala/${n}`,{method:"DELETE"})},Vn={getAll:async()=>ue("/feels"),create:async n=>ue("/feels",{method:"POST",body:JSON.stringify(n)}),update:async(n,r)=>ue(`/feels/${n}`,{method:"PUT",body:JSON.stringify(r)}),delete:async n=>ue(`/feels/${n}`,{method:"DELETE"}),like:async n=>ue(`/feels/${n}/like`,{method:"POST"}),addComment:async(n,r)=>ue(`/feels/${n}/comments`,{method:"POST",body:JSON.stringify({text:r})})},Ol={getOpportunities:async()=>ue("/investments/opportunities"),getOpportunity:async n=>ue(`/investments/opportunities/${n}`),invest:async(n,r)=>ue("/investments/invest",{method:"POST",body:JSON.stringify({opportunityId:n,amount:r})}),getMyInvestments:async()=>ue("/investments/my-investments"),getStats:async()=>ue("/investments/stats")},ms={initialize:async(n,r)=>ue("/payments/initialize",{method:"POST",body:JSON.stringify({amount:n,metadata:r})}),verify:async n=>{const r=await fetch(`${yi}/payments/verify/${n}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!r.ok){const s=await r.json().catch(()=>({message:"Request failed"}));throw new Error(s.message||`HTTP error! status: ${r.status}`)}return r.json()},withdraw:async n=>ue("/payments/withdraw",{method:"POST",body:JSON.stringify(n)}),getBanks:async()=>ue("/payments/banks")},lg={createRequest:async n=>ue("/large-transactions",{method:"POST",body:JSON.stringify(n)}),getMyRequests:async()=>ue("/large-transactions/my-requests")},og={getSiteData:async n=>{const r=new URLSearchParams;n&&Object.entries(n).forEach(([l,d])=>{d!==void 0&&r.append(l,String(d))});const s=r.toString();return ue(`/ai/site-data${s?`?${s}`:""}`)},searchListings:async n=>{const r=new URLSearchParams;n&&Object.entries(n).forEach(([l,d])=>{d!==void 0&&r.append(l,String(d))});const s=r.toString();return ue(`/ai/search-listings${s?`?${s}`:""}`)}},Cc={getAll:async n=>{const r=new URLSearchParams;n&&Object.entries(n).forEach(([l,d])=>{d!==void 0&&r.append(l,String(d))});const s=r.toString();return ue(`/global-tales${s?`?${s}`:""}`)},getOne:async n=>ue(`/global-tales/${n}`),create:async n=>ue("/global-tales",{method:"POST",body:JSON.stringify(n)}),update:async(n,r)=>ue(`/global-tales/${n}`,{method:"PUT",body:JSON.stringify(r)}),delete:async n=>ue(`/global-tales/${n}`,{method:"DELETE"})},Yl=Object.freeze(Object.defineProperty({__proto__:null,adminAPI:xt,aiAPI:og,authAPI:Qt,cartAPI:_r,communityAPI:ss,dashboardAPI:qn,favoritesAPI:Kv,feelsAPI:Vn,globalTalesAPI:Cc,investmentAPI:Ol,largeTransactionAPI:lg,listingsAPI:Si,marketplaceAPI:$c,paymentAPI:ms,rentalWahalaAPI:jc,uploadAPI:Fn,userAPI:ls},Symbol.toStringTag,{value:"Module"})),$v=({onClose:n,onLoginSuccess:r})=>{const[s,l]=T.useState(!0),[d,u]=T.useState(!1),[f,p]=T.useState(null),[y,x]=T.useState(!1),[b,v]=T.useState(!1),[k,w]=T.useState(""),[j,P]=T.useState(""),[V,$]=T.useState(!1),[U,D]=T.useState({newPassword:"",confirmPassword:""}),[A,I]=T.useState(null),[q,M]=T.useState(null),ee=T.useRef(null),[F,z]=T.useState({email:"",password:"",fullName:"",phone:"",whatsapp:"",role:"SEEKER",artisanService:"",artisanLocation:"",artisanBio:""});T.useEffect(()=>{const oe=new URLSearchParams(window.location.search).get("token");oe&&(w(oe),v(!0),l(!0))},[]);const re=se=>{var Y;const oe=(Y=se.target.files)==null?void 0:Y[0];if(oe){if(oe.size>5*1024*1024){p("Profile picture size must be less than 5MB. Please choose a smaller image."),I(null),M(null),ee.current&&(ee.current.value="");return}if(!oe.type.startsWith("image/")){p("Please select an image file (JPG, PNG, etc.)"),I(null),M(null),ee.current&&(ee.current.value="");return}I(oe);const _=new FileReader;_.onloadend=()=>M(_.result),_.readAsDataURL(oe)}},ce=async se=>{se.preventDefault(),u(!0),p(null);try{if(s){const oe=await Qt.login(F.email,F.password);oe.success?(r(oe.data.user),n()):p(oe.message||"Login failed")}else{if(!F.fullName){p("Full name is required"),u(!1);return}if(!A){p("Profile picture is required. Please upload your photo."),u(!1);return}let oe;try{const W=new FormData;W.append("image",A);const Z=await fetch("https://sheltrify.vercel.app/api/upload/image",{method:"POST",body:W});if(!Z.ok){const C=await Z.json().catch(()=>({message:`Upload failed: ${Z.status} ${Z.statusText}`}));throw new Error(C.message||`Failed to upload profile picture: ${Z.status}`)}const me=await Z.json();if(me.success)oe=me.data.url;else throw new Error(me.message||"Upload failed")}catch(W){console.error("Upload error:",W),W.name==="TypeError"&&W.message.includes("fetch")?p("Network error: Could not connect to server. Please make sure the backend is running on http://localhost:5000"):p(W.message||"Failed to upload profile picture. Please check your connection and try again."),u(!1);return}const Y={email:F.email,password:F.password,fullName:F.fullName,phone:F.phone||void 0,whatsapp:F.whatsapp||void 0,role:F.role,avatarUrl:oe};F.role==="ARTISAN"&&(F.artisanService&&(Y.artisanService=F.artisanService),F.artisanLocation&&(Y.artisanLocation=F.artisanLocation),F.artisanBio&&(Y.artisanBio=F.artisanBio));const _=await Qt.signup(Y);_.success?(r(_.data.user),n()):p(_.message||"Signup failed")}}catch(oe){p(oe.message||"An error occurred")}finally{u(!1)}};return t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 overflow-y-auto",onClick:se=>{se.target===se.currentTarget&&n()},style:{backgroundColor:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(4px)"},children:t.jsxs("div",{className:"relative bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border rounded-lg shadow-2xl w-full max-w-md p-8 text-light-text-primary dark:text-dark-text-primary my-auto max-h-[90vh] overflow-y-auto",onClick:se=>se.stopPropagation(),children:[t.jsx("button",{onClick:n,className:"absolute top-4 right-4 text-light-text-secondary dark:text-dark-text-secondary hover:text-light-text-primary dark:hover:text-dark-text-primary",children:t.jsx(je,{className:"w-6 h-6"})}),t.jsxs("div",{className:"text-center mb-6",children:[t.jsx(yr,{className:"w-10 h-10 mx-auto text-brand-primary"}),t.jsx("h2",{className:"text-2xl font-bold mt-2",children:"Welcome to ShelTrify"}),t.jsx("p",{className:"text-light-text-secondary dark:text-dark-text-secondary mt-1",children:s?"Sign in to continue":"Create an account to get started"})]}),t.jsxs("div",{className:"flex border-b border-light-border dark:border-dark-border mb-6",children:[t.jsx("button",{onClick:()=>l(!0),className:`w-1/2 py-3 font-semibold text-sm ${s?"text-brand-primary border-b-2 border-brand-primary":"text-light-text-secondary dark:text-dark-text-secondary"}`,children:"Login"}),t.jsx("button",{onClick:()=>l(!1),className:`w-1/2 py-3 font-semibold text-sm ${s?"text-light-text-secondary dark:text-dark-text-secondary":"text-brand-primary border-b-2 border-brand-primary"}`,children:"Sign Up"})]}),f&&t.jsx("div",{className:"mb-4 p-3 bg-red-500/10 text-red-500 rounded-lg text-sm",children:f}),!y&&!b&&t.jsxs("form",{onSubmit:ce,className:"space-y-4",children:[!s&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-2",children:["Profile Picture ",t.jsx("span",{className:"text-red-500",children:"*"})," (Face visibility required)"]}),t.jsx("input",{type:"file",ref:ee,accept:"image/*",onChange:re,className:"hidden",required:!s}),t.jsxs("div",{className:"flex items-center gap-4",children:[q?t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:q,alt:"Avatar preview",className:"w-20 h-20 rounded-full object-cover border-2 border-brand-primary"}),t.jsx("button",{type:"button",onClick:()=>{I(null),M(null),ee.current&&(ee.current.value="")},className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full p-1 text-xs",children:""})]}):t.jsx("div",{className:"w-20 h-20 rounded-full bg-light-bg dark:bg-dark-bg border-2 border-dashed border-light-border dark:border-dark-border flex items-center justify-center",children:t.jsx(Jc,{className:"w-8 h-8 text-light-text-secondary dark:text-dark-text-secondary"})}),t.jsx("button",{type:"button",onClick:()=>{var se;return(se=ee.current)==null?void 0:se.click()},className:"px-4 py-2 bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg hover:bg-light-border dark:hover:bg-dark-border transition text-sm",children:q?"Change Photo":"Upload Photo"})]}),t.jsx("p",{className:"text-xs text-light-text-secondary dark:text-dark-text-secondary mt-1",children:"Please upload a clear photo of your face for verification"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1",children:["Full Name ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",placeholder:"John Doe",required:!0,value:F.fullName,onChange:se=>z({...F,fullName:se.target.value}),className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-2 focus:ring-2 focus:ring-brand-primary focus:outline-none transition"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1",children:["Account Type ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("select",{value:F.role,onChange:se=>z({...F,role:se.target.value}),required:!0,className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-2 focus:ring-2 focus:ring-brand-primary focus:outline-none transition",children:[t.jsx("option",{value:"SEEKER",children:"Seeker/Tenant"}),t.jsx("option",{value:"LANDLORD",children:"Landlord"}),t.jsx("option",{value:"AGENT",children:"CC/Agent"}),t.jsx("option",{value:"REFERRER",children:"Referrer"}),t.jsx("option",{value:"INVESTOR",children:"Investor"}),t.jsx("option",{value:"ARTISAN",children:"Local Artisan"})]})]}),F.role==="ARTISAN"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1",children:"Service Type"}),t.jsxs("select",{value:F.artisanService,onChange:se=>z({...F,artisanService:se.target.value}),className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-2 focus:ring-2 focus:ring-brand-primary focus:outline-none transition",children:[t.jsx("option",{value:"",children:"Select service"}),t.jsx("option",{value:"MECHANIC",children:"Mechanic"}),t.jsx("option",{value:"ELECTRICIAN",children:"Electrician"}),t.jsx("option",{value:"PLUMBER",children:"Plumber"}),t.jsx("option",{value:"PAINTER",children:"Painter"}),t.jsx("option",{value:"CARPENTER",children:"Carpenter"}),t.jsx("option",{value:"MASON",children:"Mason"}),t.jsx("option",{value:"TILER",children:"Tiler"}),t.jsx("option",{value:"WELDER",children:"Welder"}),t.jsx("option",{value:"OTHER",children:"Other"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1",children:"Location"}),t.jsx("input",{type:"text",placeholder:"e.g., Lagos, Ikeja",value:F.artisanLocation,onChange:se=>z({...F,artisanLocation:se.target.value}),className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-2 focus:ring-2 focus:ring-brand-primary focus:outline-none transition"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1",children:"Bio/Description"}),t.jsx("textarea",{placeholder:"Tell us about your services...",value:F.artisanBio,onChange:se=>z({...F,artisanBio:se.target.value}),rows:3,className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-2 focus:ring-2 focus:ring-brand-primary focus:outline-none transition"})]})]})]}),!s&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1",children:"Mobile Number"}),t.jsx("input",{type:"tel",placeholder:"+234 800 000 0000",value:F.phone,onChange:se=>z({...F,phone:se.target.value}),className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-2 focus:ring-2 focus:ring-brand-primary focus:outline-none transition"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1",children:"WhatsApp Number"}),t.jsx("input",{type:"tel",placeholder:"+234 800 000 0000",value:F.whatsapp,onChange:se=>z({...F,whatsapp:se.target.value}),className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-2 focus:ring-2 focus:ring-brand-primary focus:outline-none transition"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1",children:"Email"}),t.jsx("input",{type:"email",placeholder:"you@example.com",required:!0,value:F.email,onChange:se=>z({...F,email:se.target.value}),className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-2 focus:ring-2 focus:ring-brand-primary focus:outline-none transition"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1",children:"Password"}),t.jsx("input",{type:"password",placeholder:"",required:!0,value:F.password,onChange:se=>z({...F,password:se.target.value}),className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-2 focus:ring-2 focus:ring-brand-primary focus:outline-none transition"})]}),s&&!y&&!b&&t.jsx("div",{className:"text-right",children:t.jsx("button",{type:"button",onClick:()=>{x(!0),p(null)},className:"text-sm text-brand-primary hover:underline",children:"Forgot Password?"})}),y&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1",children:"Email"}),t.jsx("input",{type:"email",placeholder:"Enter your email",required:!0,value:j,onChange:se=>P(se.target.value),className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-2 focus:ring-2 focus:ring-brand-primary focus:outline-none transition"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{type:"button",onClick:async()=>{if(!j){p("Please enter your email");return}$(!0),p(null);try{const se=await Qt.forgotPassword(j);se.success?(alert("Password reset instructions have been sent to your email. Please check your inbox."),x(!1),P("")):p(se.message||"Failed to send reset email")}catch(se){p(se.message||"Failed to send reset email")}finally{$(!1)}},disabled:V,className:"flex-1 bg-brand-primary text-white rounded-lg py-3 font-bold hover:bg-brand-secondary transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:V?"Sending...":"Send Reset Link"}),t.jsx("button",{type:"button",onClick:()=>{x(!1),P(""),p(null)},className:"px-4 py-3 bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg hover:bg-light-border dark:hover:bg-dark-border transition",children:"Cancel"})]}),t.jsxs("p",{className:"text-xs text-light-text-secondary dark:text-dark-text-secondary text-center",children:["Don't have access to email? ",t.jsx("button",{type:"button",onClick:()=>window.location.href="mailto:support@sheltrify.com",className:"text-brand-primary hover:underline",children:"Contact support"})]})]}),b&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1",children:"New Password"}),t.jsx("input",{type:"password",placeholder:"Enter new password",required:!0,value:U.newPassword,onChange:se=>D({...U,newPassword:se.target.value}),className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-2 focus:ring-2 focus:ring-brand-primary focus:outline-none transition"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1",children:"Confirm Password"}),t.jsx("input",{type:"password",placeholder:"Confirm new password",required:!0,value:U.confirmPassword,onChange:se=>D({...U,confirmPassword:se.target.value}),className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-2 focus:ring-2 focus:ring-brand-primary focus:outline-none transition"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{type:"button",onClick:async()=>{if(!U.newPassword||!U.confirmPassword){p("Please fill in all fields");return}if(U.newPassword.length<6){p("Password must be at least 6 characters");return}if(U.newPassword!==U.confirmPassword){p("Passwords do not match");return}u(!0),p(null);try{const oe=new URLSearchParams(window.location.search).get("token")||k||prompt("Please enter your reset token:");if(!oe){p("Reset token is required"),u(!1);return}const Y=await Qt.resetPassword(oe,U.newPassword);Y.success?(alert("Password reset successfully! Please login with your new password."),v(!1),D({newPassword:"",confirmPassword:""}),l(!0)):p(Y.message||"Failed to reset password")}catch(se){p(se.message||"Failed to reset password")}finally{u(!1)}},disabled:d,className:"flex-1 bg-brand-primary text-white rounded-lg py-3 font-bold hover:bg-brand-secondary transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Resetting...":"Reset Password"}),t.jsx("button",{type:"button",onClick:()=>{v(!1),D({newPassword:"",confirmPassword:""}),w(""),p(null)},className:"px-4 py-3 bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg hover:bg-light-border dark:hover:bg-dark-border transition",children:"Cancel"})]})]}),t.jsx("button",{type:"submit",disabled:d,className:"w-full bg-brand-primary text-white rounded-lg py-3 font-bold hover:bg-brand-secondary transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Processing...":s?"Login":"Create Account"})]}),t.jsxs("p",{className:"text-xs text-light-text-secondary dark:text-dark-text-secondary text-center mt-6",children:["By continuing, you agree to ShelTrify's ",t.jsx("button",{type:"button",onClick:se=>{se.preventDefault(),alert("Terms of Service: By using ShelTrify, you agree to our terms. This is a demo version.")},className:"underline hover:text-brand-primary",children:"Terms of Service"})," and ",t.jsx("button",{type:"button",onClick:se=>{se.preventDefault(),alert("Privacy Policy: We respect your privacy. Your data is securely stored and encrypted.")},className:"underline hover:text-brand-primary",children:"Privacy Policy"}),"."]})]})})},Xv=({onClose:n,favorites:r,onRemoveFavorite:s,onViewDetails:l})=>t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:t.jsxs("div",{className:"relative bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border rounded-lg shadow-2xl w-full max-w-2xl p-6 text-light-text-primary dark:text-dark-text-primary flex flex-col max-h-[90vh]",children:[t.jsx("button",{onClick:n,className:"absolute top-4 right-4 text-light-text-secondary dark:text-dark-text-secondary hover:text-light-text-primary dark:hover:text-dark-text-primary",children:t.jsx(je,{className:"w-6 h-6"})}),t.jsxs("div",{className:"text-center mb-4",children:[t.jsx(Rr,{className:"w-12 h-12 mx-auto text-brand-primary p-2 bg-brand-primary/10 rounded-full"}),t.jsx("h2",{className:"text-2xl font-bold mt-2",children:"Your Profile"})]}),t.jsx("div",{className:"border-b border-light-border dark:border-dark-border",children:t.jsxs("button",{className:"py-3 font-semibold text-sm text-brand-primary border-b-2 border-brand-primary flex items-center gap-2",children:[t.jsx(sg,{})," Saved Properties (",r.length,")"]})}),t.jsx("div",{className:"flex-grow overflow-y-auto mt-4 pr-2 space-y-3",children:r.length>0?r.map(d=>t.jsxs("div",{className:"flex items-center gap-4 bg-light-bg dark:bg-dark-bg p-3 rounded-lg",children:[t.jsx("img",{src:d.imageUrl,alt:d.title,className:"w-20 h-20 rounded-md object-cover flex-shrink-0"}),t.jsxs("div",{className:"flex-grow",children:[t.jsx("p",{className:"font-semibold text-light-text-primary dark:text-dark-text-primary",children:d.title}),t.jsx("p",{className:"text-xs text-light-text-secondary dark:text-dark-text-secondary",children:d.location}),t.jsx("p",{className:"text-sm font-bold text-brand-primary mt-1",children:d.price})]}),t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("button",{onClick:()=>s(d),className:"p-2 bg-light-card dark:bg-dark-card rounded-md hover:bg-light-border dark:hover:bg-dark-border",children:t.jsx(Hc,{className:"w-4 h-4 text-red-500"})}),t.jsx("button",{onClick:()=>l(d),className:"px-3 py-1.5 text-xs font-semibold bg-brand-secondary text-white rounded-md hover:opacity-90",children:"View"})]})]},d.id)):t.jsxs("div",{className:"text-center py-10 text-light-text-secondary dark:text-dark-text-secondary",children:[t.jsx("p",{children:"You haven't saved any properties yet."}),t.jsx("p",{className:"text-xs mt-1",children:"Click the bookmark icon on a property to save it."})]})})]})});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Qv,Zv;function e0(){return{geminiUrl:Qv,vertexUrl:Zv}}function t0(n,r,s,l){var d,u;if(!(n!=null&&n.baseUrl)){const f=e0();return r?(d=f.vertexUrl)!==null&&d!==void 0?d:s:(u=f.geminiUrl)!==null&&u!==void 0?u:l}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ln{}function xe(n,r){const s=/\{([^}]+)\}/g;return n.replace(s,(l,d)=>{if(Object.prototype.hasOwnProperty.call(r,d)){const u=r[d];return u!=null?String(u):""}else throw new Error(`Key '${d}' not found in valueMap.`)})}function m(n,r,s){for(let u=0;u<r.length-1;u++){const f=r[u];if(f.endsWith("[]")){const p=f.slice(0,-2);if(!(p in n))if(Array.isArray(s))n[p]=Array.from({length:s.length},()=>({}));else throw new Error(`Value must be a list given an array path ${f}`);if(Array.isArray(n[p])){const y=n[p];if(Array.isArray(s))for(let x=0;x<y.length;x++){const b=y[x];m(b,r.slice(u+1),s[x])}else for(const x of y)m(x,r.slice(u+1),s)}return}else if(f.endsWith("[0]")){const p=f.slice(0,-3);p in n||(n[p]=[{}]);const y=n[p];m(y[0],r.slice(u+1),s);return}(!n[f]||typeof n[f]!="object")&&(n[f]={}),n=n[f]}const l=r[r.length-1],d=n[l];if(d!==void 0){if(!s||typeof s=="object"&&Object.keys(s).length===0||s===d)return;if(typeof d=="object"&&typeof s=="object"&&d!==null&&s!==null)Object.assign(d,s);else throw new Error(`Cannot set value for an existing key. Key: ${l}`)}else l==="_self"&&typeof s=="object"&&s!==null&&!Array.isArray(s)?Object.assign(n,s):n[l]=s}function c(n,r,s=void 0){try{if(r.length===1&&r[0]==="_self")return n;for(let l=0;l<r.length;l++){if(typeof n!="object"||n===null)return s;const d=r[l];if(d.endsWith("[]")){const u=d.slice(0,-2);if(u in n){const f=n[u];return Array.isArray(f)?f.map(p=>c(p,r.slice(l+1),s)):s}else return s}else n=n[d]}return n}catch(l){if(l instanceof TypeError)return s;throw l}}function r0(n,r){for(const[s,l]of Object.entries(r)){const d=s.split("."),u=l.split("."),f=new Set;let p=-1;for(let y=0;y<d.length;y++)if(d[y]==="*"){p=y;break}if(p!==-1&&u.length>p)for(let y=p;y<u.length;y++){const x=u[y];x!=="*"&&!x.endsWith("[]")&&!x.endsWith("[0]")&&f.add(x)}Ec(n,d,u,0,f)}}function Ec(n,r,s,l,d){if(l>=r.length||typeof n!="object"||n===null)return;const u=r[l];if(u.endsWith("[]")){const f=u.slice(0,-2),p=n;if(f in p&&Array.isArray(p[f]))for(const y of p[f])Ec(y,r,s,l+1,d)}else if(u==="*"){if(typeof n=="object"&&n!==null&&!Array.isArray(n)){const f=n,p=Object.keys(f).filter(x=>!x.startsWith("_")&&!d.has(x)),y={};for(const x of p)y[x]=f[x];for(const[x,b]of Object.entries(y)){const v=[];for(const k of s.slice(l))k==="*"?v.push(x):v.push(k);m(f,v,b)}for(const x of p)delete f[x]}}else{const f=n;u in f&&Ec(f[u],r,s,l+1,d)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Xc(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function n0(n){const r={},s=c(n,["operationName"]);s!=null&&m(r,["operationName"],s);const l=c(n,["resourceName"]);return l!=null&&m(r,["_url","resourceName"],l),r}function a0(n){const r={},s=c(n,["name"]);s!=null&&m(r,["name"],s);const l=c(n,["metadata"]);l!=null&&m(r,["metadata"],l);const d=c(n,["done"]);d!=null&&m(r,["done"],d);const u=c(n,["error"]);u!=null&&m(r,["error"],u);const f=c(n,["response","generateVideoResponse"]);return f!=null&&m(r,["response"],i0(f)),r}function s0(n){const r={},s=c(n,["name"]);s!=null&&m(r,["name"],s);const l=c(n,["metadata"]);l!=null&&m(r,["metadata"],l);const d=c(n,["done"]);d!=null&&m(r,["done"],d);const u=c(n,["error"]);u!=null&&m(r,["error"],u);const f=c(n,["response"]);return f!=null&&m(r,["response"],l0(f)),r}function i0(n){const r={},s=c(n,["generatedSamples"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(f=>o0(f))),m(r,["generatedVideos"],u)}const l=c(n,["raiMediaFilteredCount"]);l!=null&&m(r,["raiMediaFilteredCount"],l);const d=c(n,["raiMediaFilteredReasons"]);return d!=null&&m(r,["raiMediaFilteredReasons"],d),r}function l0(n){const r={},s=c(n,["videos"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(f=>d0(f))),m(r,["generatedVideos"],u)}const l=c(n,["raiMediaFilteredCount"]);l!=null&&m(r,["raiMediaFilteredCount"],l);const d=c(n,["raiMediaFilteredReasons"]);return d!=null&&m(r,["raiMediaFilteredReasons"],d),r}function o0(n){const r={},s=c(n,["video"]);return s!=null&&m(r,["video"],p0(s)),r}function d0(n){const r={},s=c(n,["_self"]);return s!=null&&m(r,["video"],x0(s)),r}function c0(n){const r={},s=c(n,["operationName"]);return s!=null&&m(r,["_url","operationName"],s),r}function u0(n){const r={},s=c(n,["operationName"]);return s!=null&&m(r,["_url","operationName"],s),r}function m0(n){const r={},s=c(n,["name"]);s!=null&&m(r,["name"],s);const l=c(n,["metadata"]);l!=null&&m(r,["metadata"],l);const d=c(n,["done"]);d!=null&&m(r,["done"],d);const u=c(n,["error"]);u!=null&&m(r,["error"],u);const f=c(n,["response"]);return f!=null&&m(r,["response"],f0(f)),r}function f0(n){const r={},s=c(n,["sdkHttpResponse"]);s!=null&&m(r,["sdkHttpResponse"],s);const l=c(n,["parent"]);l!=null&&m(r,["parent"],l);const d=c(n,["documentName"]);return d!=null&&m(r,["documentName"],d),r}function dg(n){const r={},s=c(n,["name"]);s!=null&&m(r,["name"],s);const l=c(n,["metadata"]);l!=null&&m(r,["metadata"],l);const d=c(n,["done"]);d!=null&&m(r,["done"],d);const u=c(n,["error"]);u!=null&&m(r,["error"],u);const f=c(n,["response"]);return f!=null&&m(r,["response"],h0(f)),r}function h0(n){const r={},s=c(n,["sdkHttpResponse"]);s!=null&&m(r,["sdkHttpResponse"],s);const l=c(n,["parent"]);l!=null&&m(r,["parent"],l);const d=c(n,["documentName"]);return d!=null&&m(r,["documentName"],d),r}function p0(n){const r={},s=c(n,["uri"]);s!=null&&m(r,["uri"],s);const l=c(n,["encodedVideo"]);l!=null&&m(r,["videoBytes"],Xc(l));const d=c(n,["encoding"]);return d!=null&&m(r,["mimeType"],d),r}function x0(n){const r={},s=c(n,["gcsUri"]);s!=null&&m(r,["uri"],s);const l=c(n,["bytesBase64Encoded"]);l!=null&&m(r,["videoBytes"],Xc(l));const d=c(n,["mimeType"]);return d!=null&&m(r,["mimeType"],d),r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var lp;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(lp||(lp={}));var op;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(op||(op={}));var dp;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(dp||(dp={}));var Pe;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(Pe||(Pe={}));var cp;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(cp||(cp={}));var up;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(up||(up={}));var mp;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(mp||(mp={}));var fp;(function(n){n.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",n.HTTP_IN_QUERY="HTTP_IN_QUERY",n.HTTP_IN_HEADER="HTTP_IN_HEADER",n.HTTP_IN_PATH="HTTP_IN_PATH",n.HTTP_IN_BODY="HTTP_IN_BODY",n.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(fp||(fp={}));var hp;(function(n){n.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",n.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",n.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",n.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(hp||(hp={}));var pp;(function(n){n.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",n.LOW="LOW",n.HIGH="HIGH"})(pp||(pp={}));var xp;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(xp||(xp={}));var gp;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(gp||(gp={}));var yp;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(yp||(yp={}));var bp;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE"})(bp||(bp={}));var vp;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(vp||(vp={}));var kp;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(kp||(kp={}));var Np;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Np||(Np={}));var wp;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY",n.MODEL_ARMOR="MODEL_ARMOR",n.JAILBREAK="JAILBREAK"})(wp||(wp={}));var Sp;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Sp||(Sp={}));var Ti;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(Ti||(Ti={}));var Tp;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Tp||(Tp={}));var jp;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(jp||(jp={}));var Cp;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Cp||(Cp={}));var Ac;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Ac||(Ac={}));var Ep;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V",n.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Ep||(Ep={}));var Ap;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Ap||(Ap={}));var _p;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(_p||(_p={}));var Mp;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(Mp||(Mp={}));var Rp;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Rp||(Rp={}));var Ip;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Ip||(Ip={}));var Pp;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(Pp||(Pp={}));var Lp;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(Lp||(Lp={}));var Dp;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(Dp||(Dp={}));var Up;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(Up||(Up={}));var qp;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(qp||(qp={}));var Vp;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Vp||(Vp={}));var Hp;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Hp||(Hp={}));var Fp;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Fp||(Fp={}));var Bp;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(Bp||(Bp={}));var zp;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(zp||(zp={}));var Gp;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(Gp||(Gp={}));var Op;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(Op||(Op={}));var Yp;(function(n){n.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",n.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Yp||(Yp={}));var Jp;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.STATE_PENDING="STATE_PENDING",n.STATE_ACTIVE="STATE_ACTIVE",n.STATE_FAILED="STATE_FAILED"})(Jp||(Jp={}));var Wp;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(Wp||(Wp={}));var Kp;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(Kp||(Kp={}));var $p;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})($p||($p={}));var Xp;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(Xp||(Xp={}));var Qp;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Qp||(Qp={}));var Zp;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Zp||(Zp={}));var ex;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(ex||(ex={}));var tx;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(tx||(tx={}));var rx;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(rx||(rx={}));var nx;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(nx||(nx={}));var is;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(is||(is={}));class _c{constructor(r){const s={};for(const l of r.headers.entries())s[l[0]]=l[1];this.headers=s,this.responseInternal=r}json(){return this.responseInternal.json()}}class hi{get text(){var r,s,l,d,u,f,p,y;if(((d=(l=(s=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)===null||d===void 0?void 0:d.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let x="",b=!1;const v=[];for(const k of(y=(p=(f=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content)===null||p===void 0?void 0:p.parts)!==null&&y!==void 0?y:[]){for(const[w,j]of Object.entries(k))w!=="text"&&w!=="thought"&&w!=="thoughtSignature"&&(j!==null||j!==void 0)&&v.push(w);if(typeof k.text=="string"){if(typeof k.thought=="boolean"&&k.thought)continue;b=!0,x+=k.text}}return v.length>0&&console.warn(`there are non-text parts ${v} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),b?x:void 0}get data(){var r,s,l,d,u,f,p,y;if(((d=(l=(s=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)===null||d===void 0?void 0:d.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let x="";const b=[];for(const v of(y=(p=(f=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content)===null||p===void 0?void 0:p.parts)!==null&&y!==void 0?y:[]){for(const[k,w]of Object.entries(v))k!=="inlineData"&&(w!==null||w!==void 0)&&b.push(k);v.inlineData&&typeof v.inlineData.data=="string"&&(x+=atob(v.inlineData.data))}return b.length>0&&console.warn(`there are non-data parts ${b} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),x.length>0?btoa(x):void 0}get functionCalls(){var r,s,l,d,u,f,p,y;if(((d=(l=(s=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)===null||d===void 0?void 0:d.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const x=(y=(p=(f=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content)===null||p===void 0?void 0:p.parts)===null||y===void 0?void 0:y.filter(b=>b.functionCall).map(b=>b.functionCall).filter(b=>b!==void 0);if((x==null?void 0:x.length)!==0)return x}get executableCode(){var r,s,l,d,u,f,p,y,x;if(((d=(l=(s=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)===null||d===void 0?void 0:d.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const b=(y=(p=(f=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content)===null||p===void 0?void 0:p.parts)===null||y===void 0?void 0:y.filter(v=>v.executableCode).map(v=>v.executableCode).filter(v=>v!==void 0);if((b==null?void 0:b.length)!==0)return(x=b==null?void 0:b[0])===null||x===void 0?void 0:x.code}get codeExecutionResult(){var r,s,l,d,u,f,p,y,x;if(((d=(l=(s=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)===null||d===void 0?void 0:d.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const b=(y=(p=(f=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content)===null||p===void 0?void 0:p.parts)===null||y===void 0?void 0:y.filter(v=>v.codeExecutionResult).map(v=>v.codeExecutionResult).filter(v=>v!==void 0);if((b==null?void 0:b.length)!==0)return(x=b==null?void 0:b[0])===null||x===void 0?void 0:x.output}}class ax{}class sx{}class g0{}class y0{}class b0{}class v0{}class ix{}class lx{}class ox{}class k0{}class Jl{_fromAPIResponse({apiResponse:r,_isVertexAI:s}){const l=new Jl;let d;const u=r;return s?d=s0(u):d=a0(u),Object.assign(l,d),l}}class dx{}class cx{}class ux{}class N0{}class w0{}class S0{}class Qc{_fromAPIResponse({apiResponse:r,_isVertexAI:s}){const l=new Qc,u=m0(r);return Object.assign(l,u),l}}class T0{}class j0{}class C0{}class mx{}class E0{get text(){var r,s,l;let d="",u=!1;const f=[];for(const p of(l=(s=(r=this.serverContent)===null||r===void 0?void 0:r.modelTurn)===null||s===void 0?void 0:s.parts)!==null&&l!==void 0?l:[]){for(const[y,x]of Object.entries(p))y!=="text"&&y!=="thought"&&x!==null&&f.push(y);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;u=!0,d+=p.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),u?d:void 0}get data(){var r,s,l;let d="";const u=[];for(const f of(l=(s=(r=this.serverContent)===null||r===void 0?void 0:r.modelTurn)===null||s===void 0?void 0:s.parts)!==null&&l!==void 0?l:[]){for(const[p,y]of Object.entries(f))p!=="inlineData"&&y!==null&&u.push(p);f.inlineData&&typeof f.inlineData.data=="string"&&(d+=atob(f.inlineData.data))}return u.length>0&&console.warn(`there are non-data parts ${u} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}}class A0{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Zc{_fromAPIResponse({apiResponse:r,_isVertexAI:s}){const l=new Zc,u=dg(r);return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ue(n,r){if(!r||typeof r!="string")throw new Error("model is required and must be a string");if(r.includes("..")||r.includes("?")||r.includes("&"))throw new Error("invalid model parameter");if(n.isVertexAI()){if(r.startsWith("publishers/")||r.startsWith("projects/")||r.startsWith("models/"))return r;if(r.indexOf("/")>=0){const s=r.split("/",2);return`publishers/${s[0]}/models/${s[1]}`}else return`publishers/google/models/${r}`}else return r.startsWith("models/")||r.startsWith("tunedModels/")?r:`models/${r}`}function cg(n,r){const s=Ue(n,r);return s?s.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${s}`:s.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${s}`:s:""}function ug(n){return Array.isArray(n)?n.map(r=>Wl(r)):[Wl(n)]}function Wl(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function mg(n){const r=Wl(n);if(r.mimeType&&r.mimeType.startsWith("image/"))return r;throw new Error(`Unsupported mime type: ${r.mimeType}`)}function fg(n){const r=Wl(n);if(r.mimeType&&r.mimeType.startsWith("audio/"))return r;throw new Error(`Unsupported mime type: ${r.mimeType}`)}function fx(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function hg(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(r=>fx(r)):[fx(n)]}function Mc(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function hx(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function px(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function jt(n){if(n==null)throw new Error("ContentUnion is required");return Mc(n)?n:{role:"user",parts:hg(n)}}function eu(n,r){if(!r)return[];if(n.isVertexAI()&&Array.isArray(r))return r.flatMap(s=>{const l=jt(s);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]});if(n.isVertexAI()){const s=jt(r);return s.parts&&s.parts.length>0&&s.parts[0].text!==void 0?[s.parts[0].text]:[]}return Array.isArray(r)?r.map(s=>jt(s)):[jt(r)]}function mr(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(hx(n)||px(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[jt(n)]}const r=[],s=[],l=Mc(n[0]);for(const d of n){const u=Mc(d);if(u!=l)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(u)r.push(d);else{if(hx(d)||px(d))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");s.push(d)}}return l||r.push({role:"user",parts:hg(s)}),r}function _0(n,r){n.includes("null")&&(r.nullable=!0);const s=n.filter(l=>l!=="null");if(s.length===1)r.type=Object.values(Pe).includes(s[0].toUpperCase())?s[0].toUpperCase():Pe.TYPE_UNSPECIFIED;else{r.anyOf=[];for(const l of s)r.anyOf.push({type:Object.values(Pe).includes(l.toUpperCase())?l.toUpperCase():Pe.TYPE_UNSPECIFIED})}}function os(n){const r={},s=["items"],l=["anyOf"],d=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const u=n.anyOf;u!=null&&u.length==2&&(u[0].type==="null"?(r.nullable=!0,n=u[1]):u[1].type==="null"&&(r.nullable=!0,n=u[0])),n.type instanceof Array&&_0(n.type,r);for(const[f,p]of Object.entries(n))if(p!=null)if(f=="type"){if(p==="null")throw new Error("type: null can not be the only possible type for the field.");if(p instanceof Array)continue;r.type=Object.values(Pe).includes(p.toUpperCase())?p.toUpperCase():Pe.TYPE_UNSPECIFIED}else if(s.includes(f))r[f]=os(p);else if(l.includes(f)){const y=[];for(const x of p){if(x.type=="null"){r.nullable=!0;continue}y.push(os(x))}r[f]=y}else if(d.includes(f)){const y={};for(const[x,b]of Object.entries(p))y[x]=os(b);r[f]=y}else{if(f==="additionalProperties")continue;r[f]=p}return r}function tu(n){return os(n)}function ru(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function nu(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function hs(n){if(n.functionDeclarations)for(const r of n.functionDeclarations)r.parameters&&(Object.keys(r.parameters).includes("$schema")?r.parametersJsonSchema||(r.parametersJsonSchema=r.parameters,delete r.parameters):r.parameters=os(r.parameters)),r.response&&(Object.keys(r.response).includes("$schema")?r.responseJsonSchema||(r.responseJsonSchema=r.response,delete r.response):r.response=os(r.response));return n}function ps(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const r=[];for(const s of n)r.push(s);return r}function M0(n,r,s,l=1){const d=!r.startsWith(`${s}/`)&&r.split("/").length===l;return n.isVertexAI()?r.startsWith("projects/")?r:r.startsWith("locations/")?`projects/${n.getProject()}/${r}`:r.startsWith(`${s}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${r}`:d?`projects/${n.getProject()}/locations/${n.getLocation()}/${s}/${r}`:r:d?`${s}/${r}`:r}function on(n,r){if(typeof r!="string")throw new Error("name must be a string");return M0(n,r,"cachedContents")}function pg(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function On(n){return Xc(n)}function R0(n){return n!=null&&typeof n=="object"&&"name"in n}function I0(n){return n!=null&&typeof n=="object"&&"video"in n}function P0(n){return n!=null&&typeof n=="object"&&"uri"in n}function xg(n){var r;let s;if(R0(n)&&(s=n.name),!(P0(n)&&(s=n.uri,s===void 0))&&!(I0(n)&&(s=(r=n.video)===null||r===void 0?void 0:r.uri,s===void 0))){if(typeof n=="string"&&(s=n),s===void 0)throw new Error("Could not extract file name from the provided input.");if(s.startsWith("https://")){const d=s.split("files/")[1].match(/[a-z0-9]+/);if(d===null)throw new Error(`Could not extract file name from URI ${s}`);s=d[0]}else s.startsWith("files/")&&(s=s.split("files/")[1]);return s}}function gg(n,r){let s;return n.isVertexAI()?s=r?"publishers/google/models":"models":s=r?"models":"tunedModels",s}function yg(n){for(const r of["models","tunedModels","publisherModels"])if(L0(n,r))return n[r];return[]}function L0(n,r){return n!==null&&typeof n=="object"&&r in n}function D0(n,r={}){const s=n,l={name:s.name,description:s.description,parametersJsonSchema:s.inputSchema};return s.outputSchema&&(l.responseJsonSchema=s.outputSchema),r.behavior&&(l.behavior=r.behavior),{functionDeclarations:[l]}}function U0(n,r={}){const s=[],l=new Set;for(const d of n){const u=d.name;if(l.has(u))throw new Error(`Duplicate function name ${u} found in MCP tools. Please ensure function names are unique.`);l.add(u);const f=D0(d,r);f.functionDeclarations&&s.push(...f.functionDeclarations)}return{functionDeclarations:s}}function bg(n,r){let s;if(typeof r=="string")if(n.isVertexAI())if(r.startsWith("gs://"))s={format:"jsonl",gcsUri:[r]};else if(r.startsWith("bq://"))s={format:"bigquery",bigqueryUri:r};else throw new Error(`Unsupported string source for Vertex AI: ${r}`);else if(r.startsWith("files/"))s={fileName:r};else throw new Error(`Unsupported string source for Gemini API: ${r}`);else if(Array.isArray(r)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");s={inlinedRequests:r}}else s=r;const l=[s.gcsUri,s.bigqueryUri].filter(Boolean).length,d=[s.inlinedRequests,s.fileName].filter(Boolean).length;if(n.isVertexAI()){if(d>0||l!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(l>0||d!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return s}function q0(n){if(typeof n!="string")return n;const r=n;if(r.startsWith("gs://"))return{format:"jsonl",gcsUri:r};if(r.startsWith("bq://"))return{format:"bigquery",bigqueryUri:r};throw new Error(`Unsupported destination: ${r}`)}function vg(n){if(typeof n!="object"||n===null)return{};const r=n,s=r.inlinedResponses;if(typeof s!="object"||s===null)return n;const d=s.inlinedResponses;if(!Array.isArray(d)||d.length===0)return n;let u=!1;for(const f of d){if(typeof f!="object"||f===null)continue;const y=f.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){u=!0;break}}return u&&(r.inlinedEmbedContentResponses=r.inlinedResponses,delete r.inlinedResponses),n}function xs(n,r){const s=r;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(s))return s.split("/").pop();throw new Error(`Invalid batch job name: ${s}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(s))return s.split("/").pop();if(/^\d+$/.test(s))return s;throw new Error(`Invalid batch job name: ${s}.`)}function kg(n){const r=n;return r==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":r==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":r==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":r==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":r==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":r==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":r==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function V0(n){const r={},s=c(n,["responsesFile"]);s!=null&&m(r,["fileName"],s);const l=c(n,["inlinedResponses","inlinedResponses"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>bk(f))),m(r,["inlinedResponses"],u)}const d=c(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(d!=null){let u=d;Array.isArray(u)&&(u=u.map(f=>f)),m(r,["inlinedEmbedContentResponses"],u)}return r}function H0(n){const r={},s=c(n,["predictionsFormat"]);s!=null&&m(r,["format"],s);const l=c(n,["gcsDestination","outputUriPrefix"]);l!=null&&m(r,["gcsUri"],l);const d=c(n,["bigqueryDestination","outputUri"]);return d!=null&&m(r,["bigqueryUri"],d),r}function F0(n){const r={},s=c(n,["format"]);s!=null&&m(r,["predictionsFormat"],s);const l=c(n,["gcsUri"]);l!=null&&m(r,["gcsDestination","outputUriPrefix"],l);const d=c(n,["bigqueryUri"]);if(d!=null&&m(r,["bigqueryDestination","outputUri"],d),c(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(c(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return r}function zl(n){const r={},s=c(n,["name"]);s!=null&&m(r,["name"],s);const l=c(n,["metadata","displayName"]);l!=null&&m(r,["displayName"],l);const d=c(n,["metadata","state"]);d!=null&&m(r,["state"],kg(d));const u=c(n,["metadata","createTime"]);u!=null&&m(r,["createTime"],u);const f=c(n,["metadata","endTime"]);f!=null&&m(r,["endTime"],f);const p=c(n,["metadata","updateTime"]);p!=null&&m(r,["updateTime"],p);const y=c(n,["metadata","model"]);y!=null&&m(r,["model"],y);const x=c(n,["metadata","output"]);return x!=null&&m(r,["dest"],V0(vg(x))),r}function Rc(n){const r={},s=c(n,["name"]);s!=null&&m(r,["name"],s);const l=c(n,["displayName"]);l!=null&&m(r,["displayName"],l);const d=c(n,["state"]);d!=null&&m(r,["state"],kg(d));const u=c(n,["error"]);u!=null&&m(r,["error"],u);const f=c(n,["createTime"]);f!=null&&m(r,["createTime"],f);const p=c(n,["startTime"]);p!=null&&m(r,["startTime"],p);const y=c(n,["endTime"]);y!=null&&m(r,["endTime"],y);const x=c(n,["updateTime"]);x!=null&&m(r,["updateTime"],x);const b=c(n,["model"]);b!=null&&m(r,["model"],b);const v=c(n,["inputConfig"]);v!=null&&m(r,["src"],B0(v));const k=c(n,["outputConfig"]);k!=null&&m(r,["dest"],H0(vg(k)));const w=c(n,["completionStats"]);return w!=null&&m(r,["completionStats"],w),r}function B0(n){const r={},s=c(n,["instancesFormat"]);s!=null&&m(r,["format"],s);const l=c(n,["gcsSource","uris"]);l!=null&&m(r,["gcsUri"],l);const d=c(n,["bigquerySource","inputUri"]);return d!=null&&m(r,["bigqueryUri"],d),r}function z0(n,r){const s={};if(c(r,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(c(r,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(r,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const l=c(r,["fileName"]);l!=null&&m(s,["fileName"],l);const d=c(r,["inlinedRequests"]);if(d!=null){let u=d;Array.isArray(u)&&(u=u.map(f=>yk(n,f))),m(s,["requests","requests"],u)}return s}function G0(n){const r={},s=c(n,["format"]);s!=null&&m(r,["instancesFormat"],s);const l=c(n,["gcsUri"]);l!=null&&m(r,["gcsSource","uris"],l);const d=c(n,["bigqueryUri"]);if(d!=null&&m(r,["bigquerySource","inputUri"],d),c(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return r}function O0(n){const r={},s=c(n,["data"]);if(s!=null&&m(r,["data"],s),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=c(n,["mimeType"]);return l!=null&&m(r,["mimeType"],l),r}function Y0(n,r){const s={},l=c(r,["name"]);return l!=null&&m(s,["_url","name"],xs(n,l)),s}function J0(n,r){const s={},l=c(r,["name"]);return l!=null&&m(s,["_url","name"],xs(n,l)),s}function W0(n){const r={},s=c(n,["content"]);s!=null&&m(r,["content"],s);const l=c(n,["citationMetadata"]);l!=null&&m(r,["citationMetadata"],K0(l));const d=c(n,["tokenCount"]);d!=null&&m(r,["tokenCount"],d);const u=c(n,["finishReason"]);u!=null&&m(r,["finishReason"],u);const f=c(n,["avgLogprobs"]);f!=null&&m(r,["avgLogprobs"],f);const p=c(n,["groundingMetadata"]);p!=null&&m(r,["groundingMetadata"],p);const y=c(n,["index"]);y!=null&&m(r,["index"],y);const x=c(n,["logprobsResult"]);x!=null&&m(r,["logprobsResult"],x);const b=c(n,["safetyRatings"]);if(b!=null){let k=b;Array.isArray(k)&&(k=k.map(w=>w)),m(r,["safetyRatings"],k)}const v=c(n,["urlContextMetadata"]);return v!=null&&m(r,["urlContextMetadata"],v),r}function K0(n){const r={},s=c(n,["citationSources"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(d=>d)),m(r,["citations"],l)}return r}function Ng(n){const r={},s=c(n,["parts"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(u=>jk(u))),m(r,["parts"],d)}const l=c(n,["role"]);return l!=null&&m(r,["role"],l),r}function $0(n,r){const s={},l=c(n,["displayName"]);if(r!==void 0&&l!=null&&m(r,["batch","displayName"],l),c(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return s}function X0(n,r){const s={},l=c(n,["displayName"]);r!==void 0&&l!=null&&m(r,["displayName"],l);const d=c(n,["dest"]);return r!==void 0&&d!=null&&m(r,["outputConfig"],F0(q0(d))),s}function xx(n,r){const s={},l=c(r,["model"]);l!=null&&m(s,["_url","model"],Ue(n,l));const d=c(r,["src"]);d!=null&&m(s,["batch","inputConfig"],z0(n,bg(n,d)));const u=c(r,["config"]);return u!=null&&$0(u,s),s}function Q0(n,r){const s={},l=c(r,["model"]);l!=null&&m(s,["model"],Ue(n,l));const d=c(r,["src"]);d!=null&&m(s,["inputConfig"],G0(bg(n,d)));const u=c(r,["config"]);return u!=null&&X0(u,s),s}function Z0(n,r){const s={},l=c(n,["displayName"]);return r!==void 0&&l!=null&&m(r,["batch","displayName"],l),s}function ek(n,r){const s={},l=c(r,["model"]);l!=null&&m(s,["_url","model"],Ue(n,l));const d=c(r,["src"]);d!=null&&m(s,["batch","inputConfig"],lk(n,d));const u=c(r,["config"]);return u!=null&&Z0(u,s),s}function tk(n,r){const s={},l=c(r,["name"]);return l!=null&&m(s,["_url","name"],xs(n,l)),s}function rk(n,r){const s={},l=c(r,["name"]);return l!=null&&m(s,["_url","name"],xs(n,l)),s}function nk(n){const r={},s=c(n,["sdkHttpResponse"]);s!=null&&m(r,["sdkHttpResponse"],s);const l=c(n,["name"]);l!=null&&m(r,["name"],l);const d=c(n,["done"]);d!=null&&m(r,["done"],d);const u=c(n,["error"]);return u!=null&&m(r,["error"],u),r}function ak(n){const r={},s=c(n,["sdkHttpResponse"]);s!=null&&m(r,["sdkHttpResponse"],s);const l=c(n,["name"]);l!=null&&m(r,["name"],l);const d=c(n,["done"]);d!=null&&m(r,["done"],d);const u=c(n,["error"]);return u!=null&&m(r,["error"],u),r}function sk(n,r){const s={},l=c(r,["contents"]);if(l!=null){let u=eu(n,l);Array.isArray(u)&&(u=u.map(f=>f)),m(s,["requests[]","request","content"],u)}const d=c(r,["config"]);return d!=null&&(m(s,["_self"],ik(d,s)),r0(s,{"requests[].*":"requests[].request.*"})),s}function ik(n,r){const s={},l=c(n,["taskType"]);r!==void 0&&l!=null&&m(r,["requests[]","taskType"],l);const d=c(n,["title"]);r!==void 0&&d!=null&&m(r,["requests[]","title"],d);const u=c(n,["outputDimensionality"]);if(r!==void 0&&u!=null&&m(r,["requests[]","outputDimensionality"],u),c(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return s}function lk(n,r){const s={},l=c(r,["fileName"]);l!=null&&m(s,["file_name"],l);const d=c(r,["inlinedRequests"]);return d!=null&&m(s,["requests"],sk(n,d)),s}function ok(n){const r={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(n,["fileUri"]);s!=null&&m(r,["fileUri"],s);const l=c(n,["mimeType"]);return l!=null&&m(r,["mimeType"],l),r}function dk(n){const r={},s=c(n,["id"]);s!=null&&m(r,["id"],s);const l=c(n,["args"]);l!=null&&m(r,["args"],l);const d=c(n,["name"]);if(d!=null&&m(r,["name"],d),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return r}function ck(n){const r={},s=c(n,["mode"]);s!=null&&m(r,["mode"],s);const l=c(n,["allowedFunctionNames"]);if(l!=null&&m(r,["allowedFunctionNames"],l),c(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return r}function uk(n,r,s){const l={},d=c(r,["systemInstruction"]);s!==void 0&&d!=null&&m(s,["systemInstruction"],Ng(jt(d)));const u=c(r,["temperature"]);u!=null&&m(l,["temperature"],u);const f=c(r,["topP"]);f!=null&&m(l,["topP"],f);const p=c(r,["topK"]);p!=null&&m(l,["topK"],p);const y=c(r,["candidateCount"]);y!=null&&m(l,["candidateCount"],y);const x=c(r,["maxOutputTokens"]);x!=null&&m(l,["maxOutputTokens"],x);const b=c(r,["stopSequences"]);b!=null&&m(l,["stopSequences"],b);const v=c(r,["responseLogprobs"]);v!=null&&m(l,["responseLogprobs"],v);const k=c(r,["logprobs"]);k!=null&&m(l,["logprobs"],k);const w=c(r,["presencePenalty"]);w!=null&&m(l,["presencePenalty"],w);const j=c(r,["frequencyPenalty"]);j!=null&&m(l,["frequencyPenalty"],j);const P=c(r,["seed"]);P!=null&&m(l,["seed"],P);const V=c(r,["responseMimeType"]);V!=null&&m(l,["responseMimeType"],V);const $=c(r,["responseSchema"]);$!=null&&m(l,["responseSchema"],tu($));const U=c(r,["responseJsonSchema"]);if(U!=null&&m(l,["responseJsonSchema"],U),c(r,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(r,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const D=c(r,["safetySettings"]);if(s!==void 0&&D!=null){let ce=D;Array.isArray(ce)&&(ce=ce.map(se=>Ck(se))),m(s,["safetySettings"],ce)}const A=c(r,["tools"]);if(s!==void 0&&A!=null){let ce=ps(A);Array.isArray(ce)&&(ce=ce.map(se=>Ak(hs(se)))),m(s,["tools"],ce)}const I=c(r,["toolConfig"]);if(s!==void 0&&I!=null&&m(s,["toolConfig"],Ek(I)),c(r,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const q=c(r,["cachedContent"]);s!==void 0&&q!=null&&m(s,["cachedContent"],on(n,q));const M=c(r,["responseModalities"]);M!=null&&m(l,["responseModalities"],M);const ee=c(r,["mediaResolution"]);ee!=null&&m(l,["mediaResolution"],ee);const F=c(r,["speechConfig"]);if(F!=null&&m(l,["speechConfig"],ru(F)),c(r,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const z=c(r,["thinkingConfig"]);z!=null&&m(l,["thinkingConfig"],z);const re=c(r,["imageConfig"]);return re!=null&&m(l,["imageConfig"],gk(re)),l}function mk(n){const r={},s=c(n,["sdkHttpResponse"]);s!=null&&m(r,["sdkHttpResponse"],s);const l=c(n,["candidates"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(x=>W0(x))),m(r,["candidates"],y)}const d=c(n,["modelVersion"]);d!=null&&m(r,["modelVersion"],d);const u=c(n,["promptFeedback"]);u!=null&&m(r,["promptFeedback"],u);const f=c(n,["responseId"]);f!=null&&m(r,["responseId"],f);const p=c(n,["usageMetadata"]);return p!=null&&m(r,["usageMetadata"],p),r}function fk(n,r){const s={},l=c(r,["name"]);return l!=null&&m(s,["_url","name"],xs(n,l)),s}function hk(n,r){const s={},l=c(r,["name"]);return l!=null&&m(s,["_url","name"],xs(n,l)),s}function pk(n){const r={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const s=c(n,["enableWidget"]);return s!=null&&m(r,["enableWidget"],s),r}function xk(n){const r={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const s=c(n,["timeRangeFilter"]);return s!=null&&m(r,["timeRangeFilter"],s),r}function gk(n){const r={},s=c(n,["aspectRatio"]);s!=null&&m(r,["aspectRatio"],s);const l=c(n,["imageSize"]);if(l!=null&&m(r,["imageSize"],l),c(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return r}function yk(n,r){const s={},l=c(r,["model"]);l!=null&&m(s,["request","model"],Ue(n,l));const d=c(r,["contents"]);if(d!=null){let p=mr(d);Array.isArray(p)&&(p=p.map(y=>Ng(y))),m(s,["request","contents"],p)}const u=c(r,["metadata"]);u!=null&&m(s,["metadata"],u);const f=c(r,["config"]);return f!=null&&m(s,["request","generationConfig"],uk(n,f,c(s,["request"],{}))),s}function bk(n){const r={},s=c(n,["response"]);s!=null&&m(r,["response"],mk(s));const l=c(n,["error"]);return l!=null&&m(r,["error"],l),r}function vk(n,r){const s={},l=c(n,["pageSize"]);r!==void 0&&l!=null&&m(r,["_query","pageSize"],l);const d=c(n,["pageToken"]);if(r!==void 0&&d!=null&&m(r,["_query","pageToken"],d),c(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return s}function kk(n,r){const s={},l=c(n,["pageSize"]);r!==void 0&&l!=null&&m(r,["_query","pageSize"],l);const d=c(n,["pageToken"]);r!==void 0&&d!=null&&m(r,["_query","pageToken"],d);const u=c(n,["filter"]);return r!==void 0&&u!=null&&m(r,["_query","filter"],u),s}function Nk(n){const r={},s=c(n,["config"]);return s!=null&&vk(s,r),r}function wk(n){const r={},s=c(n,["config"]);return s!=null&&kk(s,r),r}function Sk(n){const r={},s=c(n,["sdkHttpResponse"]);s!=null&&m(r,["sdkHttpResponse"],s);const l=c(n,["nextPageToken"]);l!=null&&m(r,["nextPageToken"],l);const d=c(n,["operations"]);if(d!=null){let u=d;Array.isArray(u)&&(u=u.map(f=>zl(f))),m(r,["batchJobs"],u)}return r}function Tk(n){const r={},s=c(n,["sdkHttpResponse"]);s!=null&&m(r,["sdkHttpResponse"],s);const l=c(n,["nextPageToken"]);l!=null&&m(r,["nextPageToken"],l);const d=c(n,["batchPredictionJobs"]);if(d!=null){let u=d;Array.isArray(u)&&(u=u.map(f=>Rc(f))),m(r,["batchJobs"],u)}return r}function jk(n){const r={},s=c(n,["mediaResolution"]);s!=null&&m(r,["mediaResolution"],s);const l=c(n,["codeExecutionResult"]);l!=null&&m(r,["codeExecutionResult"],l);const d=c(n,["executableCode"]);d!=null&&m(r,["executableCode"],d);const u=c(n,["fileData"]);u!=null&&m(r,["fileData"],ok(u));const f=c(n,["functionCall"]);f!=null&&m(r,["functionCall"],dk(f));const p=c(n,["functionResponse"]);p!=null&&m(r,["functionResponse"],p);const y=c(n,["inlineData"]);y!=null&&m(r,["inlineData"],O0(y));const x=c(n,["text"]);x!=null&&m(r,["text"],x);const b=c(n,["thought"]);b!=null&&m(r,["thought"],b);const v=c(n,["thoughtSignature"]);v!=null&&m(r,["thoughtSignature"],v);const k=c(n,["videoMetadata"]);return k!=null&&m(r,["videoMetadata"],k),r}function Ck(n){const r={},s=c(n,["category"]);if(s!=null&&m(r,["category"],s),c(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const l=c(n,["threshold"]);return l!=null&&m(r,["threshold"],l),r}function Ek(n){const r={},s=c(n,["functionCallingConfig"]);s!=null&&m(r,["functionCallingConfig"],ck(s));const l=c(n,["retrievalConfig"]);return l!=null&&m(r,["retrievalConfig"],l),r}function Ak(n){const r={},s=c(n,["functionDeclarations"]);if(s!=null){let b=s;Array.isArray(b)&&(b=b.map(v=>v)),m(r,["functionDeclarations"],b)}if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=c(n,["googleSearchRetrieval"]);l!=null&&m(r,["googleSearchRetrieval"],l);const d=c(n,["computerUse"]);d!=null&&m(r,["computerUse"],d);const u=c(n,["fileSearch"]);u!=null&&m(r,["fileSearch"],u);const f=c(n,["codeExecution"]);if(f!=null&&m(r,["codeExecution"],f),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=c(n,["googleMaps"]);p!=null&&m(r,["googleMaps"],pk(p));const y=c(n,["googleSearch"]);y!=null&&m(r,["googleSearch"],xk(y));const x=c(n,["urlContext"]);return x!=null&&m(r,["urlContext"],x),r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var sn;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",n.PAGED_ITEM_DOCUMENTS="documents"})(sn||(sn={}));class ha{constructor(r,s,l,d){this.pageInternal=[],this.paramsInternal={},this.requestInternal=s,this.init(r,l,d)}init(r,s,l){var d,u;this.nameInternal=r,this.pageInternal=s[this.nameInternal]||[],this.sdkHttpResponseInternal=s==null?void 0:s.sdkHttpResponse,this.idxInternal=0;let f={config:{}};!l||Object.keys(l).length===0?f={config:{}}:typeof l=="object"?f=Object.assign({},l):f=l,f.config&&(f.config.pageToken=s.nextPageToken),this.paramsInternal=f,this.pageInternalSize=(u=(d=f.config)===null||d===void 0?void 0:d.pageSize)!==null&&u!==void 0?u:this.pageInternal.length}initNextPage(r){this.init(this.nameInternal,r,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(r){return this.pageInternal[r]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const r=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:r,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const r=await this.requestInternal(this.params);return this.initNextPage(r),this.page}hasNextPage(){var r;return((r=this.params.config)===null||r===void 0?void 0:r.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _k extends ln{constructor(r){super(),this.apiClient=r,this.create=async s=>(this.apiClient.isVertexAI()&&(s.config=this.formatDestination(s.src,s.config)),this.createInternal(s)),this.createEmbeddings=async s=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(s)},this.list=async(s={})=>new ha(sn.PAGED_ITEM_BATCH_JOBS,l=>this.listInternal(l),await this.listInternal(s),s)}createInlinedGenerateContentRequest(r){const s=xx(this.apiClient,r),l=s._url,d=xe("{model}:batchGenerateContent",l),p=s.batch.inputConfig.requests,y=p.requests,x=[];for(const b of y){const v=Object.assign({},b);if(v.systemInstruction){const k=v.systemInstruction;delete v.systemInstruction;const w=v.request;w.systemInstruction=k,v.request=w}x.push(v)}return p.requests=x,delete s.config,delete s._url,delete s._query,{path:d,body:s}}getGcsUri(r){if(typeof r=="string")return r.startsWith("gs://")?r:void 0;if(!Array.isArray(r)&&r.gcsUri&&r.gcsUri.length>0)return r.gcsUri[0]}getBigqueryUri(r){if(typeof r=="string")return r.startsWith("bq://")?r:void 0;if(!Array.isArray(r))return r.bigqueryUri}formatDestination(r,s){const l=s?Object.assign({},s):{},d=Date.now().toString();if(l.displayName||(l.displayName=`genaiBatchJob_${d}`),l.dest===void 0){const u=this.getGcsUri(r),f=this.getBigqueryUri(r);if(u)u.endsWith(".jsonl")?l.dest=`${u.slice(0,-6)}/dest`:l.dest=`${u}_dest_${d}`;else if(f)l.dest=`${f}_dest_${d}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return l}async createInternal(r){var s,l,d,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const x=Q0(this.apiClient,r);return p=xe("batchPredictionJobs",x._url),y=x._query,delete x._url,delete x._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(s=r.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=r.config)===null||l===void 0?void 0:l.abortSignal}).then(b=>b.json()),f.then(b=>Rc(b))}else{const x=xx(this.apiClient,r);return p=xe("{model}:batchGenerateContent",x._url),y=x._query,delete x._url,delete x._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(d=r.config)===null||d===void 0?void 0:d.httpOptions,abortSignal:(u=r.config)===null||u===void 0?void 0:u.abortSignal}).then(b=>b.json()),f.then(b=>zl(b))}}async createEmbeddingsInternal(r){var s,l;let d,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=ek(this.apiClient,r);return u=xe("{model}:asyncBatchEmbedContent",p._url),f=p._query,delete p._url,delete p._query,d=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=r.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=r.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),d.then(y=>zl(y))}}async get(r){var s,l,d,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const x=hk(this.apiClient,r);return p=xe("batchPredictionJobs/{name}",x._url),y=x._query,delete x._url,delete x._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(s=r.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=r.config)===null||l===void 0?void 0:l.abortSignal}).then(b=>b.json()),f.then(b=>Rc(b))}else{const x=fk(this.apiClient,r);return p=xe("batches/{name}",x._url),y=x._query,delete x._url,delete x._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(d=r.config)===null||d===void 0?void 0:d.httpOptions,abortSignal:(u=r.config)===null||u===void 0?void 0:u.abortSignal}).then(b=>b.json()),f.then(b=>zl(b))}}async cancel(r){var s,l,d,u;let f="",p={};if(this.apiClient.isVertexAI()){const y=J0(this.apiClient,r);f=xe("batchPredictionJobs/{name}:cancel",y._url),p=y._query,delete y._url,delete y._query,await this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(s=r.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=r.config)===null||l===void 0?void 0:l.abortSignal})}else{const y=Y0(this.apiClient,r);f=xe("batches/{name}:cancel",y._url),p=y._query,delete y._url,delete y._query,await this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(d=r.config)===null||d===void 0?void 0:d.httpOptions,abortSignal:(u=r.config)===null||u===void 0?void 0:u.abortSignal})}}async listInternal(r){var s,l,d,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const x=wk(r);return p=xe("batchPredictionJobs",x._url),y=x._query,delete x._url,delete x._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(s=r.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=r.config)===null||l===void 0?void 0:l.abortSignal}).then(b=>b.json().then(v=>{const k=v;return k.sdkHttpResponse={headers:b.headers},k})),f.then(b=>{const v=Tk(b),k=new mx;return Object.assign(k,v),k})}else{const x=Nk(r);return p=xe("batches",x._url),y=x._query,delete x._url,delete x._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(d=r.config)===null||d===void 0?void 0:d.httpOptions,abortSignal:(u=r.config)===null||u===void 0?void 0:u.abortSignal}).then(b=>b.json().then(v=>{const k=v;return k.sdkHttpResponse={headers:b.headers},k})),f.then(b=>{const v=Sk(b),k=new mx;return Object.assign(k,v),k})}}async delete(r){var s,l,d,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const x=rk(this.apiClient,r);return p=xe("batchPredictionJobs/{name}",x._url),y=x._query,delete x._url,delete x._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(x),httpMethod:"DELETE",httpOptions:(s=r.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=r.config)===null||l===void 0?void 0:l.abortSignal}).then(b=>b.json().then(v=>{const k=v;return k.sdkHttpResponse={headers:b.headers},k})),f.then(b=>ak(b))}else{const x=tk(this.apiClient,r);return p=xe("batches/{name}",x._url),y=x._query,delete x._url,delete x._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(x),httpMethod:"DELETE",httpOptions:(d=r.config)===null||d===void 0?void 0:d.httpOptions,abortSignal:(u=r.config)===null||u===void 0?void 0:u.abortSignal}).then(b=>b.json().then(v=>{const k=v;return k.sdkHttpResponse={headers:b.headers},k})),f.then(b=>nk(b))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Mk(n){const r={},s=c(n,["data"]);if(s!=null&&m(r,["data"],s),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=c(n,["mimeType"]);return l!=null&&m(r,["mimeType"],l),r}function gx(n){const r={},s=c(n,["parts"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(u=>eN(u))),m(r,["parts"],d)}const l=c(n,["role"]);return l!=null&&m(r,["role"],l),r}function Rk(n,r){const s={},l=c(n,["ttl"]);r!==void 0&&l!=null&&m(r,["ttl"],l);const d=c(n,["expireTime"]);r!==void 0&&d!=null&&m(r,["expireTime"],d);const u=c(n,["displayName"]);r!==void 0&&u!=null&&m(r,["displayName"],u);const f=c(n,["contents"]);if(r!==void 0&&f!=null){let b=mr(f);Array.isArray(b)&&(b=b.map(v=>gx(v))),m(r,["contents"],b)}const p=c(n,["systemInstruction"]);r!==void 0&&p!=null&&m(r,["systemInstruction"],gx(jt(p)));const y=c(n,["tools"]);if(r!==void 0&&y!=null){let b=y;Array.isArray(b)&&(b=b.map(v=>rN(v))),m(r,["tools"],b)}const x=c(n,["toolConfig"]);if(r!==void 0&&x!=null&&m(r,["toolConfig"],tN(x)),c(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return s}function Ik(n,r){const s={},l=c(n,["ttl"]);r!==void 0&&l!=null&&m(r,["ttl"],l);const d=c(n,["expireTime"]);r!==void 0&&d!=null&&m(r,["expireTime"],d);const u=c(n,["displayName"]);r!==void 0&&u!=null&&m(r,["displayName"],u);const f=c(n,["contents"]);if(r!==void 0&&f!=null){let v=mr(f);Array.isArray(v)&&(v=v.map(k=>k)),m(r,["contents"],v)}const p=c(n,["systemInstruction"]);r!==void 0&&p!=null&&m(r,["systemInstruction"],jt(p));const y=c(n,["tools"]);if(r!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(k=>nN(k))),m(r,["tools"],v)}const x=c(n,["toolConfig"]);r!==void 0&&x!=null&&m(r,["toolConfig"],x);const b=c(n,["kmsKeyName"]);return r!==void 0&&b!=null&&m(r,["encryption_spec","kmsKeyName"],b),s}function Pk(n,r){const s={},l=c(r,["model"]);l!=null&&m(s,["model"],cg(n,l));const d=c(r,["config"]);return d!=null&&Rk(d,s),s}function Lk(n,r){const s={},l=c(r,["model"]);l!=null&&m(s,["model"],cg(n,l));const d=c(r,["config"]);return d!=null&&Ik(d,s),s}function Dk(n,r){const s={},l=c(r,["name"]);return l!=null&&m(s,["_url","name"],on(n,l)),s}function Uk(n,r){const s={},l=c(r,["name"]);return l!=null&&m(s,["_url","name"],on(n,l)),s}function qk(n){const r={},s=c(n,["sdkHttpResponse"]);return s!=null&&m(r,["sdkHttpResponse"],s),r}function Vk(n){const r={},s=c(n,["sdkHttpResponse"]);return s!=null&&m(r,["sdkHttpResponse"],s),r}function Hk(n){const r={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(n,["fileUri"]);s!=null&&m(r,["fileUri"],s);const l=c(n,["mimeType"]);return l!=null&&m(r,["mimeType"],l),r}function Fk(n){const r={},s=c(n,["id"]);s!=null&&m(r,["id"],s);const l=c(n,["args"]);l!=null&&m(r,["args"],l);const d=c(n,["name"]);if(d!=null&&m(r,["name"],d),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return r}function Bk(n){const r={},s=c(n,["mode"]);s!=null&&m(r,["mode"],s);const l=c(n,["allowedFunctionNames"]);if(l!=null&&m(r,["allowedFunctionNames"],l),c(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return r}function zk(n){const r={};if(c(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const s=c(n,["description"]);s!=null&&m(r,["description"],s);const l=c(n,["name"]);l!=null&&m(r,["name"],l);const d=c(n,["parameters"]);d!=null&&m(r,["parameters"],d);const u=c(n,["parametersJsonSchema"]);u!=null&&m(r,["parametersJsonSchema"],u);const f=c(n,["response"]);f!=null&&m(r,["response"],f);const p=c(n,["responseJsonSchema"]);return p!=null&&m(r,["responseJsonSchema"],p),r}function Gk(n,r){const s={},l=c(r,["name"]);return l!=null&&m(s,["_url","name"],on(n,l)),s}function Ok(n,r){const s={},l=c(r,["name"]);return l!=null&&m(s,["_url","name"],on(n,l)),s}function Yk(n){const r={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const s=c(n,["enableWidget"]);return s!=null&&m(r,["enableWidget"],s),r}function Jk(n){const r={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const s=c(n,["timeRangeFilter"]);return s!=null&&m(r,["timeRangeFilter"],s),r}function Wk(n,r){const s={},l=c(n,["pageSize"]);r!==void 0&&l!=null&&m(r,["_query","pageSize"],l);const d=c(n,["pageToken"]);return r!==void 0&&d!=null&&m(r,["_query","pageToken"],d),s}function Kk(n,r){const s={},l=c(n,["pageSize"]);r!==void 0&&l!=null&&m(r,["_query","pageSize"],l);const d=c(n,["pageToken"]);return r!==void 0&&d!=null&&m(r,["_query","pageToken"],d),s}function $k(n){const r={},s=c(n,["config"]);return s!=null&&Wk(s,r),r}function Xk(n){const r={},s=c(n,["config"]);return s!=null&&Kk(s,r),r}function Qk(n){const r={},s=c(n,["sdkHttpResponse"]);s!=null&&m(r,["sdkHttpResponse"],s);const l=c(n,["nextPageToken"]);l!=null&&m(r,["nextPageToken"],l);const d=c(n,["cachedContents"]);if(d!=null){let u=d;Array.isArray(u)&&(u=u.map(f=>f)),m(r,["cachedContents"],u)}return r}function Zk(n){const r={},s=c(n,["sdkHttpResponse"]);s!=null&&m(r,["sdkHttpResponse"],s);const l=c(n,["nextPageToken"]);l!=null&&m(r,["nextPageToken"],l);const d=c(n,["cachedContents"]);if(d!=null){let u=d;Array.isArray(u)&&(u=u.map(f=>f)),m(r,["cachedContents"],u)}return r}function eN(n){const r={},s=c(n,["mediaResolution"]);s!=null&&m(r,["mediaResolution"],s);const l=c(n,["codeExecutionResult"]);l!=null&&m(r,["codeExecutionResult"],l);const d=c(n,["executableCode"]);d!=null&&m(r,["executableCode"],d);const u=c(n,["fileData"]);u!=null&&m(r,["fileData"],Hk(u));const f=c(n,["functionCall"]);f!=null&&m(r,["functionCall"],Fk(f));const p=c(n,["functionResponse"]);p!=null&&m(r,["functionResponse"],p);const y=c(n,["inlineData"]);y!=null&&m(r,["inlineData"],Mk(y));const x=c(n,["text"]);x!=null&&m(r,["text"],x);const b=c(n,["thought"]);b!=null&&m(r,["thought"],b);const v=c(n,["thoughtSignature"]);v!=null&&m(r,["thoughtSignature"],v);const k=c(n,["videoMetadata"]);return k!=null&&m(r,["videoMetadata"],k),r}function tN(n){const r={},s=c(n,["functionCallingConfig"]);s!=null&&m(r,["functionCallingConfig"],Bk(s));const l=c(n,["retrievalConfig"]);return l!=null&&m(r,["retrievalConfig"],l),r}function rN(n){const r={},s=c(n,["functionDeclarations"]);if(s!=null){let b=s;Array.isArray(b)&&(b=b.map(v=>v)),m(r,["functionDeclarations"],b)}if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=c(n,["googleSearchRetrieval"]);l!=null&&m(r,["googleSearchRetrieval"],l);const d=c(n,["computerUse"]);d!=null&&m(r,["computerUse"],d);const u=c(n,["fileSearch"]);u!=null&&m(r,["fileSearch"],u);const f=c(n,["codeExecution"]);if(f!=null&&m(r,["codeExecution"],f),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=c(n,["googleMaps"]);p!=null&&m(r,["googleMaps"],Yk(p));const y=c(n,["googleSearch"]);y!=null&&m(r,["googleSearch"],Jk(y));const x=c(n,["urlContext"]);return x!=null&&m(r,["urlContext"],x),r}function nN(n){const r={},s=c(n,["functionDeclarations"]);if(s!=null){let v=s;Array.isArray(v)&&(v=v.map(k=>zk(k))),m(r,["functionDeclarations"],v)}const l=c(n,["retrieval"]);l!=null&&m(r,["retrieval"],l);const d=c(n,["googleSearchRetrieval"]);d!=null&&m(r,["googleSearchRetrieval"],d);const u=c(n,["computerUse"]);if(u!=null&&m(r,["computerUse"],u),c(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const f=c(n,["codeExecution"]);f!=null&&m(r,["codeExecution"],f);const p=c(n,["enterpriseWebSearch"]);p!=null&&m(r,["enterpriseWebSearch"],p);const y=c(n,["googleMaps"]);y!=null&&m(r,["googleMaps"],y);const x=c(n,["googleSearch"]);x!=null&&m(r,["googleSearch"],x);const b=c(n,["urlContext"]);return b!=null&&m(r,["urlContext"],b),r}function aN(n,r){const s={},l=c(n,["ttl"]);r!==void 0&&l!=null&&m(r,["ttl"],l);const d=c(n,["expireTime"]);return r!==void 0&&d!=null&&m(r,["expireTime"],d),s}function sN(n,r){const s={},l=c(n,["ttl"]);r!==void 0&&l!=null&&m(r,["ttl"],l);const d=c(n,["expireTime"]);return r!==void 0&&d!=null&&m(r,["expireTime"],d),s}function iN(n,r){const s={},l=c(r,["name"]);l!=null&&m(s,["_url","name"],on(n,l));const d=c(r,["config"]);return d!=null&&aN(d,s),s}function lN(n,r){const s={},l=c(r,["name"]);l!=null&&m(s,["_url","name"],on(n,l));const d=c(r,["config"]);return d!=null&&sN(d,s),s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oN extends ln{constructor(r){super(),this.apiClient=r,this.list=async(s={})=>new ha(sn.PAGED_ITEM_CACHED_CONTENTS,l=>this.listInternal(l),await this.listInternal(s),s)}async create(r){var s,l,d,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const x=Lk(this.apiClient,r);return p=xe("cachedContents",x._url),y=x._query,delete x._url,delete x._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(s=r.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=r.config)===null||l===void 0?void 0:l.abortSignal}).then(b=>b.json()),f.then(b=>b)}else{const x=Pk(this.apiClient,r);return p=xe("cachedContents",x._url),y=x._query,delete x._url,delete x._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(d=r.config)===null||d===void 0?void 0:d.httpOptions,abortSignal:(u=r.config)===null||u===void 0?void 0:u.abortSignal}).then(b=>b.json()),f.then(b=>b)}}async get(r){var s,l,d,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const x=Ok(this.apiClient,r);return p=xe("{name}",x._url),y=x._query,delete x._url,delete x._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(s=r.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=r.config)===null||l===void 0?void 0:l.abortSignal}).then(b=>b.json()),f.then(b=>b)}else{const x=Gk(this.apiClient,r);return p=xe("{name}",x._url),y=x._query,delete x._url,delete x._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(d=r.config)===null||d===void 0?void 0:d.httpOptions,abortSignal:(u=r.config)===null||u===void 0?void 0:u.abortSignal}).then(b=>b.json()),f.then(b=>b)}}async delete(r){var s,l,d,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const x=Uk(this.apiClient,r);return p=xe("{name}",x._url),y=x._query,delete x._url,delete x._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(x),httpMethod:"DELETE",httpOptions:(s=r.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=r.config)===null||l===void 0?void 0:l.abortSignal}).then(b=>b.json().then(v=>{const k=v;return k.sdkHttpResponse={headers:b.headers},k})),f.then(b=>{const v=Vk(b),k=new cx;return Object.assign(k,v),k})}else{const x=Dk(this.apiClient,r);return p=xe("{name}",x._url),y=x._query,delete x._url,delete x._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(x),httpMethod:"DELETE",httpOptions:(d=r.config)===null||d===void 0?void 0:d.httpOptions,abortSignal:(u=r.config)===null||u===void 0?void 0:u.abortSignal}).then(b=>b.json().then(v=>{const k=v;return k.sdkHttpResponse={headers:b.headers},k})),f.then(b=>{const v=qk(b),k=new cx;return Object.assign(k,v),k})}}async update(r){var s,l,d,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const x=lN(this.apiClient,r);return p=xe("{name}",x._url),y=x._query,delete x._url,delete x._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(x),httpMethod:"PATCH",httpOptions:(s=r.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=r.config)===null||l===void 0?void 0:l.abortSignal}).then(b=>b.json()),f.then(b=>b)}else{const x=iN(this.apiClient,r);return p=xe("{name}",x._url),y=x._query,delete x._url,delete x._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(x),httpMethod:"PATCH",httpOptions:(d=r.config)===null||d===void 0?void 0:d.httpOptions,abortSignal:(u=r.config)===null||u===void 0?void 0:u.abortSignal}).then(b=>b.json()),f.then(b=>b)}}async listInternal(r){var s,l,d,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const x=Xk(r);return p=xe("cachedContents",x._url),y=x._query,delete x._url,delete x._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(s=r.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=r.config)===null||l===void 0?void 0:l.abortSignal}).then(b=>b.json().then(v=>{const k=v;return k.sdkHttpResponse={headers:b.headers},k})),f.then(b=>{const v=Zk(b),k=new ux;return Object.assign(k,v),k})}else{const x=$k(r);return p=xe("cachedContents",x._url),y=x._query,delete x._url,delete x._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(d=r.config)===null||d===void 0?void 0:d.httpOptions,abortSignal:(u=r.config)===null||u===void 0?void 0:u.abortSignal}).then(b=>b.json().then(v=>{const k=v;return k.sdkHttpResponse={headers:b.headers},k})),f.then(b=>{const v=Qk(b),k=new ux;return Object.assign(k,v),k})}}}function yx(n){var r=typeof Symbol=="function"&&Symbol.iterator,s=r&&n[r],l=0;if(s)return s.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&l>=n.length&&(n=void 0),{value:n&&n[l++],done:!n}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function et(n){return this instanceof et?(this.v=n,this):new et(n)}function ds(n,r,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=s.apply(n,r||[]),d,u=[];return d=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),p("next"),p("throw"),p("return",f),d[Symbol.asyncIterator]=function(){return this},d;function f(w){return function(j){return Promise.resolve(j).then(w,v)}}function p(w,j){l[w]&&(d[w]=function(P){return new Promise(function(V,$){u.push([w,P,V,$])>1||y(w,P)})},j&&(d[w]=j(d[w])))}function y(w,j){try{x(l[w](j))}catch(P){k(u[0][3],P)}}function x(w){w.value instanceof et?Promise.resolve(w.value.v).then(b,v):k(u[0][2],w)}function b(w){y("next",w)}function v(w){y("throw",w)}function k(w,j){w(j),u.shift(),u.length&&y(u[0][0],u[0][1])}}function bi(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n[Symbol.asyncIterator],s;return r?r.call(n):(n=typeof yx=="function"?yx(n):n[Symbol.iterator](),s={},l("next"),l("throw"),l("return"),s[Symbol.asyncIterator]=function(){return this},s);function l(u){s[u]=n[u]&&function(f){return new Promise(function(p,y){f=n[u](f),d(p,y,f.done,f.value)})}}function d(u,f,p,y){Promise.resolve(y).then(function(x){u({value:x,done:p})},f)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dN(n){var r;if(n.candidates==null||n.candidates.length===0)return!1;const s=(r=n.candidates[0])===null||r===void 0?void 0:r.content;return s===void 0?!1:wg(s)}function wg(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const r of n.parts)if(r===void 0||Object.keys(r).length===0)return!1;return!0}function cN(n){if(n.length!==0){for(const r of n)if(r.role!=="user"&&r.role!=="model")throw new Error(`Role must be user or model, but got ${r.role}.`)}}function bx(n){if(n===void 0||n.length===0)return[];const r=[],s=n.length;let l=0;for(;l<s;)if(n[l].role==="user")r.push(n[l]),l++;else{const d=[];let u=!0;for(;l<s&&n[l].role==="model";)d.push(n[l]),u&&!wg(n[l])&&(u=!1),l++;u?r.push(...d):r.pop()}return r}class uN{constructor(r,s){this.modelsModule=r,this.apiClient=s}create(r){return new mN(this.apiClient,this.modelsModule,r.model,r.config,structuredClone(r.history))}}class mN{constructor(r,s,l,d={},u=[]){this.apiClient=r,this.modelsModule=s,this.model=l,this.config=d,this.history=u,this.sendPromise=Promise.resolve(),cN(u)}async sendMessage(r){var s;await this.sendPromise;const l=jt(r.message),d=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(l),config:(s=r.config)!==null&&s!==void 0?s:this.config});return this.sendPromise=(async()=>{var u,f,p;const y=await d,x=(f=(u=y.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content,b=y.automaticFunctionCallingHistory,v=this.getHistory(!0).length;let k=[];b!=null&&(k=(p=b.slice(v))!==null&&p!==void 0?p:[]);const w=x?[x]:[];this.recordHistory(l,w,k)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),d}async sendMessageStream(r){var s;await this.sendPromise;const l=jt(r.message),d=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(l),config:(s=r.config)!==null&&s!==void 0?s:this.config});this.sendPromise=d.then(()=>{}).catch(()=>{});const u=await d;return this.processStreamResponse(u,l)}getHistory(r=!1){const s=r?bx(this.history):this.history;return structuredClone(s)}processStreamResponse(r,s){var l,d;return ds(this,arguments,function*(){var f,p,y,x;const b=[];try{for(var v=!0,k=bi(r),w;w=yield et(k.next()),f=w.done,!f;v=!0){x=w.value,v=!1;const j=x;if(dN(j)){const P=(d=(l=j.candidates)===null||l===void 0?void 0:l[0])===null||d===void 0?void 0:d.content;P!==void 0&&b.push(P)}yield yield et(j)}}catch(j){p={error:j}}finally{try{!v&&!f&&(y=k.return)&&(yield et(y.call(k)))}finally{if(p)throw p.error}}this.recordHistory(s,b)})}recordHistory(r,s,l){let d=[];s.length>0&&s.every(u=>u.role!==void 0)?d=s:d.push({role:"model",parts:[]}),l&&l.length>0?this.history.push(...bx(l)):this.history.push(r),this.history.push(...d)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class eo extends Error{constructor(r){super(r.message),this.name="ApiError",this.status=r.status,Object.setPrototypeOf(this,eo.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fN(n){const r={},s=c(n,["file"]);return s!=null&&m(r,["file"],s),r}function hN(n){const r={},s=c(n,["sdkHttpResponse"]);return s!=null&&m(r,["sdkHttpResponse"],s),r}function pN(n){const r={},s=c(n,["name"]);return s!=null&&m(r,["_url","file"],xg(s)),r}function xN(n){const r={},s=c(n,["sdkHttpResponse"]);return s!=null&&m(r,["sdkHttpResponse"],s),r}function gN(n){const r={},s=c(n,["name"]);return s!=null&&m(r,["_url","file"],xg(s)),r}function yN(n,r){const s={},l=c(n,["pageSize"]);r!==void 0&&l!=null&&m(r,["_query","pageSize"],l);const d=c(n,["pageToken"]);return r!==void 0&&d!=null&&m(r,["_query","pageToken"],d),s}function bN(n){const r={},s=c(n,["config"]);return s!=null&&yN(s,r),r}function vN(n){const r={},s=c(n,["sdkHttpResponse"]);s!=null&&m(r,["sdkHttpResponse"],s);const l=c(n,["nextPageToken"]);l!=null&&m(r,["nextPageToken"],l);const d=c(n,["files"]);if(d!=null){let u=d;Array.isArray(u)&&(u=u.map(f=>f)),m(r,["files"],u)}return r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kN extends ln{constructor(r){super(),this.apiClient=r,this.list=async(s={})=>new ha(sn.PAGED_ITEM_FILES,l=>this.listInternal(l),await this.listInternal(s),s)}async upload(r){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(r.file,r.config).then(s=>s)}async download(r){await this.apiClient.downloadFile(r)}async listInternal(r){var s,l;let d,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=bN(r);return u=xe("files",p._url),f=p._query,delete p._url,delete p._query,d=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(s=r.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=r.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:y.headers},b})),d.then(y=>{const x=vN(y),b=new T0;return Object.assign(b,x),b})}}async createInternal(r){var s,l;let d,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=fN(r);return u=xe("upload/v1beta/files",p._url),f=p._query,delete p._url,delete p._query,d=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=r.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=r.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),d.then(y=>{const x=hN(y),b=new j0;return Object.assign(b,x),b})}}async get(r){var s,l;let d,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=gN(r);return u=xe("files/{file}",p._url),f=p._query,delete p._url,delete p._query,d=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(s=r.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=r.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),d.then(y=>y)}}async delete(r){var s,l;let d,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=pN(r);return u=xe("files/{file}",p._url),f=p._query,delete p._url,delete p._query,d=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(s=r.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=r.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:y.headers},b})),d.then(y=>{const x=xN(y),b=new C0;return Object.assign(b,x),b})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Gl(n){const r={},s=c(n,["data"]);if(s!=null&&m(r,["data"],s),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=c(n,["mimeType"]);return l!=null&&m(r,["mimeType"],l),r}function NN(n){const r={},s=c(n,["parts"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(u=>qN(u))),m(r,["parts"],d)}const l=c(n,["role"]);return l!=null&&m(r,["role"],l),r}function wN(n){const r={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(n,["fileUri"]);s!=null&&m(r,["fileUri"],s);const l=c(n,["mimeType"]);return l!=null&&m(r,["mimeType"],l),r}function SN(n){const r={},s=c(n,["id"]);s!=null&&m(r,["id"],s);const l=c(n,["args"]);l!=null&&m(r,["args"],l);const d=c(n,["name"]);if(d!=null&&m(r,["name"],d),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return r}function TN(n){const r={};if(c(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const s=c(n,["description"]);s!=null&&m(r,["description"],s);const l=c(n,["name"]);l!=null&&m(r,["name"],l);const d=c(n,["parameters"]);d!=null&&m(r,["parameters"],d);const u=c(n,["parametersJsonSchema"]);u!=null&&m(r,["parametersJsonSchema"],u);const f=c(n,["response"]);f!=null&&m(r,["response"],f);const p=c(n,["responseJsonSchema"]);return p!=null&&m(r,["responseJsonSchema"],p),r}function jN(n){const r={},s=c(n,["modelSelectionConfig"]);s!=null&&m(r,["modelConfig"],s);const l=c(n,["responseJsonSchema"]);l!=null&&m(r,["responseJsonSchema"],l);const d=c(n,["audioTimestamp"]);d!=null&&m(r,["audioTimestamp"],d);const u=c(n,["candidateCount"]);u!=null&&m(r,["candidateCount"],u);const f=c(n,["enableAffectiveDialog"]);f!=null&&m(r,["enableAffectiveDialog"],f);const p=c(n,["frequencyPenalty"]);p!=null&&m(r,["frequencyPenalty"],p);const y=c(n,["logprobs"]);y!=null&&m(r,["logprobs"],y);const x=c(n,["maxOutputTokens"]);x!=null&&m(r,["maxOutputTokens"],x);const b=c(n,["mediaResolution"]);b!=null&&m(r,["mediaResolution"],b);const v=c(n,["presencePenalty"]);v!=null&&m(r,["presencePenalty"],v);const k=c(n,["responseLogprobs"]);k!=null&&m(r,["responseLogprobs"],k);const w=c(n,["responseMimeType"]);w!=null&&m(r,["responseMimeType"],w);const j=c(n,["responseModalities"]);j!=null&&m(r,["responseModalities"],j);const P=c(n,["responseSchema"]);P!=null&&m(r,["responseSchema"],P);const V=c(n,["routingConfig"]);V!=null&&m(r,["routingConfig"],V);const $=c(n,["seed"]);$!=null&&m(r,["seed"],$);const U=c(n,["speechConfig"]);U!=null&&m(r,["speechConfig"],Sg(U));const D=c(n,["stopSequences"]);D!=null&&m(r,["stopSequences"],D);const A=c(n,["temperature"]);A!=null&&m(r,["temperature"],A);const I=c(n,["thinkingConfig"]);I!=null&&m(r,["thinkingConfig"],I);const q=c(n,["topK"]);q!=null&&m(r,["topK"],q);const M=c(n,["topP"]);if(M!=null&&m(r,["topP"],M),c(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return r}function CN(n){const r={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const s=c(n,["enableWidget"]);return s!=null&&m(r,["enableWidget"],s),r}function EN(n){const r={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const s=c(n,["timeRangeFilter"]);return s!=null&&m(r,["timeRangeFilter"],s),r}function AN(n,r){const s={},l=c(n,["generationConfig"]);r!==void 0&&l!=null&&m(r,["setup","generationConfig"],l);const d=c(n,["responseModalities"]);r!==void 0&&d!=null&&m(r,["setup","generationConfig","responseModalities"],d);const u=c(n,["temperature"]);r!==void 0&&u!=null&&m(r,["setup","generationConfig","temperature"],u);const f=c(n,["topP"]);r!==void 0&&f!=null&&m(r,["setup","generationConfig","topP"],f);const p=c(n,["topK"]);r!==void 0&&p!=null&&m(r,["setup","generationConfig","topK"],p);const y=c(n,["maxOutputTokens"]);r!==void 0&&y!=null&&m(r,["setup","generationConfig","maxOutputTokens"],y);const x=c(n,["mediaResolution"]);r!==void 0&&x!=null&&m(r,["setup","generationConfig","mediaResolution"],x);const b=c(n,["seed"]);r!==void 0&&b!=null&&m(r,["setup","generationConfig","seed"],b);const v=c(n,["speechConfig"]);r!==void 0&&v!=null&&m(r,["setup","generationConfig","speechConfig"],nu(v));const k=c(n,["thinkingConfig"]);r!==void 0&&k!=null&&m(r,["setup","generationConfig","thinkingConfig"],k);const w=c(n,["enableAffectiveDialog"]);r!==void 0&&w!=null&&m(r,["setup","generationConfig","enableAffectiveDialog"],w);const j=c(n,["systemInstruction"]);r!==void 0&&j!=null&&m(r,["setup","systemInstruction"],NN(jt(j)));const P=c(n,["tools"]);if(r!==void 0&&P!=null){let q=ps(P);Array.isArray(q)&&(q=q.map(M=>HN(hs(M)))),m(r,["setup","tools"],q)}const V=c(n,["sessionResumption"]);r!==void 0&&V!=null&&m(r,["setup","sessionResumption"],VN(V));const $=c(n,["inputAudioTranscription"]);r!==void 0&&$!=null&&m(r,["setup","inputAudioTranscription"],$);const U=c(n,["outputAudioTranscription"]);r!==void 0&&U!=null&&m(r,["setup","outputAudioTranscription"],U);const D=c(n,["realtimeInputConfig"]);r!==void 0&&D!=null&&m(r,["setup","realtimeInputConfig"],D);const A=c(n,["contextWindowCompression"]);r!==void 0&&A!=null&&m(r,["setup","contextWindowCompression"],A);const I=c(n,["proactivity"]);return r!==void 0&&I!=null&&m(r,["setup","proactivity"],I),s}function _N(n,r){const s={},l=c(n,["generationConfig"]);r!==void 0&&l!=null&&m(r,["setup","generationConfig"],jN(l));const d=c(n,["responseModalities"]);r!==void 0&&d!=null&&m(r,["setup","generationConfig","responseModalities"],d);const u=c(n,["temperature"]);r!==void 0&&u!=null&&m(r,["setup","generationConfig","temperature"],u);const f=c(n,["topP"]);r!==void 0&&f!=null&&m(r,["setup","generationConfig","topP"],f);const p=c(n,["topK"]);r!==void 0&&p!=null&&m(r,["setup","generationConfig","topK"],p);const y=c(n,["maxOutputTokens"]);r!==void 0&&y!=null&&m(r,["setup","generationConfig","maxOutputTokens"],y);const x=c(n,["mediaResolution"]);r!==void 0&&x!=null&&m(r,["setup","generationConfig","mediaResolution"],x);const b=c(n,["seed"]);r!==void 0&&b!=null&&m(r,["setup","generationConfig","seed"],b);const v=c(n,["speechConfig"]);r!==void 0&&v!=null&&m(r,["setup","generationConfig","speechConfig"],Sg(nu(v)));const k=c(n,["thinkingConfig"]);r!==void 0&&k!=null&&m(r,["setup","generationConfig","thinkingConfig"],k);const w=c(n,["enableAffectiveDialog"]);r!==void 0&&w!=null&&m(r,["setup","generationConfig","enableAffectiveDialog"],w);const j=c(n,["systemInstruction"]);r!==void 0&&j!=null&&m(r,["setup","systemInstruction"],jt(j));const P=c(n,["tools"]);if(r!==void 0&&P!=null){let q=ps(P);Array.isArray(q)&&(q=q.map(M=>FN(hs(M)))),m(r,["setup","tools"],q)}const V=c(n,["sessionResumption"]);r!==void 0&&V!=null&&m(r,["setup","sessionResumption"],V);const $=c(n,["inputAudioTranscription"]);r!==void 0&&$!=null&&m(r,["setup","inputAudioTranscription"],$);const U=c(n,["outputAudioTranscription"]);r!==void 0&&U!=null&&m(r,["setup","outputAudioTranscription"],U);const D=c(n,["realtimeInputConfig"]);r!==void 0&&D!=null&&m(r,["setup","realtimeInputConfig"],D);const A=c(n,["contextWindowCompression"]);r!==void 0&&A!=null&&m(r,["setup","contextWindowCompression"],A);const I=c(n,["proactivity"]);return r!==void 0&&I!=null&&m(r,["setup","proactivity"],I),s}function MN(n,r){const s={},l=c(r,["model"]);l!=null&&m(s,["setup","model"],Ue(n,l));const d=c(r,["config"]);return d!=null&&m(s,["config"],AN(d,s)),s}function RN(n,r){const s={},l=c(r,["model"]);l!=null&&m(s,["setup","model"],Ue(n,l));const d=c(r,["config"]);return d!=null&&m(s,["config"],_N(d,s)),s}function IN(n){const r={},s=c(n,["musicGenerationConfig"]);return s!=null&&m(r,["musicGenerationConfig"],s),r}function PN(n){const r={},s=c(n,["weightedPrompts"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(d=>d)),m(r,["weightedPrompts"],l)}return r}function LN(n){const r={},s=c(n,["media"]);if(s!=null){let x=ug(s);Array.isArray(x)&&(x=x.map(b=>Gl(b))),m(r,["mediaChunks"],x)}const l=c(n,["audio"]);l!=null&&m(r,["audio"],Gl(fg(l)));const d=c(n,["audioStreamEnd"]);d!=null&&m(r,["audioStreamEnd"],d);const u=c(n,["video"]);u!=null&&m(r,["video"],Gl(mg(u)));const f=c(n,["text"]);f!=null&&m(r,["text"],f);const p=c(n,["activityStart"]);p!=null&&m(r,["activityStart"],p);const y=c(n,["activityEnd"]);return y!=null&&m(r,["activityEnd"],y),r}function DN(n){const r={},s=c(n,["media"]);if(s!=null){let x=ug(s);Array.isArray(x)&&(x=x.map(b=>b)),m(r,["mediaChunks"],x)}const l=c(n,["audio"]);l!=null&&m(r,["audio"],fg(l));const d=c(n,["audioStreamEnd"]);d!=null&&m(r,["audioStreamEnd"],d);const u=c(n,["video"]);u!=null&&m(r,["video"],mg(u));const f=c(n,["text"]);f!=null&&m(r,["text"],f);const p=c(n,["activityStart"]);p!=null&&m(r,["activityStart"],p);const y=c(n,["activityEnd"]);return y!=null&&m(r,["activityEnd"],y),r}function UN(n){const r={},s=c(n,["setupComplete"]);s!=null&&m(r,["setupComplete"],s);const l=c(n,["serverContent"]);l!=null&&m(r,["serverContent"],l);const d=c(n,["toolCall"]);d!=null&&m(r,["toolCall"],d);const u=c(n,["toolCallCancellation"]);u!=null&&m(r,["toolCallCancellation"],u);const f=c(n,["usageMetadata"]);f!=null&&m(r,["usageMetadata"],BN(f));const p=c(n,["goAway"]);p!=null&&m(r,["goAway"],p);const y=c(n,["sessionResumptionUpdate"]);return y!=null&&m(r,["sessionResumptionUpdate"],y),r}function qN(n){const r={},s=c(n,["mediaResolution"]);s!=null&&m(r,["mediaResolution"],s);const l=c(n,["codeExecutionResult"]);l!=null&&m(r,["codeExecutionResult"],l);const d=c(n,["executableCode"]);d!=null&&m(r,["executableCode"],d);const u=c(n,["fileData"]);u!=null&&m(r,["fileData"],wN(u));const f=c(n,["functionCall"]);f!=null&&m(r,["functionCall"],SN(f));const p=c(n,["functionResponse"]);p!=null&&m(r,["functionResponse"],p);const y=c(n,["inlineData"]);y!=null&&m(r,["inlineData"],Gl(y));const x=c(n,["text"]);x!=null&&m(r,["text"],x);const b=c(n,["thought"]);b!=null&&m(r,["thought"],b);const v=c(n,["thoughtSignature"]);v!=null&&m(r,["thoughtSignature"],v);const k=c(n,["videoMetadata"]);return k!=null&&m(r,["videoMetadata"],k),r}function VN(n){const r={},s=c(n,["handle"]);if(s!=null&&m(r,["handle"],s),c(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return r}function Sg(n){const r={},s=c(n,["languageCode"]);s!=null&&m(r,["languageCode"],s);const l=c(n,["voiceConfig"]);if(l!=null&&m(r,["voiceConfig"],l),c(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return r}function HN(n){const r={},s=c(n,["functionDeclarations"]);if(s!=null){let b=s;Array.isArray(b)&&(b=b.map(v=>v)),m(r,["functionDeclarations"],b)}if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=c(n,["googleSearchRetrieval"]);l!=null&&m(r,["googleSearchRetrieval"],l);const d=c(n,["computerUse"]);d!=null&&m(r,["computerUse"],d);const u=c(n,["fileSearch"]);u!=null&&m(r,["fileSearch"],u);const f=c(n,["codeExecution"]);if(f!=null&&m(r,["codeExecution"],f),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=c(n,["googleMaps"]);p!=null&&m(r,["googleMaps"],CN(p));const y=c(n,["googleSearch"]);y!=null&&m(r,["googleSearch"],EN(y));const x=c(n,["urlContext"]);return x!=null&&m(r,["urlContext"],x),r}function FN(n){const r={},s=c(n,["functionDeclarations"]);if(s!=null){let v=s;Array.isArray(v)&&(v=v.map(k=>TN(k))),m(r,["functionDeclarations"],v)}const l=c(n,["retrieval"]);l!=null&&m(r,["retrieval"],l);const d=c(n,["googleSearchRetrieval"]);d!=null&&m(r,["googleSearchRetrieval"],d);const u=c(n,["computerUse"]);if(u!=null&&m(r,["computerUse"],u),c(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const f=c(n,["codeExecution"]);f!=null&&m(r,["codeExecution"],f);const p=c(n,["enterpriseWebSearch"]);p!=null&&m(r,["enterpriseWebSearch"],p);const y=c(n,["googleMaps"]);y!=null&&m(r,["googleMaps"],y);const x=c(n,["googleSearch"]);x!=null&&m(r,["googleSearch"],x);const b=c(n,["urlContext"]);return b!=null&&m(r,["urlContext"],b),r}function BN(n){const r={},s=c(n,["promptTokenCount"]);s!=null&&m(r,["promptTokenCount"],s);const l=c(n,["cachedContentTokenCount"]);l!=null&&m(r,["cachedContentTokenCount"],l);const d=c(n,["candidatesTokenCount"]);d!=null&&m(r,["responseTokenCount"],d);const u=c(n,["toolUsePromptTokenCount"]);u!=null&&m(r,["toolUsePromptTokenCount"],u);const f=c(n,["thoughtsTokenCount"]);f!=null&&m(r,["thoughtsTokenCount"],f);const p=c(n,["totalTokenCount"]);p!=null&&m(r,["totalTokenCount"],p);const y=c(n,["promptTokensDetails"]);if(y!=null){let w=y;Array.isArray(w)&&(w=w.map(j=>j)),m(r,["promptTokensDetails"],w)}const x=c(n,["cacheTokensDetails"]);if(x!=null){let w=x;Array.isArray(w)&&(w=w.map(j=>j)),m(r,["cacheTokensDetails"],w)}const b=c(n,["candidatesTokensDetails"]);if(b!=null){let w=b;Array.isArray(w)&&(w=w.map(j=>j)),m(r,["responseTokensDetails"],w)}const v=c(n,["toolUsePromptTokensDetails"]);if(v!=null){let w=v;Array.isArray(w)&&(w=w.map(j=>j)),m(r,["toolUsePromptTokensDetails"],w)}const k=c(n,["trafficType"]);return k!=null&&m(r,["trafficType"],k),r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zN(n){const r={},s=c(n,["data"]);if(s!=null&&m(r,["data"],s),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=c(n,["mimeType"]);return l!=null&&m(r,["mimeType"],l),r}function GN(n){const r={},s=c(n,["content"]);s!=null&&m(r,["content"],s);const l=c(n,["citationMetadata"]);l!=null&&m(r,["citationMetadata"],ON(l));const d=c(n,["tokenCount"]);d!=null&&m(r,["tokenCount"],d);const u=c(n,["finishReason"]);u!=null&&m(r,["finishReason"],u);const f=c(n,["avgLogprobs"]);f!=null&&m(r,["avgLogprobs"],f);const p=c(n,["groundingMetadata"]);p!=null&&m(r,["groundingMetadata"],p);const y=c(n,["index"]);y!=null&&m(r,["index"],y);const x=c(n,["logprobsResult"]);x!=null&&m(r,["logprobsResult"],x);const b=c(n,["safetyRatings"]);if(b!=null){let k=b;Array.isArray(k)&&(k=k.map(w=>w)),m(r,["safetyRatings"],k)}const v=c(n,["urlContextMetadata"]);return v!=null&&m(r,["urlContextMetadata"],v),r}function ON(n){const r={},s=c(n,["citationSources"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(d=>d)),m(r,["citations"],l)}return r}function YN(n,r){const s={},l=c(r,["model"]);l!=null&&m(s,["_url","model"],Ue(n,l));const d=c(r,["contents"]);if(d!=null){let u=mr(d);Array.isArray(u)&&(u=u.map(f=>f)),m(s,["contents"],u)}return s}function JN(n){const r={},s=c(n,["sdkHttpResponse"]);s!=null&&m(r,["sdkHttpResponse"],s);const l=c(n,["tokensInfo"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(u=>u)),m(r,["tokensInfo"],d)}return r}function WN(n){const r={},s=c(n,["values"]);s!=null&&m(r,["values"],s);const l=c(n,["statistics"]);return l!=null&&m(r,["statistics"],KN(l)),r}function KN(n){const r={},s=c(n,["truncated"]);s!=null&&m(r,["truncated"],s);const l=c(n,["token_count"]);return l!=null&&m(r,["tokenCount"],l),r}function to(n){const r={},s=c(n,["parts"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(u=>a1(u))),m(r,["parts"],d)}const l=c(n,["role"]);return l!=null&&m(r,["role"],l),r}function $N(n){const r={},s=c(n,["controlType"]);s!=null&&m(r,["controlType"],s);const l=c(n,["enableControlImageComputation"]);return l!=null&&m(r,["computeControl"],l),r}function XN(n){const r={};if(c(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(c(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(c(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return r}function QN(n,r){const s={},l=c(n,["systemInstruction"]);r!==void 0&&l!=null&&m(r,["systemInstruction"],jt(l));const d=c(n,["tools"]);if(r!==void 0&&d!=null){let f=d;Array.isArray(f)&&(f=f.map(p=>Ag(p))),m(r,["tools"],f)}const u=c(n,["generationConfig"]);return r!==void 0&&u!=null&&m(r,["generationConfig"],z2(u)),s}function ZN(n,r){const s={},l=c(r,["model"]);l!=null&&m(s,["_url","model"],Ue(n,l));const d=c(r,["contents"]);if(d!=null){let f=mr(d);Array.isArray(f)&&(f=f.map(p=>to(p))),m(s,["contents"],f)}const u=c(r,["config"]);return u!=null&&XN(u),s}function e2(n,r){const s={},l=c(r,["model"]);l!=null&&m(s,["_url","model"],Ue(n,l));const d=c(r,["contents"]);if(d!=null){let f=mr(d);Array.isArray(f)&&(f=f.map(p=>p)),m(s,["contents"],f)}const u=c(r,["config"]);return u!=null&&QN(u,s),s}function t2(n){const r={},s=c(n,["sdkHttpResponse"]);s!=null&&m(r,["sdkHttpResponse"],s);const l=c(n,["totalTokens"]);l!=null&&m(r,["totalTokens"],l);const d=c(n,["cachedContentTokenCount"]);return d!=null&&m(r,["cachedContentTokenCount"],d),r}function r2(n){const r={},s=c(n,["sdkHttpResponse"]);s!=null&&m(r,["sdkHttpResponse"],s);const l=c(n,["totalTokens"]);return l!=null&&m(r,["totalTokens"],l),r}function n2(n,r){const s={},l=c(r,["model"]);return l!=null&&m(s,["_url","name"],Ue(n,l)),s}function a2(n,r){const s={},l=c(r,["model"]);return l!=null&&m(s,["_url","name"],Ue(n,l)),s}function s2(n){const r={},s=c(n,["sdkHttpResponse"]);return s!=null&&m(r,["sdkHttpResponse"],s),r}function i2(n){const r={},s=c(n,["sdkHttpResponse"]);return s!=null&&m(r,["sdkHttpResponse"],s),r}function l2(n,r){const s={},l=c(n,["outputGcsUri"]);r!==void 0&&l!=null&&m(r,["parameters","storageUri"],l);const d=c(n,["negativePrompt"]);r!==void 0&&d!=null&&m(r,["parameters","negativePrompt"],d);const u=c(n,["numberOfImages"]);r!==void 0&&u!=null&&m(r,["parameters","sampleCount"],u);const f=c(n,["aspectRatio"]);r!==void 0&&f!=null&&m(r,["parameters","aspectRatio"],f);const p=c(n,["guidanceScale"]);r!==void 0&&p!=null&&m(r,["parameters","guidanceScale"],p);const y=c(n,["seed"]);r!==void 0&&y!=null&&m(r,["parameters","seed"],y);const x=c(n,["safetyFilterLevel"]);r!==void 0&&x!=null&&m(r,["parameters","safetySetting"],x);const b=c(n,["personGeneration"]);r!==void 0&&b!=null&&m(r,["parameters","personGeneration"],b);const v=c(n,["includeSafetyAttributes"]);r!==void 0&&v!=null&&m(r,["parameters","includeSafetyAttributes"],v);const k=c(n,["includeRaiReason"]);r!==void 0&&k!=null&&m(r,["parameters","includeRaiReason"],k);const w=c(n,["language"]);r!==void 0&&w!=null&&m(r,["parameters","language"],w);const j=c(n,["outputMimeType"]);r!==void 0&&j!=null&&m(r,["parameters","outputOptions","mimeType"],j);const P=c(n,["outputCompressionQuality"]);r!==void 0&&P!=null&&m(r,["parameters","outputOptions","compressionQuality"],P);const V=c(n,["addWatermark"]);r!==void 0&&V!=null&&m(r,["parameters","addWatermark"],V);const $=c(n,["labels"]);r!==void 0&&$!=null&&m(r,["labels"],$);const U=c(n,["editMode"]);r!==void 0&&U!=null&&m(r,["parameters","editMode"],U);const D=c(n,["baseSteps"]);return r!==void 0&&D!=null&&m(r,["parameters","editConfig","baseSteps"],D),s}function o2(n,r){const s={},l=c(r,["model"]);l!=null&&m(s,["_url","model"],Ue(n,l));const d=c(r,["prompt"]);d!=null&&m(s,["instances[0]","prompt"],d);const u=c(r,["referenceImages"]);if(u!=null){let p=u;Array.isArray(p)&&(p=p.map(y=>c1(y))),m(s,["instances[0]","referenceImages"],p)}const f=c(r,["config"]);return f!=null&&l2(f,s),s}function d2(n){const r={},s=c(n,["sdkHttpResponse"]);s!=null&&m(r,["sdkHttpResponse"],s);const l=c(n,["predictions"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(u=>ro(u))),m(r,["generatedImages"],d)}return r}function c2(n,r){const s={},l=c(n,["taskType"]);r!==void 0&&l!=null&&m(r,["requests[]","taskType"],l);const d=c(n,["title"]);r!==void 0&&d!=null&&m(r,["requests[]","title"],d);const u=c(n,["outputDimensionality"]);if(r!==void 0&&u!=null&&m(r,["requests[]","outputDimensionality"],u),c(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return s}function u2(n,r){const s={},l=c(n,["taskType"]);r!==void 0&&l!=null&&m(r,["instances[]","task_type"],l);const d=c(n,["title"]);r!==void 0&&d!=null&&m(r,["instances[]","title"],d);const u=c(n,["outputDimensionality"]);r!==void 0&&u!=null&&m(r,["parameters","outputDimensionality"],u);const f=c(n,["mimeType"]);r!==void 0&&f!=null&&m(r,["instances[]","mimeType"],f);const p=c(n,["autoTruncate"]);return r!==void 0&&p!=null&&m(r,["parameters","autoTruncate"],p),s}function m2(n,r){const s={},l=c(r,["model"]);l!=null&&m(s,["_url","model"],Ue(n,l));const d=c(r,["contents"]);if(d!=null){let p=eu(n,d);Array.isArray(p)&&(p=p.map(y=>y)),m(s,["requests[]","content"],p)}const u=c(r,["config"]);u!=null&&c2(u,s);const f=c(r,["model"]);return f!==void 0&&m(s,["requests[]","model"],Ue(n,f)),s}function f2(n,r){const s={},l=c(r,["model"]);l!=null&&m(s,["_url","model"],Ue(n,l));const d=c(r,["contents"]);if(d!=null){let f=eu(n,d);Array.isArray(f)&&(f=f.map(p=>p)),m(s,["instances[]","content"],f)}const u=c(r,["config"]);return u!=null&&u2(u,s),s}function h2(n){const r={},s=c(n,["sdkHttpResponse"]);s!=null&&m(r,["sdkHttpResponse"],s);const l=c(n,["embeddings"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>f)),m(r,["embeddings"],u)}const d=c(n,["metadata"]);return d!=null&&m(r,["metadata"],d),r}function p2(n){const r={},s=c(n,["sdkHttpResponse"]);s!=null&&m(r,["sdkHttpResponse"],s);const l=c(n,["predictions[]","embeddings"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>WN(f))),m(r,["embeddings"],u)}const d=c(n,["metadata"]);return d!=null&&m(r,["metadata"],d),r}function x2(n){const r={},s=c(n,["endpoint"]);s!=null&&m(r,["name"],s);const l=c(n,["deployedModelId"]);return l!=null&&m(r,["deployedModelId"],l),r}function g2(n){const r={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(n,["fileUri"]);s!=null&&m(r,["fileUri"],s);const l=c(n,["mimeType"]);return l!=null&&m(r,["mimeType"],l),r}function y2(n){const r={},s=c(n,["id"]);s!=null&&m(r,["id"],s);const l=c(n,["args"]);l!=null&&m(r,["args"],l);const d=c(n,["name"]);if(d!=null&&m(r,["name"],d),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return r}function b2(n){const r={},s=c(n,["mode"]);s!=null&&m(r,["mode"],s);const l=c(n,["allowedFunctionNames"]);if(l!=null&&m(r,["allowedFunctionNames"],l),c(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return r}function v2(n){const r={};if(c(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const s=c(n,["description"]);s!=null&&m(r,["description"],s);const l=c(n,["name"]);l!=null&&m(r,["name"],l);const d=c(n,["parameters"]);d!=null&&m(r,["parameters"],d);const u=c(n,["parametersJsonSchema"]);u!=null&&m(r,["parametersJsonSchema"],u);const f=c(n,["response"]);f!=null&&m(r,["response"],f);const p=c(n,["responseJsonSchema"]);return p!=null&&m(r,["responseJsonSchema"],p),r}function k2(n,r,s){const l={},d=c(r,["systemInstruction"]);s!==void 0&&d!=null&&m(s,["systemInstruction"],to(jt(d)));const u=c(r,["temperature"]);u!=null&&m(l,["temperature"],u);const f=c(r,["topP"]);f!=null&&m(l,["topP"],f);const p=c(r,["topK"]);p!=null&&m(l,["topK"],p);const y=c(r,["candidateCount"]);y!=null&&m(l,["candidateCount"],y);const x=c(r,["maxOutputTokens"]);x!=null&&m(l,["maxOutputTokens"],x);const b=c(r,["stopSequences"]);b!=null&&m(l,["stopSequences"],b);const v=c(r,["responseLogprobs"]);v!=null&&m(l,["responseLogprobs"],v);const k=c(r,["logprobs"]);k!=null&&m(l,["logprobs"],k);const w=c(r,["presencePenalty"]);w!=null&&m(l,["presencePenalty"],w);const j=c(r,["frequencyPenalty"]);j!=null&&m(l,["frequencyPenalty"],j);const P=c(r,["seed"]);P!=null&&m(l,["seed"],P);const V=c(r,["responseMimeType"]);V!=null&&m(l,["responseMimeType"],V);const $=c(r,["responseSchema"]);$!=null&&m(l,["responseSchema"],tu($));const U=c(r,["responseJsonSchema"]);if(U!=null&&m(l,["responseJsonSchema"],U),c(r,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(r,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const D=c(r,["safetySettings"]);if(s!==void 0&&D!=null){let ce=D;Array.isArray(ce)&&(ce=ce.map(se=>u1(se))),m(s,["safetySettings"],ce)}const A=c(r,["tools"]);if(s!==void 0&&A!=null){let ce=ps(A);Array.isArray(ce)&&(ce=ce.map(se=>y1(hs(se)))),m(s,["tools"],ce)}const I=c(r,["toolConfig"]);if(s!==void 0&&I!=null&&m(s,["toolConfig"],g1(I)),c(r,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const q=c(r,["cachedContent"]);s!==void 0&&q!=null&&m(s,["cachedContent"],on(n,q));const M=c(r,["responseModalities"]);M!=null&&m(l,["responseModalities"],M);const ee=c(r,["mediaResolution"]);ee!=null&&m(l,["mediaResolution"],ee);const F=c(r,["speechConfig"]);if(F!=null&&m(l,["speechConfig"],ru(F)),c(r,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const z=c(r,["thinkingConfig"]);z!=null&&m(l,["thinkingConfig"],z);const re=c(r,["imageConfig"]);return re!=null&&m(l,["imageConfig"],W2(re)),l}function N2(n,r,s){const l={},d=c(r,["systemInstruction"]);s!==void 0&&d!=null&&m(s,["systemInstruction"],jt(d));const u=c(r,["temperature"]);u!=null&&m(l,["temperature"],u);const f=c(r,["topP"]);f!=null&&m(l,["topP"],f);const p=c(r,["topK"]);p!=null&&m(l,["topK"],p);const y=c(r,["candidateCount"]);y!=null&&m(l,["candidateCount"],y);const x=c(r,["maxOutputTokens"]);x!=null&&m(l,["maxOutputTokens"],x);const b=c(r,["stopSequences"]);b!=null&&m(l,["stopSequences"],b);const v=c(r,["responseLogprobs"]);v!=null&&m(l,["responseLogprobs"],v);const k=c(r,["logprobs"]);k!=null&&m(l,["logprobs"],k);const w=c(r,["presencePenalty"]);w!=null&&m(l,["presencePenalty"],w);const j=c(r,["frequencyPenalty"]);j!=null&&m(l,["frequencyPenalty"],j);const P=c(r,["seed"]);P!=null&&m(l,["seed"],P);const V=c(r,["responseMimeType"]);V!=null&&m(l,["responseMimeType"],V);const $=c(r,["responseSchema"]);$!=null&&m(l,["responseSchema"],tu($));const U=c(r,["responseJsonSchema"]);U!=null&&m(l,["responseJsonSchema"],U);const D=c(r,["routingConfig"]);D!=null&&m(l,["routingConfig"],D);const A=c(r,["modelSelectionConfig"]);A!=null&&m(l,["modelConfig"],A);const I=c(r,["safetySettings"]);if(s!==void 0&&I!=null){let _=I;Array.isArray(_)&&(_=_.map(W=>W)),m(s,["safetySettings"],_)}const q=c(r,["tools"]);if(s!==void 0&&q!=null){let _=ps(q);Array.isArray(_)&&(_=_.map(W=>Ag(hs(W)))),m(s,["tools"],_)}const M=c(r,["toolConfig"]);s!==void 0&&M!=null&&m(s,["toolConfig"],M);const ee=c(r,["labels"]);s!==void 0&&ee!=null&&m(s,["labels"],ee);const F=c(r,["cachedContent"]);s!==void 0&&F!=null&&m(s,["cachedContent"],on(n,F));const z=c(r,["responseModalities"]);z!=null&&m(l,["responseModalities"],z);const re=c(r,["mediaResolution"]);re!=null&&m(l,["mediaResolution"],re);const ce=c(r,["speechConfig"]);ce!=null&&m(l,["speechConfig"],Eg(ru(ce)));const se=c(r,["audioTimestamp"]);se!=null&&m(l,["audioTimestamp"],se);const oe=c(r,["thinkingConfig"]);oe!=null&&m(l,["thinkingConfig"],oe);const Y=c(r,["imageConfig"]);return Y!=null&&m(l,["imageConfig"],K2(Y)),l}function vx(n,r){const s={},l=c(r,["model"]);l!=null&&m(s,["_url","model"],Ue(n,l));const d=c(r,["contents"]);if(d!=null){let f=mr(d);Array.isArray(f)&&(f=f.map(p=>to(p))),m(s,["contents"],f)}const u=c(r,["config"]);return u!=null&&m(s,["generationConfig"],k2(n,u,s)),s}function kx(n,r){const s={},l=c(r,["model"]);l!=null&&m(s,["_url","model"],Ue(n,l));const d=c(r,["contents"]);if(d!=null){let f=mr(d);Array.isArray(f)&&(f=f.map(p=>p)),m(s,["contents"],f)}const u=c(r,["config"]);return u!=null&&m(s,["generationConfig"],N2(n,u,s)),s}function Nx(n){const r={},s=c(n,["sdkHttpResponse"]);s!=null&&m(r,["sdkHttpResponse"],s);const l=c(n,["candidates"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(x=>GN(x))),m(r,["candidates"],y)}const d=c(n,["modelVersion"]);d!=null&&m(r,["modelVersion"],d);const u=c(n,["promptFeedback"]);u!=null&&m(r,["promptFeedback"],u);const f=c(n,["responseId"]);f!=null&&m(r,["responseId"],f);const p=c(n,["usageMetadata"]);return p!=null&&m(r,["usageMetadata"],p),r}function wx(n){const r={},s=c(n,["sdkHttpResponse"]);s!=null&&m(r,["sdkHttpResponse"],s);const l=c(n,["candidates"]);if(l!=null){let x=l;Array.isArray(x)&&(x=x.map(b=>b)),m(r,["candidates"],x)}const d=c(n,["createTime"]);d!=null&&m(r,["createTime"],d);const u=c(n,["modelVersion"]);u!=null&&m(r,["modelVersion"],u);const f=c(n,["promptFeedback"]);f!=null&&m(r,["promptFeedback"],f);const p=c(n,["responseId"]);p!=null&&m(r,["responseId"],p);const y=c(n,["usageMetadata"]);return y!=null&&m(r,["usageMetadata"],y),r}function w2(n,r){const s={};if(c(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const l=c(n,["numberOfImages"]);r!==void 0&&l!=null&&m(r,["parameters","sampleCount"],l);const d=c(n,["aspectRatio"]);r!==void 0&&d!=null&&m(r,["parameters","aspectRatio"],d);const u=c(n,["guidanceScale"]);if(r!==void 0&&u!=null&&m(r,["parameters","guidanceScale"],u),c(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=c(n,["safetyFilterLevel"]);r!==void 0&&f!=null&&m(r,["parameters","safetySetting"],f);const p=c(n,["personGeneration"]);r!==void 0&&p!=null&&m(r,["parameters","personGeneration"],p);const y=c(n,["includeSafetyAttributes"]);r!==void 0&&y!=null&&m(r,["parameters","includeSafetyAttributes"],y);const x=c(n,["includeRaiReason"]);r!==void 0&&x!=null&&m(r,["parameters","includeRaiReason"],x);const b=c(n,["language"]);r!==void 0&&b!=null&&m(r,["parameters","language"],b);const v=c(n,["outputMimeType"]);r!==void 0&&v!=null&&m(r,["parameters","outputOptions","mimeType"],v);const k=c(n,["outputCompressionQuality"]);if(r!==void 0&&k!=null&&m(r,["parameters","outputOptions","compressionQuality"],k),c(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(c(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const w=c(n,["imageSize"]);if(r!==void 0&&w!=null&&m(r,["parameters","sampleImageSize"],w),c(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return s}function S2(n,r){const s={},l=c(n,["outputGcsUri"]);r!==void 0&&l!=null&&m(r,["parameters","storageUri"],l);const d=c(n,["negativePrompt"]);r!==void 0&&d!=null&&m(r,["parameters","negativePrompt"],d);const u=c(n,["numberOfImages"]);r!==void 0&&u!=null&&m(r,["parameters","sampleCount"],u);const f=c(n,["aspectRatio"]);r!==void 0&&f!=null&&m(r,["parameters","aspectRatio"],f);const p=c(n,["guidanceScale"]);r!==void 0&&p!=null&&m(r,["parameters","guidanceScale"],p);const y=c(n,["seed"]);r!==void 0&&y!=null&&m(r,["parameters","seed"],y);const x=c(n,["safetyFilterLevel"]);r!==void 0&&x!=null&&m(r,["parameters","safetySetting"],x);const b=c(n,["personGeneration"]);r!==void 0&&b!=null&&m(r,["parameters","personGeneration"],b);const v=c(n,["includeSafetyAttributes"]);r!==void 0&&v!=null&&m(r,["parameters","includeSafetyAttributes"],v);const k=c(n,["includeRaiReason"]);r!==void 0&&k!=null&&m(r,["parameters","includeRaiReason"],k);const w=c(n,["language"]);r!==void 0&&w!=null&&m(r,["parameters","language"],w);const j=c(n,["outputMimeType"]);r!==void 0&&j!=null&&m(r,["parameters","outputOptions","mimeType"],j);const P=c(n,["outputCompressionQuality"]);r!==void 0&&P!=null&&m(r,["parameters","outputOptions","compressionQuality"],P);const V=c(n,["addWatermark"]);r!==void 0&&V!=null&&m(r,["parameters","addWatermark"],V);const $=c(n,["labels"]);r!==void 0&&$!=null&&m(r,["labels"],$);const U=c(n,["imageSize"]);r!==void 0&&U!=null&&m(r,["parameters","sampleImageSize"],U);const D=c(n,["enhancePrompt"]);return r!==void 0&&D!=null&&m(r,["parameters","enhancePrompt"],D),s}function T2(n,r){const s={},l=c(r,["model"]);l!=null&&m(s,["_url","model"],Ue(n,l));const d=c(r,["prompt"]);d!=null&&m(s,["instances[0]","prompt"],d);const u=c(r,["config"]);return u!=null&&w2(u,s),s}function j2(n,r){const s={},l=c(r,["model"]);l!=null&&m(s,["_url","model"],Ue(n,l));const d=c(r,["prompt"]);d!=null&&m(s,["instances[0]","prompt"],d);const u=c(r,["config"]);return u!=null&&S2(u,s),s}function C2(n){const r={},s=c(n,["sdkHttpResponse"]);s!=null&&m(r,["sdkHttpResponse"],s);const l=c(n,["predictions"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>V2(f))),m(r,["generatedImages"],u)}const d=c(n,["positivePromptSafetyAttributes"]);return d!=null&&m(r,["positivePromptSafetyAttributes"],jg(d)),r}function E2(n){const r={},s=c(n,["sdkHttpResponse"]);s!=null&&m(r,["sdkHttpResponse"],s);const l=c(n,["predictions"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>ro(f))),m(r,["generatedImages"],u)}const d=c(n,["positivePromptSafetyAttributes"]);return d!=null&&m(r,["positivePromptSafetyAttributes"],Cg(d)),r}function A2(n,r){const s={},l=c(n,["numberOfVideos"]);if(r!==void 0&&l!=null&&m(r,["parameters","sampleCount"],l),c(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const d=c(n,["durationSeconds"]);if(r!==void 0&&d!=null&&m(r,["parameters","durationSeconds"],d),c(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=c(n,["aspectRatio"]);r!==void 0&&u!=null&&m(r,["parameters","aspectRatio"],u);const f=c(n,["resolution"]);r!==void 0&&f!=null&&m(r,["parameters","resolution"],f);const p=c(n,["personGeneration"]);if(r!==void 0&&p!=null&&m(r,["parameters","personGeneration"],p),c(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=c(n,["negativePrompt"]);r!==void 0&&y!=null&&m(r,["parameters","negativePrompt"],y);const x=c(n,["enhancePrompt"]);if(r!==void 0&&x!=null&&m(r,["parameters","enhancePrompt"],x),c(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const b=c(n,["lastFrame"]);r!==void 0&&b!=null&&m(r,["instances[0]","lastFrame"],no(b));const v=c(n,["referenceImages"]);if(r!==void 0&&v!=null){let k=v;Array.isArray(k)&&(k=k.map(w=>M1(w))),m(r,["instances[0]","referenceImages"],k)}if(c(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(c(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return s}function _2(n,r){const s={},l=c(n,["numberOfVideos"]);r!==void 0&&l!=null&&m(r,["parameters","sampleCount"],l);const d=c(n,["outputGcsUri"]);r!==void 0&&d!=null&&m(r,["parameters","storageUri"],d);const u=c(n,["fps"]);r!==void 0&&u!=null&&m(r,["parameters","fps"],u);const f=c(n,["durationSeconds"]);r!==void 0&&f!=null&&m(r,["parameters","durationSeconds"],f);const p=c(n,["seed"]);r!==void 0&&p!=null&&m(r,["parameters","seed"],p);const y=c(n,["aspectRatio"]);r!==void 0&&y!=null&&m(r,["parameters","aspectRatio"],y);const x=c(n,["resolution"]);r!==void 0&&x!=null&&m(r,["parameters","resolution"],x);const b=c(n,["personGeneration"]);r!==void 0&&b!=null&&m(r,["parameters","personGeneration"],b);const v=c(n,["pubsubTopic"]);r!==void 0&&v!=null&&m(r,["parameters","pubsubTopic"],v);const k=c(n,["negativePrompt"]);r!==void 0&&k!=null&&m(r,["parameters","negativePrompt"],k);const w=c(n,["enhancePrompt"]);r!==void 0&&w!=null&&m(r,["parameters","enhancePrompt"],w);const j=c(n,["generateAudio"]);r!==void 0&&j!=null&&m(r,["parameters","generateAudio"],j);const P=c(n,["lastFrame"]);r!==void 0&&P!=null&&m(r,["instances[0]","lastFrame"],vr(P));const V=c(n,["referenceImages"]);if(r!==void 0&&V!=null){let D=V;Array.isArray(D)&&(D=D.map(A=>R1(A))),m(r,["instances[0]","referenceImages"],D)}const $=c(n,["mask"]);r!==void 0&&$!=null&&m(r,["instances[0]","mask"],_1($));const U=c(n,["compressionQuality"]);return r!==void 0&&U!=null&&m(r,["parameters","compressionQuality"],U),s}function M2(n){const r={},s=c(n,["name"]);s!=null&&m(r,["name"],s);const l=c(n,["metadata"]);l!=null&&m(r,["metadata"],l);const d=c(n,["done"]);d!=null&&m(r,["done"],d);const u=c(n,["error"]);u!=null&&m(r,["error"],u);const f=c(n,["response","generateVideoResponse"]);return f!=null&&m(r,["response"],L2(f)),r}function R2(n){const r={},s=c(n,["name"]);s!=null&&m(r,["name"],s);const l=c(n,["metadata"]);l!=null&&m(r,["metadata"],l);const d=c(n,["done"]);d!=null&&m(r,["done"],d);const u=c(n,["error"]);u!=null&&m(r,["error"],u);const f=c(n,["response"]);return f!=null&&m(r,["response"],D2(f)),r}function I2(n,r){const s={},l=c(r,["model"]);l!=null&&m(s,["_url","model"],Ue(n,l));const d=c(r,["prompt"]);d!=null&&m(s,["instances[0]","prompt"],d);const u=c(r,["image"]);u!=null&&m(s,["instances[0]","image"],no(u));const f=c(r,["video"]);f!=null&&m(s,["instances[0]","video"],_g(f));const p=c(r,["source"]);p!=null&&U2(p,s);const y=c(r,["config"]);return y!=null&&A2(y,s),s}function P2(n,r){const s={},l=c(r,["model"]);l!=null&&m(s,["_url","model"],Ue(n,l));const d=c(r,["prompt"]);d!=null&&m(s,["instances[0]","prompt"],d);const u=c(r,["image"]);u!=null&&m(s,["instances[0]","image"],vr(u));const f=c(r,["video"]);f!=null&&m(s,["instances[0]","video"],Mg(f));const p=c(r,["source"]);p!=null&&q2(p,s);const y=c(r,["config"]);return y!=null&&_2(y,s),s}function L2(n){const r={},s=c(n,["generatedSamples"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(f=>F2(f))),m(r,["generatedVideos"],u)}const l=c(n,["raiMediaFilteredCount"]);l!=null&&m(r,["raiMediaFilteredCount"],l);const d=c(n,["raiMediaFilteredReasons"]);return d!=null&&m(r,["raiMediaFilteredReasons"],d),r}function D2(n){const r={},s=c(n,["videos"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(f=>B2(f))),m(r,["generatedVideos"],u)}const l=c(n,["raiMediaFilteredCount"]);l!=null&&m(r,["raiMediaFilteredCount"],l);const d=c(n,["raiMediaFilteredReasons"]);return d!=null&&m(r,["raiMediaFilteredReasons"],d),r}function U2(n,r){const s={},l=c(n,["prompt"]);r!==void 0&&l!=null&&m(r,["instances[0]","prompt"],l);const d=c(n,["image"]);r!==void 0&&d!=null&&m(r,["instances[0]","image"],no(d));const u=c(n,["video"]);return r!==void 0&&u!=null&&m(r,["instances[0]","video"],_g(u)),s}function q2(n,r){const s={},l=c(n,["prompt"]);r!==void 0&&l!=null&&m(r,["instances[0]","prompt"],l);const d=c(n,["image"]);r!==void 0&&d!=null&&m(r,["instances[0]","image"],vr(d));const u=c(n,["video"]);return r!==void 0&&u!=null&&m(r,["instances[0]","video"],Mg(u)),s}function V2(n){const r={},s=c(n,["_self"]);s!=null&&m(r,["image"],$2(s));const l=c(n,["raiFilteredReason"]);l!=null&&m(r,["raiFilteredReason"],l);const d=c(n,["_self"]);return d!=null&&m(r,["safetyAttributes"],jg(d)),r}function ro(n){const r={},s=c(n,["_self"]);s!=null&&m(r,["image"],Tg(s));const l=c(n,["raiFilteredReason"]);l!=null&&m(r,["raiFilteredReason"],l);const d=c(n,["_self"]);d!=null&&m(r,["safetyAttributes"],Cg(d));const u=c(n,["prompt"]);return u!=null&&m(r,["enhancedPrompt"],u),r}function H2(n){const r={},s=c(n,["_self"]);s!=null&&m(r,["mask"],Tg(s));const l=c(n,["labels"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(u=>u)),m(r,["labels"],d)}return r}function F2(n){const r={},s=c(n,["video"]);return s!=null&&m(r,["video"],E1(s)),r}function B2(n){const r={},s=c(n,["_self"]);return s!=null&&m(r,["video"],A1(s)),r}function z2(n){const r={},s=c(n,["modelSelectionConfig"]);s!=null&&m(r,["modelConfig"],s);const l=c(n,["responseJsonSchema"]);l!=null&&m(r,["responseJsonSchema"],l);const d=c(n,["audioTimestamp"]);d!=null&&m(r,["audioTimestamp"],d);const u=c(n,["candidateCount"]);u!=null&&m(r,["candidateCount"],u);const f=c(n,["enableAffectiveDialog"]);f!=null&&m(r,["enableAffectiveDialog"],f);const p=c(n,["frequencyPenalty"]);p!=null&&m(r,["frequencyPenalty"],p);const y=c(n,["logprobs"]);y!=null&&m(r,["logprobs"],y);const x=c(n,["maxOutputTokens"]);x!=null&&m(r,["maxOutputTokens"],x);const b=c(n,["mediaResolution"]);b!=null&&m(r,["mediaResolution"],b);const v=c(n,["presencePenalty"]);v!=null&&m(r,["presencePenalty"],v);const k=c(n,["responseLogprobs"]);k!=null&&m(r,["responseLogprobs"],k);const w=c(n,["responseMimeType"]);w!=null&&m(r,["responseMimeType"],w);const j=c(n,["responseModalities"]);j!=null&&m(r,["responseModalities"],j);const P=c(n,["responseSchema"]);P!=null&&m(r,["responseSchema"],P);const V=c(n,["routingConfig"]);V!=null&&m(r,["routingConfig"],V);const $=c(n,["seed"]);$!=null&&m(r,["seed"],$);const U=c(n,["speechConfig"]);U!=null&&m(r,["speechConfig"],Eg(U));const D=c(n,["stopSequences"]);D!=null&&m(r,["stopSequences"],D);const A=c(n,["temperature"]);A!=null&&m(r,["temperature"],A);const I=c(n,["thinkingConfig"]);I!=null&&m(r,["thinkingConfig"],I);const q=c(n,["topK"]);q!=null&&m(r,["topK"],q);const M=c(n,["topP"]);if(M!=null&&m(r,["topP"],M),c(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return r}function G2(n,r){const s={},l=c(r,["model"]);return l!=null&&m(s,["_url","name"],Ue(n,l)),s}function O2(n,r){const s={},l=c(r,["model"]);return l!=null&&m(s,["_url","name"],Ue(n,l)),s}function Y2(n){const r={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const s=c(n,["enableWidget"]);return s!=null&&m(r,["enableWidget"],s),r}function J2(n){const r={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const s=c(n,["timeRangeFilter"]);return s!=null&&m(r,["timeRangeFilter"],s),r}function W2(n){const r={},s=c(n,["aspectRatio"]);s!=null&&m(r,["aspectRatio"],s);const l=c(n,["imageSize"]);if(l!=null&&m(r,["imageSize"],l),c(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return r}function K2(n){const r={},s=c(n,["aspectRatio"]);s!=null&&m(r,["aspectRatio"],s);const l=c(n,["imageSize"]);l!=null&&m(r,["imageSize"],l);const d=c(n,["outputMimeType"]);d!=null&&m(r,["imageOutputOptions","mimeType"],d);const u=c(n,["outputCompressionQuality"]);return u!=null&&m(r,["imageOutputOptions","compressionQuality"],u),r}function $2(n){const r={},s=c(n,["bytesBase64Encoded"]);s!=null&&m(r,["imageBytes"],On(s));const l=c(n,["mimeType"]);return l!=null&&m(r,["mimeType"],l),r}function Tg(n){const r={},s=c(n,["gcsUri"]);s!=null&&m(r,["gcsUri"],s);const l=c(n,["bytesBase64Encoded"]);l!=null&&m(r,["imageBytes"],On(l));const d=c(n,["mimeType"]);return d!=null&&m(r,["mimeType"],d),r}function no(n){const r={};if(c(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const s=c(n,["imageBytes"]);s!=null&&m(r,["bytesBase64Encoded"],On(s));const l=c(n,["mimeType"]);return l!=null&&m(r,["mimeType"],l),r}function vr(n){const r={},s=c(n,["gcsUri"]);s!=null&&m(r,["gcsUri"],s);const l=c(n,["imageBytes"]);l!=null&&m(r,["bytesBase64Encoded"],On(l));const d=c(n,["mimeType"]);return d!=null&&m(r,["mimeType"],d),r}function X2(n,r,s){const l={},d=c(r,["pageSize"]);s!==void 0&&d!=null&&m(s,["_query","pageSize"],d);const u=c(r,["pageToken"]);s!==void 0&&u!=null&&m(s,["_query","pageToken"],u);const f=c(r,["filter"]);s!==void 0&&f!=null&&m(s,["_query","filter"],f);const p=c(r,["queryBase"]);return s!==void 0&&p!=null&&m(s,["_url","models_url"],gg(n,p)),l}function Q2(n,r,s){const l={},d=c(r,["pageSize"]);s!==void 0&&d!=null&&m(s,["_query","pageSize"],d);const u=c(r,["pageToken"]);s!==void 0&&u!=null&&m(s,["_query","pageToken"],u);const f=c(r,["filter"]);s!==void 0&&f!=null&&m(s,["_query","filter"],f);const p=c(r,["queryBase"]);return s!==void 0&&p!=null&&m(s,["_url","models_url"],gg(n,p)),l}function Z2(n,r){const s={},l=c(r,["config"]);return l!=null&&X2(n,l,s),s}function e1(n,r){const s={},l=c(r,["config"]);return l!=null&&Q2(n,l,s),s}function t1(n){const r={},s=c(n,["sdkHttpResponse"]);s!=null&&m(r,["sdkHttpResponse"],s);const l=c(n,["nextPageToken"]);l!=null&&m(r,["nextPageToken"],l);const d=c(n,["_self"]);if(d!=null){let u=yg(d);Array.isArray(u)&&(u=u.map(f=>Ic(f))),m(r,["models"],u)}return r}function r1(n){const r={},s=c(n,["sdkHttpResponse"]);s!=null&&m(r,["sdkHttpResponse"],s);const l=c(n,["nextPageToken"]);l!=null&&m(r,["nextPageToken"],l);const d=c(n,["_self"]);if(d!=null){let u=yg(d);Array.isArray(u)&&(u=u.map(f=>Pc(f))),m(r,["models"],u)}return r}function n1(n){const r={},s=c(n,["maskMode"]);s!=null&&m(r,["maskMode"],s);const l=c(n,["segmentationClasses"]);l!=null&&m(r,["maskClasses"],l);const d=c(n,["maskDilation"]);return d!=null&&m(r,["dilation"],d),r}function Ic(n){const r={},s=c(n,["name"]);s!=null&&m(r,["name"],s);const l=c(n,["displayName"]);l!=null&&m(r,["displayName"],l);const d=c(n,["description"]);d!=null&&m(r,["description"],d);const u=c(n,["version"]);u!=null&&m(r,["version"],u);const f=c(n,["_self"]);f!=null&&m(r,["tunedModelInfo"],b1(f));const p=c(n,["inputTokenLimit"]);p!=null&&m(r,["inputTokenLimit"],p);const y=c(n,["outputTokenLimit"]);y!=null&&m(r,["outputTokenLimit"],y);const x=c(n,["supportedGenerationMethods"]);x!=null&&m(r,["supportedActions"],x);const b=c(n,["temperature"]);b!=null&&m(r,["temperature"],b);const v=c(n,["maxTemperature"]);v!=null&&m(r,["maxTemperature"],v);const k=c(n,["topP"]);k!=null&&m(r,["topP"],k);const w=c(n,["topK"]);w!=null&&m(r,["topK"],w);const j=c(n,["thinking"]);return j!=null&&m(r,["thinking"],j),r}function Pc(n){const r={},s=c(n,["name"]);s!=null&&m(r,["name"],s);const l=c(n,["displayName"]);l!=null&&m(r,["displayName"],l);const d=c(n,["description"]);d!=null&&m(r,["description"],d);const u=c(n,["versionId"]);u!=null&&m(r,["version"],u);const f=c(n,["deployedModels"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(k=>x2(k))),m(r,["endpoints"],v)}const p=c(n,["labels"]);p!=null&&m(r,["labels"],p);const y=c(n,["_self"]);y!=null&&m(r,["tunedModelInfo"],v1(y));const x=c(n,["defaultCheckpointId"]);x!=null&&m(r,["defaultCheckpointId"],x);const b=c(n,["checkpoints"]);if(b!=null){let v=b;Array.isArray(v)&&(v=v.map(k=>k)),m(r,["checkpoints"],v)}return r}function a1(n){const r={},s=c(n,["mediaResolution"]);s!=null&&m(r,["mediaResolution"],s);const l=c(n,["codeExecutionResult"]);l!=null&&m(r,["codeExecutionResult"],l);const d=c(n,["executableCode"]);d!=null&&m(r,["executableCode"],d);const u=c(n,["fileData"]);u!=null&&m(r,["fileData"],g2(u));const f=c(n,["functionCall"]);f!=null&&m(r,["functionCall"],y2(f));const p=c(n,["functionResponse"]);p!=null&&m(r,["functionResponse"],p);const y=c(n,["inlineData"]);y!=null&&m(r,["inlineData"],zN(y));const x=c(n,["text"]);x!=null&&m(r,["text"],x);const b=c(n,["thought"]);b!=null&&m(r,["thought"],b);const v=c(n,["thoughtSignature"]);v!=null&&m(r,["thoughtSignature"],v);const k=c(n,["videoMetadata"]);return k!=null&&m(r,["videoMetadata"],k),r}function s1(n){const r={},s=c(n,["productImage"]);return s!=null&&m(r,["image"],vr(s)),r}function i1(n,r){const s={},l=c(n,["numberOfImages"]);r!==void 0&&l!=null&&m(r,["parameters","sampleCount"],l);const d=c(n,["baseSteps"]);r!==void 0&&d!=null&&m(r,["parameters","baseSteps"],d);const u=c(n,["outputGcsUri"]);r!==void 0&&u!=null&&m(r,["parameters","storageUri"],u);const f=c(n,["seed"]);r!==void 0&&f!=null&&m(r,["parameters","seed"],f);const p=c(n,["safetyFilterLevel"]);r!==void 0&&p!=null&&m(r,["parameters","safetySetting"],p);const y=c(n,["personGeneration"]);r!==void 0&&y!=null&&m(r,["parameters","personGeneration"],y);const x=c(n,["addWatermark"]);r!==void 0&&x!=null&&m(r,["parameters","addWatermark"],x);const b=c(n,["outputMimeType"]);r!==void 0&&b!=null&&m(r,["parameters","outputOptions","mimeType"],b);const v=c(n,["outputCompressionQuality"]);r!==void 0&&v!=null&&m(r,["parameters","outputOptions","compressionQuality"],v);const k=c(n,["enhancePrompt"]);r!==void 0&&k!=null&&m(r,["parameters","enhancePrompt"],k);const w=c(n,["labels"]);return r!==void 0&&w!=null&&m(r,["labels"],w),s}function l1(n,r){const s={},l=c(r,["model"]);l!=null&&m(s,["_url","model"],Ue(n,l));const d=c(r,["source"]);d!=null&&d1(d,s);const u=c(r,["config"]);return u!=null&&i1(u,s),s}function o1(n){const r={},s=c(n,["predictions"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(d=>ro(d))),m(r,["generatedImages"],l)}return r}function d1(n,r){const s={},l=c(n,["prompt"]);r!==void 0&&l!=null&&m(r,["instances[0]","prompt"],l);const d=c(n,["personImage"]);r!==void 0&&d!=null&&m(r,["instances[0]","personImage","image"],vr(d));const u=c(n,["productImages"]);if(r!==void 0&&u!=null){let f=u;Array.isArray(f)&&(f=f.map(p=>s1(p))),m(r,["instances[0]","productImages"],f)}return s}function c1(n){const r={},s=c(n,["referenceImage"]);s!=null&&m(r,["referenceImage"],vr(s));const l=c(n,["referenceId"]);l!=null&&m(r,["referenceId"],l);const d=c(n,["referenceType"]);d!=null&&m(r,["referenceType"],d);const u=c(n,["maskImageConfig"]);u!=null&&m(r,["maskImageConfig"],n1(u));const f=c(n,["controlImageConfig"]);f!=null&&m(r,["controlImageConfig"],$N(f));const p=c(n,["styleImageConfig"]);p!=null&&m(r,["styleImageConfig"],p);const y=c(n,["subjectImageConfig"]);return y!=null&&m(r,["subjectImageConfig"],y),r}function jg(n){const r={},s=c(n,["safetyAttributes","categories"]);s!=null&&m(r,["categories"],s);const l=c(n,["safetyAttributes","scores"]);l!=null&&m(r,["scores"],l);const d=c(n,["contentType"]);return d!=null&&m(r,["contentType"],d),r}function Cg(n){const r={},s=c(n,["safetyAttributes","categories"]);s!=null&&m(r,["categories"],s);const l=c(n,["safetyAttributes","scores"]);l!=null&&m(r,["scores"],l);const d=c(n,["contentType"]);return d!=null&&m(r,["contentType"],d),r}function u1(n){const r={},s=c(n,["category"]);if(s!=null&&m(r,["category"],s),c(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const l=c(n,["threshold"]);return l!=null&&m(r,["threshold"],l),r}function m1(n){const r={},s=c(n,["image"]);return s!=null&&m(r,["image"],vr(s)),r}function f1(n,r){const s={},l=c(n,["mode"]);r!==void 0&&l!=null&&m(r,["parameters","mode"],l);const d=c(n,["maxPredictions"]);r!==void 0&&d!=null&&m(r,["parameters","maxPredictions"],d);const u=c(n,["confidenceThreshold"]);r!==void 0&&u!=null&&m(r,["parameters","confidenceThreshold"],u);const f=c(n,["maskDilation"]);r!==void 0&&f!=null&&m(r,["parameters","maskDilation"],f);const p=c(n,["binaryColorThreshold"]);r!==void 0&&p!=null&&m(r,["parameters","binaryColorThreshold"],p);const y=c(n,["labels"]);return r!==void 0&&y!=null&&m(r,["labels"],y),s}function h1(n,r){const s={},l=c(r,["model"]);l!=null&&m(s,["_url","model"],Ue(n,l));const d=c(r,["source"]);d!=null&&x1(d,s);const u=c(r,["config"]);return u!=null&&f1(u,s),s}function p1(n){const r={},s=c(n,["predictions"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(d=>H2(d))),m(r,["generatedMasks"],l)}return r}function x1(n,r){const s={},l=c(n,["prompt"]);r!==void 0&&l!=null&&m(r,["instances[0]","prompt"],l);const d=c(n,["image"]);r!==void 0&&d!=null&&m(r,["instances[0]","image"],vr(d));const u=c(n,["scribbleImage"]);return r!==void 0&&u!=null&&m(r,["instances[0]","scribble"],m1(u)),s}function Eg(n){const r={},s=c(n,["languageCode"]);s!=null&&m(r,["languageCode"],s);const l=c(n,["voiceConfig"]);if(l!=null&&m(r,["voiceConfig"],l),c(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return r}function g1(n){const r={},s=c(n,["functionCallingConfig"]);s!=null&&m(r,["functionCallingConfig"],b2(s));const l=c(n,["retrievalConfig"]);return l!=null&&m(r,["retrievalConfig"],l),r}function y1(n){const r={},s=c(n,["functionDeclarations"]);if(s!=null){let b=s;Array.isArray(b)&&(b=b.map(v=>v)),m(r,["functionDeclarations"],b)}if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=c(n,["googleSearchRetrieval"]);l!=null&&m(r,["googleSearchRetrieval"],l);const d=c(n,["computerUse"]);d!=null&&m(r,["computerUse"],d);const u=c(n,["fileSearch"]);u!=null&&m(r,["fileSearch"],u);const f=c(n,["codeExecution"]);if(f!=null&&m(r,["codeExecution"],f),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=c(n,["googleMaps"]);p!=null&&m(r,["googleMaps"],Y2(p));const y=c(n,["googleSearch"]);y!=null&&m(r,["googleSearch"],J2(y));const x=c(n,["urlContext"]);return x!=null&&m(r,["urlContext"],x),r}function Ag(n){const r={},s=c(n,["functionDeclarations"]);if(s!=null){let v=s;Array.isArray(v)&&(v=v.map(k=>v2(k))),m(r,["functionDeclarations"],v)}const l=c(n,["retrieval"]);l!=null&&m(r,["retrieval"],l);const d=c(n,["googleSearchRetrieval"]);d!=null&&m(r,["googleSearchRetrieval"],d);const u=c(n,["computerUse"]);if(u!=null&&m(r,["computerUse"],u),c(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const f=c(n,["codeExecution"]);f!=null&&m(r,["codeExecution"],f);const p=c(n,["enterpriseWebSearch"]);p!=null&&m(r,["enterpriseWebSearch"],p);const y=c(n,["googleMaps"]);y!=null&&m(r,["googleMaps"],y);const x=c(n,["googleSearch"]);x!=null&&m(r,["googleSearch"],x);const b=c(n,["urlContext"]);return b!=null&&m(r,["urlContext"],b),r}function b1(n){const r={},s=c(n,["baseModel"]);s!=null&&m(r,["baseModel"],s);const l=c(n,["createTime"]);l!=null&&m(r,["createTime"],l);const d=c(n,["updateTime"]);return d!=null&&m(r,["updateTime"],d),r}function v1(n){const r={},s=c(n,["labels","google-vertex-llm-tuning-base-model-id"]);s!=null&&m(r,["baseModel"],s);const l=c(n,["createTime"]);l!=null&&m(r,["createTime"],l);const d=c(n,["updateTime"]);return d!=null&&m(r,["updateTime"],d),r}function k1(n,r){const s={},l=c(n,["displayName"]);r!==void 0&&l!=null&&m(r,["displayName"],l);const d=c(n,["description"]);r!==void 0&&d!=null&&m(r,["description"],d);const u=c(n,["defaultCheckpointId"]);return r!==void 0&&u!=null&&m(r,["defaultCheckpointId"],u),s}function N1(n,r){const s={},l=c(n,["displayName"]);r!==void 0&&l!=null&&m(r,["displayName"],l);const d=c(n,["description"]);r!==void 0&&d!=null&&m(r,["description"],d);const u=c(n,["defaultCheckpointId"]);return r!==void 0&&u!=null&&m(r,["defaultCheckpointId"],u),s}function w1(n,r){const s={},l=c(r,["model"]);l!=null&&m(s,["_url","name"],Ue(n,l));const d=c(r,["config"]);return d!=null&&k1(d,s),s}function S1(n,r){const s={},l=c(r,["model"]);l!=null&&m(s,["_url","model"],Ue(n,l));const d=c(r,["config"]);return d!=null&&N1(d,s),s}function T1(n,r){const s={},l=c(n,["outputGcsUri"]);r!==void 0&&l!=null&&m(r,["parameters","storageUri"],l);const d=c(n,["safetyFilterLevel"]);r!==void 0&&d!=null&&m(r,["parameters","safetySetting"],d);const u=c(n,["personGeneration"]);r!==void 0&&u!=null&&m(r,["parameters","personGeneration"],u);const f=c(n,["includeRaiReason"]);r!==void 0&&f!=null&&m(r,["parameters","includeRaiReason"],f);const p=c(n,["outputMimeType"]);r!==void 0&&p!=null&&m(r,["parameters","outputOptions","mimeType"],p);const y=c(n,["outputCompressionQuality"]);r!==void 0&&y!=null&&m(r,["parameters","outputOptions","compressionQuality"],y);const x=c(n,["enhanceInputImage"]);r!==void 0&&x!=null&&m(r,["parameters","upscaleConfig","enhanceInputImage"],x);const b=c(n,["imagePreservationFactor"]);r!==void 0&&b!=null&&m(r,["parameters","upscaleConfig","imagePreservationFactor"],b);const v=c(n,["labels"]);r!==void 0&&v!=null&&m(r,["labels"],v);const k=c(n,["numberOfImages"]);r!==void 0&&k!=null&&m(r,["parameters","sampleCount"],k);const w=c(n,["mode"]);return r!==void 0&&w!=null&&m(r,["parameters","mode"],w),s}function j1(n,r){const s={},l=c(r,["model"]);l!=null&&m(s,["_url","model"],Ue(n,l));const d=c(r,["image"]);d!=null&&m(s,["instances[0]","image"],vr(d));const u=c(r,["upscaleFactor"]);u!=null&&m(s,["parameters","upscaleConfig","upscaleFactor"],u);const f=c(r,["config"]);return f!=null&&T1(f,s),s}function C1(n){const r={},s=c(n,["sdkHttpResponse"]);s!=null&&m(r,["sdkHttpResponse"],s);const l=c(n,["predictions"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(u=>ro(u))),m(r,["generatedImages"],d)}return r}function E1(n){const r={},s=c(n,["uri"]);s!=null&&m(r,["uri"],s);const l=c(n,["encodedVideo"]);l!=null&&m(r,["videoBytes"],On(l));const d=c(n,["encoding"]);return d!=null&&m(r,["mimeType"],d),r}function A1(n){const r={},s=c(n,["gcsUri"]);s!=null&&m(r,["uri"],s);const l=c(n,["bytesBase64Encoded"]);l!=null&&m(r,["videoBytes"],On(l));const d=c(n,["mimeType"]);return d!=null&&m(r,["mimeType"],d),r}function _1(n){const r={},s=c(n,["image"]);s!=null&&m(r,["_self"],vr(s));const l=c(n,["maskMode"]);return l!=null&&m(r,["maskMode"],l),r}function M1(n){const r={},s=c(n,["image"]);s!=null&&m(r,["image"],no(s));const l=c(n,["referenceType"]);return l!=null&&m(r,["referenceType"],l),r}function R1(n){const r={},s=c(n,["image"]);s!=null&&m(r,["image"],vr(s));const l=c(n,["referenceType"]);return l!=null&&m(r,["referenceType"],l),r}function _g(n){const r={},s=c(n,["uri"]);s!=null&&m(r,["uri"],s);const l=c(n,["videoBytes"]);l!=null&&m(r,["encodedVideo"],On(l));const d=c(n,["mimeType"]);return d!=null&&m(r,["encoding"],d),r}function Mg(n){const r={},s=c(n,["uri"]);s!=null&&m(r,["gcsUri"],s);const l=c(n,["videoBytes"]);l!=null&&m(r,["bytesBase64Encoded"],On(l));const d=c(n,["mimeType"]);return d!=null&&m(r,["mimeType"],d),r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const I1="Content-Type",P1="X-Server-Timeout",L1="User-Agent",Lc="x-goog-api-client",D1="1.30.0",U1=`google-genai-sdk/${D1}`,q1="v1beta1",V1="v1beta",Sx=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class H1{constructor(r){var s,l;this.clientOptions=Object.assign(Object.assign({},r),{project:r.project,location:r.location,apiKey:r.apiKey,vertexai:r.vertexai});const d={};this.clientOptions.vertexai?(d.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:q1,d.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(d.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:V1,d.baseUrl="https://generativelanguage.googleapis.com/"),d.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=d,r.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(d,r.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var r;return(r=this.clientOptions.vertexai)!==null&&r!==void 0?r:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(r){if(!r||r.baseUrl===void 0||r.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const l=[r.baseUrl.endsWith("/")?r.baseUrl.slice(0,-1):r.baseUrl];return r.apiVersion&&r.apiVersion!==""&&l.push(r.apiVersion),l.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const r=this.getBaseUrl(),s=new URL(r);return s.protocol=s.protocol=="http:"?"ws":"wss",s.toString()}setBaseUrl(r){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=r;else throw new Error("HTTP options are not correctly set.")}constructUrl(r,s,l){const d=[this.getRequestUrlInternal(s)];return l&&d.push(this.getBaseResourcePath()),r!==""&&d.push(r),new URL(`${d.join("/")}`)}shouldPrependVertexProjectPath(r){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||r.path.startsWith("projects/")||r.httpMethod==="GET"&&r.path.startsWith("publishers/google/models"))}async request(r){let s=this.clientOptions.httpOptions;r.httpOptions&&(s=this.patchHttpOptions(this.clientOptions.httpOptions,r.httpOptions));const l=this.shouldPrependVertexProjectPath(r),d=this.constructUrl(r.path,s,l);if(r.queryParams)for(const[f,p]of Object.entries(r.queryParams))d.searchParams.append(f,String(p));let u={};if(r.httpMethod==="GET"){if(r.body&&r.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else u.body=r.body;return u=await this.includeExtraHttpOptionsToRequestInit(u,s,d.toString(),r.abortSignal),this.unaryApiCall(d,u,r.httpMethod)}patchHttpOptions(r,s){const l=JSON.parse(JSON.stringify(r));for(const[d,u]of Object.entries(s))typeof u=="object"?l[d]=Object.assign(Object.assign({},l[d]),u):u!==void 0&&(l[d]=u);return l}async requestStream(r){let s=this.clientOptions.httpOptions;r.httpOptions&&(s=this.patchHttpOptions(this.clientOptions.httpOptions,r.httpOptions));const l=this.shouldPrependVertexProjectPath(r),d=this.constructUrl(r.path,s,l);(!d.searchParams.has("alt")||d.searchParams.get("alt")!=="sse")&&d.searchParams.set("alt","sse");let u={};return u.body=r.body,u=await this.includeExtraHttpOptionsToRequestInit(u,s,d.toString(),r.abortSignal),this.streamApiCall(d,u,r.httpMethod)}async includeExtraHttpOptionsToRequestInit(r,s,l,d){if(s&&s.timeout||d){const u=new AbortController,f=u.signal;if(s.timeout&&(s==null?void 0:s.timeout)>0){const p=setTimeout(()=>u.abort(),s.timeout);p&&typeof p.unref=="function"&&p.unref()}d&&d.addEventListener("abort",()=>{u.abort()}),r.signal=f}return s&&s.extraBody!==null&&F1(r,s.extraBody),r.headers=await this.getHeadersInternal(s,l),r}async unaryApiCall(r,s,l){return this.apiCall(r.toString(),Object.assign(Object.assign({},s),{method:l})).then(async d=>(await Tx(d),new _c(d))).catch(d=>{throw d instanceof Error?d:new Error(JSON.stringify(d))})}async streamApiCall(r,s,l){return this.apiCall(r.toString(),Object.assign(Object.assign({},s),{method:l})).then(async d=>(await Tx(d),this.processStreamResponse(d))).catch(d=>{throw d instanceof Error?d:new Error(JSON.stringify(d))})}processStreamResponse(r){var s;return ds(this,arguments,function*(){const d=(s=r==null?void 0:r.body)===null||s===void 0?void 0:s.getReader(),u=new TextDecoder("utf-8");if(!d)throw new Error("Response body is empty");try{let f="";for(;;){const{done:p,value:y}=yield et(d.read());if(p){if(f.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const x=u.decode(y,{stream:!0});try{const v=JSON.parse(x);if("error"in v){const k=JSON.parse(JSON.stringify(v.error)),w=k.status,j=k.code,P=`got status: ${w}. ${JSON.stringify(v)}`;if(j>=400&&j<600)throw new eo({message:P,status:j})}}catch(v){if(v.name==="ApiError")throw v}f+=x;let b=f.match(Sx);for(;b;){const v=b[1];try{const k=new Response(v,{headers:r==null?void 0:r.headers,status:r==null?void 0:r.status,statusText:r==null?void 0:r.statusText});yield yield et(new _c(k)),f=f.slice(b[0].length),b=f.match(Sx)}catch(k){throw new Error(`exception parsing stream chunk ${v}. ${k}`)}}}}finally{d.releaseLock()}})}async apiCall(r,s){return fetch(r,s).catch(l=>{throw new Error(`exception ${l} sending request`)})}getDefaultHeaders(){const r={},s=U1+" "+this.clientOptions.userAgentExtra;return r[L1]=s,r[Lc]=s,r[I1]="application/json",r}async getHeadersInternal(r,s){const l=new Headers;if(r&&r.headers){for(const[d,u]of Object.entries(r.headers))l.append(d,u);r.timeout&&r.timeout>0&&l.append(P1,String(Math.ceil(r.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(l,s),l}getFileName(r){var s;let l="";return typeof r=="string"&&(l=r.replace(/[/\\]+$/,""),l=(s=l.split(/[/\\]/).pop())!==null&&s!==void 0?s:""),l}async uploadFile(r,s){var l;const d={};s!=null&&(d.mimeType=s.mimeType,d.name=s.name,d.displayName=s.displayName),d.name&&!d.name.startsWith("files/")&&(d.name=`files/${d.name}`);const u=this.clientOptions.uploader,f=await u.stat(r);d.sizeBytes=String(f.size);const p=(l=s==null?void 0:s.mimeType)!==null&&l!==void 0?l:f.type;if(p===void 0||p==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");d.mimeType=p;const y={file:d},x=this.getFileName(r),b=xe("upload/v1beta/files",y._url),v=await this.fetchUploadUrl(b,d.sizeBytes,d.mimeType,x,y,s==null?void 0:s.httpOptions);return u.upload(r,v,this)}async uploadFileToFileSearchStore(r,s,l){var d;const u=this.clientOptions.uploader,f=await u.stat(s),p=String(f.size),y=(d=l==null?void 0:l.mimeType)!==null&&d!==void 0?d:f.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const x=`upload/v1beta/${r}:uploadToFileSearchStore`,b=this.getFileName(s),v={};l!=null&&l.customMetadata&&(v.customMetadata=l.customMetadata),l!=null&&l.chunkingConfig&&(v.chunkingConfig=l.chunkingConfig);const k=await this.fetchUploadUrl(x,p,y,b,v,l==null?void 0:l.httpOptions);return u.uploadToFileSearchStore(s,k,this)}async downloadFile(r){await this.clientOptions.downloader.download(r,this)}async fetchUploadUrl(r,s,l,d,u,f){var p;let y={};f?y=f:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${s}`,"X-Goog-Upload-Header-Content-Type":`${l}`},d?{"X-Goog-Upload-File-Name":d}:{})};const x=await this.request({path:r,body:JSON.stringify(u),httpMethod:"POST",httpOptions:y});if(!x||!(x!=null&&x.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const b=(p=x==null?void 0:x.headers)===null||p===void 0?void 0:p["x-goog-upload-url"];if(b===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return b}}async function Tx(n){var r;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const s=n.status;let l;!((r=n.headers.get("content-type"))===null||r===void 0)&&r.includes("application/json")?l=await n.json():l={error:{message:await n.text(),code:n.status,status:n.statusText}};const d=JSON.stringify(l);throw s>=400&&s<600?new eo({message:d,status:s}):new Error(d)}}function F1(n,r){if(!r||Object.keys(r).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let s={};if(typeof n.body=="string"&&n.body.length>0)try{const u=JSON.parse(n.body);if(typeof u=="object"&&u!==null&&!Array.isArray(u))s=u;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function l(u,f){const p=Object.assign({},u);for(const y in f)if(Object.prototype.hasOwnProperty.call(f,y)){const x=f[y],b=p[y];x&&typeof x=="object"&&!Array.isArray(x)&&b&&typeof b=="object"&&!Array.isArray(b)?p[y]=l(b,x):(b&&x&&typeof b!=typeof x&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof b}, New type: ${typeof x}. Overwriting.`),p[y]=x)}return p}const d=l(s,r);n.body=JSON.stringify(d)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const B1="mcp_used/unknown";let z1=!1;function Rg(n){for(const r of n)if(G1(r)||typeof r=="object"&&"inputSchema"in r)return!0;return z1}function Ig(n){var r;const s=(r=n[Lc])!==null&&r!==void 0?r:"";n[Lc]=(s+` ${B1}`).trimStart()}function G1(n){return n!==null&&typeof n=="object"&&n instanceof au}function O1(n,r=100){return ds(this,arguments,function*(){let l,d=0;for(;d<r;){const u=yield et(n.listTools({cursor:l}));for(const f of u.tools)yield yield et(f),d++;if(!u.nextCursor)break;l=u.nextCursor}})}class au{constructor(r=[],s){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=r,this.config=s}static create(r,s){return new au(r,s)}async initialize(){var r,s,l,d;if(this.mcpTools.length>0)return;const u={},f=[];for(const b of this.mcpClients)try{for(var p=!0,y=(s=void 0,bi(O1(b))),x;x=await y.next(),r=x.done,!r;p=!0){d=x.value,p=!1;const v=d;f.push(v);const k=v.name;if(u[k])throw new Error(`Duplicate function name ${k} found in MCP tools. Please ensure function names are unique.`);u[k]=b}}catch(v){s={error:v}}finally{try{!p&&!r&&(l=y.return)&&await l.call(y)}finally{if(s)throw s.error}}this.mcpTools=f,this.functionNameToMcpClient=u}async tool(){return await this.initialize(),U0(this.mcpTools,this.config)}async callTool(r){await this.initialize();const s=[];for(const l of r)if(l.name in this.functionNameToMcpClient){const d=this.functionNameToMcpClient[l.name];let u;this.config.timeout&&(u={timeout:this.config.timeout});const f=await d.callTool({name:l.name,arguments:l.args},void 0,u);s.push({functionResponse:{name:l.name,response:f.isError?{error:f}:f}})}return s}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Y1(n,r,s){const l=new A0;let d;s.data instanceof Blob?d=JSON.parse(await s.data.text()):d=JSON.parse(s.data),Object.assign(l,d),r(l)}class J1{constructor(r,s,l){this.apiClient=r,this.auth=s,this.webSocketFactory=l}async connect(r){var s,l;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const d=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion(),f=$1(this.apiClient.getDefaultHeaders()),p=this.apiClient.getApiKey(),y=`${d}/ws/google.ai.generativelanguage.${u}.GenerativeService.BidiGenerateMusic?key=${p}`;let x=()=>{};const b=new Promise(D=>{x=D}),v=r.callbacks,k=function(){x({})},w=this.apiClient,j={onopen:k,onmessage:D=>{Y1(w,v.onmessage,D)},onerror:(s=v==null?void 0:v.onerror)!==null&&s!==void 0?s:function(D){},onclose:(l=v==null?void 0:v.onclose)!==null&&l!==void 0?l:function(D){}},P=this.webSocketFactory.create(y,K1(f),j);P.connect(),await b;const U={setup:{model:Ue(this.apiClient,r.model)}};return P.send(JSON.stringify(U)),new W1(P,this.apiClient)}}class W1{constructor(r,s){this.conn=r,this.apiClient=s}async setWeightedPrompts(r){if(!r.weightedPrompts||Object.keys(r.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const s=PN(r);this.conn.send(JSON.stringify({clientContent:s}))}async setMusicGenerationConfig(r){r.musicGenerationConfig||(r.musicGenerationConfig={});const s=IN(r);this.conn.send(JSON.stringify(s))}sendPlaybackControl(r){const s={playbackControl:r};this.conn.send(JSON.stringify(s))}play(){this.sendPlaybackControl(is.PLAY)}pause(){this.sendPlaybackControl(is.PAUSE)}stop(){this.sendPlaybackControl(is.STOP)}resetContext(){this.sendPlaybackControl(is.RESET_CONTEXT)}close(){this.conn.close()}}function K1(n){const r={};return n.forEach((s,l)=>{r[l]=s}),r}function $1(n){const r=new Headers;for(const[s,l]of Object.entries(n))r.append(s,l);return r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const X1="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Q1(n,r,s){const l=new E0;let d;s.data instanceof Blob?d=await s.data.text():s.data instanceof ArrayBuffer?d=new TextDecoder().decode(s.data):d=s.data;const u=JSON.parse(d);if(n.isVertexAI()){const f=UN(u);Object.assign(l,f)}else Object.assign(l,u);r(l)}class Z1{constructor(r,s,l){this.apiClient=r,this.auth=s,this.webSocketFactory=l,this.music=new J1(this.apiClient,this.auth,this.webSocketFactory)}async connect(r){var s,l,d,u,f,p;if(r.config&&r.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),x=this.apiClient.getApiVersion();let b;const v=this.apiClient.getHeaders();r.config&&r.config.tools&&Rg(r.config.tools)&&Ig(v);const k=nw(v);if(this.apiClient.isVertexAI())b=`${y}/ws/google.cloud.aiplatform.${x}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(k,b);else{const F=this.apiClient.getApiKey();let z="BidiGenerateContent",re="key";F!=null&&F.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),x!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),z="BidiGenerateContentConstrained",re="access_token"),b=`${y}/ws/google.ai.generativelanguage.${x}.GenerativeService.${z}?${re}=${F}`}let w=()=>{};const j=new Promise(F=>{w=F}),P=r.callbacks,V=function(){var F;(F=P==null?void 0:P.onopen)===null||F===void 0||F.call(P),w({})},$=this.apiClient,U={onopen:V,onmessage:F=>{Q1($,P.onmessage,F)},onerror:(s=P==null?void 0:P.onerror)!==null&&s!==void 0?s:function(F){},onclose:(l=P==null?void 0:P.onclose)!==null&&l!==void 0?l:function(F){}},D=this.webSocketFactory.create(b,rw(k),U);D.connect(),await j;let A=Ue(this.apiClient,r.model);if(this.apiClient.isVertexAI()&&A.startsWith("publishers/")){const F=this.apiClient.getProject(),z=this.apiClient.getLocation();A=`projects/${F}/locations/${z}/`+A}let I={};this.apiClient.isVertexAI()&&((d=r.config)===null||d===void 0?void 0:d.responseModalities)===void 0&&(r.config===void 0?r.config={responseModalities:[Ti.AUDIO]}:r.config.responseModalities=[Ti.AUDIO]),!((u=r.config)===null||u===void 0)&&u.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const q=(p=(f=r.config)===null||f===void 0?void 0:f.tools)!==null&&p!==void 0?p:[],M=[];for(const F of q)if(this.isCallableTool(F)){const z=F;M.push(await z.tool())}else M.push(F);M.length>0&&(r.config.tools=M);const ee={model:A,config:r.config,callbacks:r.callbacks};return this.apiClient.isVertexAI()?I=RN(this.apiClient,ee):I=MN(this.apiClient,ee),delete I.config,D.send(JSON.stringify(I)),new tw(D,this.apiClient)}isCallableTool(r){return"callTool"in r&&typeof r.callTool=="function"}}const ew={turnComplete:!0};class tw{constructor(r,s){this.conn=r,this.apiClient=s}tLiveClientContent(r,s){if(s.turns!==null&&s.turns!==void 0){let l=[];try{l=mr(s.turns),r.isVertexAI()||(l=l.map(d=>to(d)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof s.turns}'`)}return{clientContent:{turns:l,turnComplete:s.turnComplete}}}return{clientContent:{turnComplete:s.turnComplete}}}tLiveClienttToolResponse(r,s){let l=[];if(s.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(s.functionResponses)?l=s.functionResponses:l=[s.functionResponses],l.length===0)throw new Error("functionResponses is required.");for(const u of l){if(typeof u!="object"||u===null||!("name"in u)||!("response"in u))throw new Error(`Could not parse function response, type '${typeof u}'.`);if(!r.isVertexAI()&&!("id"in u))throw new Error(X1)}return{toolResponse:{functionResponses:l}}}sendClientContent(r){r=Object.assign(Object.assign({},ew),r);const s=this.tLiveClientContent(this.apiClient,r);this.conn.send(JSON.stringify(s))}sendRealtimeInput(r){let s={};this.apiClient.isVertexAI()?s={realtimeInput:DN(r)}:s={realtimeInput:LN(r)},this.conn.send(JSON.stringify(s))}sendToolResponse(r){if(r.functionResponses==null)throw new Error("Tool response parameters are required.");const s=this.tLiveClienttToolResponse(this.apiClient,r);this.conn.send(JSON.stringify(s))}close(){this.conn.close()}}function rw(n){const r={};return n.forEach((s,l)=>{r[l]=s}),r}function nw(n){const r=new Headers;for(const[s,l]of Object.entries(n))r.append(s,l);return r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jx=10;function Cx(n){var r,s,l;if(!((r=n==null?void 0:n.automaticFunctionCalling)===null||r===void 0)&&r.disable)return!0;let d=!1;for(const f of(s=n==null?void 0:n.tools)!==null&&s!==void 0?s:[])if(cs(f)){d=!0;break}if(!d)return!0;const u=(l=n==null?void 0:n.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls;return u&&(u<0||!Number.isInteger(u))||u==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",u),!0):!1}function cs(n){return"callTool"in n&&typeof n.callTool=="function"}function aw(n){var r,s,l;return(l=(s=(r=n.config)===null||r===void 0?void 0:r.tools)===null||s===void 0?void 0:s.some(d=>cs(d)))!==null&&l!==void 0?l:!1}function Ex(n){var r;const s=[];return!((r=n==null?void 0:n.config)===null||r===void 0)&&r.tools&&n.config.tools.forEach((l,d)=>{if(cs(l))return;const u=l;u.functionDeclarations&&u.functionDeclarations.length>0&&s.push(d)}),s}function Ax(n){var r;return!(!((r=n==null?void 0:n.automaticFunctionCalling)===null||r===void 0)&&r.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sw extends ln{constructor(r){super(),this.apiClient=r,this.generateContent=async s=>{var l,d,u,f,p;const y=await this.processParamsMaybeAddMcpUsage(s);if(this.maybeMoveToResponseJsonSchem(s),!aw(s)||Cx(s.config))return await this.generateContentInternal(y);const x=Ex(s);if(x.length>0){const P=x.map(V=>`tools[${V}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${P}.`)}let b,v;const k=mr(y.contents),w=(u=(d=(l=y.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||d===void 0?void 0:d.maximumRemoteCalls)!==null&&u!==void 0?u:jx;let j=0;for(;j<w&&(b=await this.generateContentInternal(y),!(!b.functionCalls||b.functionCalls.length===0));){const P=b.candidates[0].content,V=[];for(const $ of(p=(f=s.config)===null||f===void 0?void 0:f.tools)!==null&&p!==void 0?p:[])if(cs($)){const D=await $.callTool(b.functionCalls);V.push(...D)}j++,v={role:"user",parts:V},y.contents=mr(y.contents),y.contents.push(P),y.contents.push(v),Ax(y.config)&&(k.push(P),k.push(v))}return Ax(y.config)&&(b.automaticFunctionCallingHistory=k),b},this.generateContentStream=async s=>{var l,d,u,f,p;if(this.maybeMoveToResponseJsonSchem(s),Cx(s.config)){const v=await this.processParamsMaybeAddMcpUsage(s);return await this.generateContentStreamInternal(v)}const y=Ex(s);if(y.length>0){const v=y.map(k=>`tools[${k}]`).join(", ");throw new Error(`Incompatible tools found at ${v}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const x=(u=(d=(l=s==null?void 0:s.config)===null||l===void 0?void 0:l.toolConfig)===null||d===void 0?void 0:d.functionCallingConfig)===null||u===void 0?void 0:u.streamFunctionCallArguments,b=(p=(f=s==null?void 0:s.config)===null||f===void 0?void 0:f.automaticFunctionCalling)===null||p===void 0?void 0:p.disable;if(x&&!b)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(s)},this.generateImages=async s=>await this.generateImagesInternal(s).then(l=>{var d;let u;const f=[];if(l!=null&&l.generatedImages)for(const y of l.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((d=y==null?void 0:y.safetyAttributes)===null||d===void 0?void 0:d.contentType)==="Positive Prompt"?u=y==null?void 0:y.safetyAttributes:f.push(y);let p;return u?p={generatedImages:f,positivePromptSafetyAttributes:u,sdkHttpResponse:l.sdkHttpResponse}:p={generatedImages:f,sdkHttpResponse:l.sdkHttpResponse},p}),this.list=async s=>{var l;const f={config:Object.assign(Object.assign({},{queryBase:!0}),s==null?void 0:s.config)};if(this.apiClient.isVertexAI()&&!f.config.queryBase){if(!((l=f.config)===null||l===void 0)&&l.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");f.config.filter="labels.tune-type:*"}return new ha(sn.PAGED_ITEM_MODELS,p=>this.listInternal(p),await this.listInternal(f),f)},this.editImage=async s=>{const l={model:s.model,prompt:s.prompt,referenceImages:[],config:s.config};return s.referenceImages&&s.referenceImages&&(l.referenceImages=s.referenceImages.map(d=>d.toReferenceImageAPI())),await this.editImageInternal(l)},this.upscaleImage=async s=>{let l={numberOfImages:1,mode:"upscale"};s.config&&(l=Object.assign(Object.assign({},l),s.config));const d={model:s.model,image:s.image,upscaleFactor:s.upscaleFactor,config:l};return await this.upscaleImageInternal(d)},this.generateVideos=async s=>{var l,d,u,f,p,y;if((s.prompt||s.image||s.video)&&s.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((l=s.video)===null||l===void 0)&&l.uri&&(!((d=s.video)===null||d===void 0)&&d.videoBytes)?s.video={uri:s.video.uri,mimeType:s.video.mimeType}:!((f=(u=s.source)===null||u===void 0?void 0:u.video)===null||f===void 0)&&f.uri&&(!((y=(p=s.source)===null||p===void 0?void 0:p.video)===null||y===void 0)&&y.videoBytes)&&(s.source.video={uri:s.source.video.uri,mimeType:s.source.video.mimeType})),await this.generateVideosInternal(s)}}maybeMoveToResponseJsonSchem(r){r.config&&r.config.responseSchema&&(r.config.responseJsonSchema||Object.keys(r.config.responseSchema).includes("$schema")&&(r.config.responseJsonSchema=r.config.responseSchema,delete r.config.responseSchema))}async processParamsMaybeAddMcpUsage(r){var s,l,d;const u=(s=r.config)===null||s===void 0?void 0:s.tools;if(!u)return r;const f=await Promise.all(u.map(async y=>cs(y)?await y.tool():y)),p={model:r.model,contents:r.contents,config:Object.assign(Object.assign({},r.config),{tools:f})};if(p.config.tools=f,r.config&&r.config.tools&&Rg(r.config.tools)){const y=(d=(l=r.config.httpOptions)===null||l===void 0?void 0:l.headers)!==null&&d!==void 0?d:{};let x=Object.assign({},y);Object.keys(x).length===0&&(x=this.apiClient.getDefaultHeaders()),Ig(x),p.config.httpOptions=Object.assign(Object.assign({},r.config.httpOptions),{headers:x})}return p}async initAfcToolsMap(r){var s,l,d;const u=new Map;for(const f of(l=(s=r.config)===null||s===void 0?void 0:s.tools)!==null&&l!==void 0?l:[])if(cs(f)){const p=f,y=await p.tool();for(const x of(d=y.functionDeclarations)!==null&&d!==void 0?d:[]){if(!x.name)throw new Error("Function declaration name is required.");if(u.has(x.name))throw new Error(`Duplicate tool declaration name: ${x.name}`);u.set(x.name,p)}}return u}async processAfcStream(r){var s,l,d;const u=(d=(l=(s=r.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls)!==null&&d!==void 0?d:jx;let f=!1,p=0;const y=await this.initAfcToolsMap(r);return(function(x,b,v){var k,w;return ds(this,arguments,function*(){for(var j,P,V,$;p<u;){f&&(p++,f=!1);const I=yield et(x.processParamsMaybeAddMcpUsage(v)),q=yield et(x.generateContentStreamInternal(I)),M=[],ee=[];try{for(var U=!0,D=(P=void 0,bi(q)),A;A=yield et(D.next()),j=A.done,!j;U=!0){$=A.value,U=!1;const F=$;if(yield yield et(F),F.candidates&&(!((k=F.candidates[0])===null||k===void 0)&&k.content)){ee.push(F.candidates[0].content);for(const z of(w=F.candidates[0].content.parts)!==null&&w!==void 0?w:[])if(p<u&&z.functionCall){if(!z.functionCall.name)throw new Error("Function call name was not returned by the model.");if(b.has(z.functionCall.name)){const re=yield et(b.get(z.functionCall.name).callTool([z.functionCall]));M.push(...re)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${b.keys()}, mising tool: ${z.functionCall.name}`)}}}}catch(F){P={error:F}}finally{try{!U&&!j&&(V=D.return)&&(yield et(V.call(D)))}finally{if(P)throw P.error}}if(M.length>0){f=!0;const F=new hi;F.candidates=[{content:{role:"user",parts:M}}],yield yield et(F);const z=[];z.push(...ee),z.push({role:"user",parts:M});const re=mr(v.contents).concat(z);v.contents=re}else break}})})(this,y,r)}async generateContentInternal(r){var s,l,d,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const x=kx(this.apiClient,r);return p=xe("{model}:generateContent",x._url),y=x._query,delete x._url,delete x._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(s=r.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=r.config)===null||l===void 0?void 0:l.abortSignal}).then(b=>b.json().then(v=>{const k=v;return k.sdkHttpResponse={headers:b.headers},k})),f.then(b=>{const v=wx(b),k=new hi;return Object.assign(k,v),k})}else{const x=vx(this.apiClient,r);return p=xe("{model}:generateContent",x._url),y=x._query,delete x._url,delete x._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(d=r.config)===null||d===void 0?void 0:d.httpOptions,abortSignal:(u=r.config)===null||u===void 0?void 0:u.abortSignal}).then(b=>b.json().then(v=>{const k=v;return k.sdkHttpResponse={headers:b.headers},k})),f.then(b=>{const v=Nx(b),k=new hi;return Object.assign(k,v),k})}}async generateContentStreamInternal(r){var s,l,d,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const x=kx(this.apiClient,r);return p=xe("{model}:streamGenerateContent?alt=sse",x._url),y=x._query,delete x._url,delete x._query,f=this.apiClient.requestStream({path:p,queryParams:y,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(s=r.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=r.config)===null||l===void 0?void 0:l.abortSignal}),f.then(function(v){return ds(this,arguments,function*(){var k,w,j,P;try{for(var V=!0,$=bi(v),U;U=yield et($.next()),k=U.done,!k;V=!0){P=U.value,V=!1;const D=P,A=wx(yield et(D.json()));A.sdkHttpResponse={headers:D.headers};const I=new hi;Object.assign(I,A),yield yield et(I)}}catch(D){w={error:D}}finally{try{!V&&!k&&(j=$.return)&&(yield et(j.call($)))}finally{if(w)throw w.error}}})})}else{const x=vx(this.apiClient,r);return p=xe("{model}:streamGenerateContent?alt=sse",x._url),y=x._query,delete x._url,delete x._query,f=this.apiClient.requestStream({path:p,queryParams:y,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(d=r.config)===null||d===void 0?void 0:d.httpOptions,abortSignal:(u=r.config)===null||u===void 0?void 0:u.abortSignal}),f.then(function(v){return ds(this,arguments,function*(){var k,w,j,P;try{for(var V=!0,$=bi(v),U;U=yield et($.next()),k=U.done,!k;V=!0){P=U.value,V=!1;const D=P,A=Nx(yield et(D.json()));A.sdkHttpResponse={headers:D.headers};const I=new hi;Object.assign(I,A),yield yield et(I)}}catch(D){w={error:D}}finally{try{!V&&!k&&(j=$.return)&&(yield et(j.call($)))}finally{if(w)throw w.error}}})})}}async embedContent(r){var s,l,d,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const x=f2(this.apiClient,r);return p=xe("{model}:predict",x._url),y=x._query,delete x._url,delete x._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(s=r.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=r.config)===null||l===void 0?void 0:l.abortSignal}).then(b=>b.json().then(v=>{const k=v;return k.sdkHttpResponse={headers:b.headers},k})),f.then(b=>{const v=p2(b),k=new ax;return Object.assign(k,v),k})}else{const x=m2(this.apiClient,r);return p=xe("{model}:batchEmbedContents",x._url),y=x._query,delete x._url,delete x._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(d=r.config)===null||d===void 0?void 0:d.httpOptions,abortSignal:(u=r.config)===null||u===void 0?void 0:u.abortSignal}).then(b=>b.json().then(v=>{const k=v;return k.sdkHttpResponse={headers:b.headers},k})),f.then(b=>{const v=h2(b),k=new ax;return Object.assign(k,v),k})}}async generateImagesInternal(r){var s,l,d,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const x=j2(this.apiClient,r);return p=xe("{model}:predict",x._url),y=x._query,delete x._url,delete x._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(s=r.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=r.config)===null||l===void 0?void 0:l.abortSignal}).then(b=>b.json().then(v=>{const k=v;return k.sdkHttpResponse={headers:b.headers},k})),f.then(b=>{const v=E2(b),k=new sx;return Object.assign(k,v),k})}else{const x=T2(this.apiClient,r);return p=xe("{model}:predict",x._url),y=x._query,delete x._url,delete x._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(d=r.config)===null||d===void 0?void 0:d.httpOptions,abortSignal:(u=r.config)===null||u===void 0?void 0:u.abortSignal}).then(b=>b.json().then(v=>{const k=v;return k.sdkHttpResponse={headers:b.headers},k})),f.then(b=>{const v=C2(b),k=new sx;return Object.assign(k,v),k})}}async editImageInternal(r){var s,l;let d,u="",f={};if(this.apiClient.isVertexAI()){const p=o2(this.apiClient,r);return u=xe("{model}:predict",p._url),f=p._query,delete p._url,delete p._query,d=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=r.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=r.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:y.headers},b})),d.then(y=>{const x=d2(y),b=new g0;return Object.assign(b,x),b})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(r){var s,l;let d,u="",f={};if(this.apiClient.isVertexAI()){const p=j1(this.apiClient,r);return u=xe("{model}:predict",p._url),f=p._query,delete p._url,delete p._query,d=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=r.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=r.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:y.headers},b})),d.then(y=>{const x=C1(y),b=new y0;return Object.assign(b,x),b})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(r){var s,l;let d,u="",f={};if(this.apiClient.isVertexAI()){const p=l1(this.apiClient,r);return u=xe("{model}:predict",p._url),f=p._query,delete p._url,delete p._query,d=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=r.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=r.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),d.then(y=>{const x=o1(y),b=new b0;return Object.assign(b,x),b})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(r){var s,l;let d,u="",f={};if(this.apiClient.isVertexAI()){const p=h1(this.apiClient,r);return u=xe("{model}:predict",p._url),f=p._query,delete p._url,delete p._query,d=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=r.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=r.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),d.then(y=>{const x=p1(y),b=new v0;return Object.assign(b,x),b})}else throw new Error("This method is only supported by the Vertex AI.")}async get(r){var s,l,d,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const x=O2(this.apiClient,r);return p=xe("{name}",x._url),y=x._query,delete x._url,delete x._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(s=r.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=r.config)===null||l===void 0?void 0:l.abortSignal}).then(b=>b.json()),f.then(b=>Pc(b))}else{const x=G2(this.apiClient,r);return p=xe("{name}",x._url),y=x._query,delete x._url,delete x._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(d=r.config)===null||d===void 0?void 0:d.httpOptions,abortSignal:(u=r.config)===null||u===void 0?void 0:u.abortSignal}).then(b=>b.json()),f.then(b=>Ic(b))}}async listInternal(r){var s,l,d,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const x=e1(this.apiClient,r);return p=xe("{models_url}",x._url),y=x._query,delete x._url,delete x._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(s=r.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=r.config)===null||l===void 0?void 0:l.abortSignal}).then(b=>b.json().then(v=>{const k=v;return k.sdkHttpResponse={headers:b.headers},k})),f.then(b=>{const v=r1(b),k=new ix;return Object.assign(k,v),k})}else{const x=Z2(this.apiClient,r);return p=xe("{models_url}",x._url),y=x._query,delete x._url,delete x._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(d=r.config)===null||d===void 0?void 0:d.httpOptions,abortSignal:(u=r.config)===null||u===void 0?void 0:u.abortSignal}).then(b=>b.json().then(v=>{const k=v;return k.sdkHttpResponse={headers:b.headers},k})),f.then(b=>{const v=t1(b),k=new ix;return Object.assign(k,v),k})}}async update(r){var s,l,d,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const x=S1(this.apiClient,r);return p=xe("{model}",x._url),y=x._query,delete x._url,delete x._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(x),httpMethod:"PATCH",httpOptions:(s=r.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=r.config)===null||l===void 0?void 0:l.abortSignal}).then(b=>b.json()),f.then(b=>Pc(b))}else{const x=w1(this.apiClient,r);return p=xe("{name}",x._url),y=x._query,delete x._url,delete x._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(x),httpMethod:"PATCH",httpOptions:(d=r.config)===null||d===void 0?void 0:d.httpOptions,abortSignal:(u=r.config)===null||u===void 0?void 0:u.abortSignal}).then(b=>b.json()),f.then(b=>Ic(b))}}async delete(r){var s,l,d,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const x=a2(this.apiClient,r);return p=xe("{name}",x._url),y=x._query,delete x._url,delete x._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(x),httpMethod:"DELETE",httpOptions:(s=r.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=r.config)===null||l===void 0?void 0:l.abortSignal}).then(b=>b.json().then(v=>{const k=v;return k.sdkHttpResponse={headers:b.headers},k})),f.then(b=>{const v=i2(b),k=new lx;return Object.assign(k,v),k})}else{const x=n2(this.apiClient,r);return p=xe("{name}",x._url),y=x._query,delete x._url,delete x._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(x),httpMethod:"DELETE",httpOptions:(d=r.config)===null||d===void 0?void 0:d.httpOptions,abortSignal:(u=r.config)===null||u===void 0?void 0:u.abortSignal}).then(b=>b.json().then(v=>{const k=v;return k.sdkHttpResponse={headers:b.headers},k})),f.then(b=>{const v=s2(b),k=new lx;return Object.assign(k,v),k})}}async countTokens(r){var s,l,d,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const x=e2(this.apiClient,r);return p=xe("{model}:countTokens",x._url),y=x._query,delete x._url,delete x._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(s=r.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=r.config)===null||l===void 0?void 0:l.abortSignal}).then(b=>b.json().then(v=>{const k=v;return k.sdkHttpResponse={headers:b.headers},k})),f.then(b=>{const v=r2(b),k=new ox;return Object.assign(k,v),k})}else{const x=ZN(this.apiClient,r);return p=xe("{model}:countTokens",x._url),y=x._query,delete x._url,delete x._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(d=r.config)===null||d===void 0?void 0:d.httpOptions,abortSignal:(u=r.config)===null||u===void 0?void 0:u.abortSignal}).then(b=>b.json().then(v=>{const k=v;return k.sdkHttpResponse={headers:b.headers},k})),f.then(b=>{const v=t2(b),k=new ox;return Object.assign(k,v),k})}}async computeTokens(r){var s,l;let d,u="",f={};if(this.apiClient.isVertexAI()){const p=YN(this.apiClient,r);return u=xe("{model}:computeTokens",p._url),f=p._query,delete p._url,delete p._query,d=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=r.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=r.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:y.headers},b})),d.then(y=>{const x=JN(y),b=new k0;return Object.assign(b,x),b})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(r){var s,l,d,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const x=P2(this.apiClient,r);return p=xe("{model}:predictLongRunning",x._url),y=x._query,delete x._url,delete x._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(s=r.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=r.config)===null||l===void 0?void 0:l.abortSignal}).then(b=>b.json()),f.then(b=>{const v=R2(b),k=new Jl;return Object.assign(k,v),k})}else{const x=I2(this.apiClient,r);return p=xe("{model}:predictLongRunning",x._url),y=x._query,delete x._url,delete x._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(d=r.config)===null||d===void 0?void 0:d.httpOptions,abortSignal:(u=r.config)===null||u===void 0?void 0:u.abortSignal}).then(b=>b.json()),f.then(b=>{const v=M2(b),k=new Jl;return Object.assign(k,v),k})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class iw extends ln{constructor(r){super(),this.apiClient=r}async getVideosOperation(r){const s=r.operation,l=r.config;if(s.name===void 0||s.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const d=s.name.split("/operations/")[0];let u;l&&"httpOptions"in l&&(u=l.httpOptions);const f=await this.fetchPredictVideosOperationInternal({operationName:s.name,resourceName:d,config:{httpOptions:u}});return s._fromAPIResponse({apiResponse:f,_isVertexAI:!0})}else{const d=await this.getVideosOperationInternal({operationName:s.name,config:l});return s._fromAPIResponse({apiResponse:d,_isVertexAI:!1})}}async get(r){const s=r.operation,l=r.config;if(s.name===void 0||s.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const d=s.name.split("/operations/")[0];let u;l&&"httpOptions"in l&&(u=l.httpOptions);const f=await this.fetchPredictVideosOperationInternal({operationName:s.name,resourceName:d,config:{httpOptions:u}});return s._fromAPIResponse({apiResponse:f,_isVertexAI:!0})}else{const d=await this.getVideosOperationInternal({operationName:s.name,config:l});return s._fromAPIResponse({apiResponse:d,_isVertexAI:!1})}}async getVideosOperationInternal(r){var s,l,d,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const x=u0(r);return p=xe("{operationName}",x._url),y=x._query,delete x._url,delete x._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(s=r.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=r.config)===null||l===void 0?void 0:l.abortSignal}).then(b=>b.json()),f}else{const x=c0(r);return p=xe("{operationName}",x._url),y=x._query,delete x._url,delete x._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(d=r.config)===null||d===void 0?void 0:d.httpOptions,abortSignal:(u=r.config)===null||u===void 0?void 0:u.abortSignal}).then(b=>b.json()),f}}async fetchPredictVideosOperationInternal(r){var s,l;let d,u="",f={};if(this.apiClient.isVertexAI()){const p=n0(r);return u=xe("{resourceName}:fetchPredictOperation",p._url),f=p._query,delete p._url,delete p._query,d=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=r.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=r.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),d}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lw(n){const r={},s=c(n,["data"]);if(s!=null&&m(r,["data"],s),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=c(n,["mimeType"]);return l!=null&&m(r,["mimeType"],l),r}function ow(n){const r={},s=c(n,["parts"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(u=>gw(u))),m(r,["parts"],d)}const l=c(n,["role"]);return l!=null&&m(r,["role"],l),r}function dw(n,r,s){const l={},d=c(r,["expireTime"]);s!==void 0&&d!=null&&m(s,["expireTime"],d);const u=c(r,["newSessionExpireTime"]);s!==void 0&&u!=null&&m(s,["newSessionExpireTime"],u);const f=c(r,["uses"]);s!==void 0&&f!=null&&m(s,["uses"],f);const p=c(r,["liveConnectConstraints"]);s!==void 0&&p!=null&&m(s,["bidiGenerateContentSetup"],xw(n,p));const y=c(r,["lockAdditionalFields"]);return s!==void 0&&y!=null&&m(s,["fieldMask"],y),l}function cw(n,r){const s={},l=c(r,["config"]);return l!=null&&m(s,["config"],dw(n,l,s)),s}function uw(n){const r={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(n,["fileUri"]);s!=null&&m(r,["fileUri"],s);const l=c(n,["mimeType"]);return l!=null&&m(r,["mimeType"],l),r}function mw(n){const r={},s=c(n,["id"]);s!=null&&m(r,["id"],s);const l=c(n,["args"]);l!=null&&m(r,["args"],l);const d=c(n,["name"]);if(d!=null&&m(r,["name"],d),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return r}function fw(n){const r={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const s=c(n,["enableWidget"]);return s!=null&&m(r,["enableWidget"],s),r}function hw(n){const r={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const s=c(n,["timeRangeFilter"]);return s!=null&&m(r,["timeRangeFilter"],s),r}function pw(n,r){const s={},l=c(n,["generationConfig"]);r!==void 0&&l!=null&&m(r,["setup","generationConfig"],l);const d=c(n,["responseModalities"]);r!==void 0&&d!=null&&m(r,["setup","generationConfig","responseModalities"],d);const u=c(n,["temperature"]);r!==void 0&&u!=null&&m(r,["setup","generationConfig","temperature"],u);const f=c(n,["topP"]);r!==void 0&&f!=null&&m(r,["setup","generationConfig","topP"],f);const p=c(n,["topK"]);r!==void 0&&p!=null&&m(r,["setup","generationConfig","topK"],p);const y=c(n,["maxOutputTokens"]);r!==void 0&&y!=null&&m(r,["setup","generationConfig","maxOutputTokens"],y);const x=c(n,["mediaResolution"]);r!==void 0&&x!=null&&m(r,["setup","generationConfig","mediaResolution"],x);const b=c(n,["seed"]);r!==void 0&&b!=null&&m(r,["setup","generationConfig","seed"],b);const v=c(n,["speechConfig"]);r!==void 0&&v!=null&&m(r,["setup","generationConfig","speechConfig"],nu(v));const k=c(n,["thinkingConfig"]);r!==void 0&&k!=null&&m(r,["setup","generationConfig","thinkingConfig"],k);const w=c(n,["enableAffectiveDialog"]);r!==void 0&&w!=null&&m(r,["setup","generationConfig","enableAffectiveDialog"],w);const j=c(n,["systemInstruction"]);r!==void 0&&j!=null&&m(r,["setup","systemInstruction"],ow(jt(j)));const P=c(n,["tools"]);if(r!==void 0&&P!=null){let q=ps(P);Array.isArray(q)&&(q=q.map(M=>bw(hs(M)))),m(r,["setup","tools"],q)}const V=c(n,["sessionResumption"]);r!==void 0&&V!=null&&m(r,["setup","sessionResumption"],yw(V));const $=c(n,["inputAudioTranscription"]);r!==void 0&&$!=null&&m(r,["setup","inputAudioTranscription"],$);const U=c(n,["outputAudioTranscription"]);r!==void 0&&U!=null&&m(r,["setup","outputAudioTranscription"],U);const D=c(n,["realtimeInputConfig"]);r!==void 0&&D!=null&&m(r,["setup","realtimeInputConfig"],D);const A=c(n,["contextWindowCompression"]);r!==void 0&&A!=null&&m(r,["setup","contextWindowCompression"],A);const I=c(n,["proactivity"]);return r!==void 0&&I!=null&&m(r,["setup","proactivity"],I),s}function xw(n,r){const s={},l=c(r,["model"]);l!=null&&m(s,["setup","model"],Ue(n,l));const d=c(r,["config"]);return d!=null&&m(s,["config"],pw(d,s)),s}function gw(n){const r={},s=c(n,["mediaResolution"]);s!=null&&m(r,["mediaResolution"],s);const l=c(n,["codeExecutionResult"]);l!=null&&m(r,["codeExecutionResult"],l);const d=c(n,["executableCode"]);d!=null&&m(r,["executableCode"],d);const u=c(n,["fileData"]);u!=null&&m(r,["fileData"],uw(u));const f=c(n,["functionCall"]);f!=null&&m(r,["functionCall"],mw(f));const p=c(n,["functionResponse"]);p!=null&&m(r,["functionResponse"],p);const y=c(n,["inlineData"]);y!=null&&m(r,["inlineData"],lw(y));const x=c(n,["text"]);x!=null&&m(r,["text"],x);const b=c(n,["thought"]);b!=null&&m(r,["thought"],b);const v=c(n,["thoughtSignature"]);v!=null&&m(r,["thoughtSignature"],v);const k=c(n,["videoMetadata"]);return k!=null&&m(r,["videoMetadata"],k),r}function yw(n){const r={},s=c(n,["handle"]);if(s!=null&&m(r,["handle"],s),c(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return r}function bw(n){const r={},s=c(n,["functionDeclarations"]);if(s!=null){let b=s;Array.isArray(b)&&(b=b.map(v=>v)),m(r,["functionDeclarations"],b)}if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=c(n,["googleSearchRetrieval"]);l!=null&&m(r,["googleSearchRetrieval"],l);const d=c(n,["computerUse"]);d!=null&&m(r,["computerUse"],d);const u=c(n,["fileSearch"]);u!=null&&m(r,["fileSearch"],u);const f=c(n,["codeExecution"]);if(f!=null&&m(r,["codeExecution"],f),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=c(n,["googleMaps"]);p!=null&&m(r,["googleMaps"],fw(p));const y=c(n,["googleSearch"]);y!=null&&m(r,["googleSearch"],hw(y));const x=c(n,["urlContext"]);return x!=null&&m(r,["urlContext"],x),r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vw(n){const r=[];for(const s in n)if(Object.prototype.hasOwnProperty.call(n,s)){const l=n[s];if(typeof l=="object"&&l!=null&&Object.keys(l).length>0){const d=Object.keys(l).map(u=>`${s}.${u}`);r.push(...d)}else r.push(s)}return r.join(",")}function kw(n,r){let s=null;const l=n.bidiGenerateContentSetup;if(typeof l=="object"&&l!==null&&"setup"in l){const u=l.setup;typeof u=="object"&&u!==null?(n.bidiGenerateContentSetup=u,s=u):delete n.bidiGenerateContentSetup}else l!==void 0&&delete n.bidiGenerateContentSetup;const d=n.fieldMask;if(s){const u=vw(s);if(Array.isArray(r==null?void 0:r.lockAdditionalFields)&&(r==null?void 0:r.lockAdditionalFields.length)===0)u?n.fieldMask=u:delete n.fieldMask;else if(r!=null&&r.lockAdditionalFields&&r.lockAdditionalFields.length>0&&d!==null&&Array.isArray(d)&&d.length>0){const f=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let p=[];d.length>0&&(p=d.map(x=>f.includes(x)?`generationConfig.${x}`:x));const y=[];u&&y.push(u),p.length>0&&y.push(...p),y.length>0?n.fieldMask=y.join(","):delete n.fieldMask}else delete n.fieldMask}else d!==null&&Array.isArray(d)&&d.length>0?n.fieldMask=d.join(","):delete n.fieldMask;return n}class Nw extends ln{constructor(r){super(),this.apiClient=r}async create(r){var s,l;let d,u="",f={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const p=cw(this.apiClient,r);u=xe("auth_tokens",p._url),f=p._query,delete p.config,delete p._url,delete p._query;const y=kw(p,r.config);return d=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(s=r.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=r.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),d.then(x=>x)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ww(n,r){const s={},l=c(n,["displayName"]);return r!==void 0&&l!=null&&m(r,["displayName"],l),s}function Sw(n){const r={},s=c(n,["config"]);return s!=null&&ww(s,r),r}function Tw(n,r){const s={},l=c(n,["force"]);return r!==void 0&&l!=null&&m(r,["_query","force"],l),s}function jw(n){const r={},s=c(n,["name"]);s!=null&&m(r,["_url","name"],s);const l=c(n,["config"]);return l!=null&&Tw(l,r),r}function Cw(n){const r={},s=c(n,["name"]);return s!=null&&m(r,["_url","name"],s),r}function Ew(n,r){const s={},l=c(n,["customMetadata"]);if(r!==void 0&&l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>f)),m(r,["customMetadata"],u)}const d=c(n,["chunkingConfig"]);return r!==void 0&&d!=null&&m(r,["chunkingConfig"],d),s}function Aw(n){const r={},s=c(n,["name"]);s!=null&&m(r,["name"],s);const l=c(n,["metadata"]);l!=null&&m(r,["metadata"],l);const d=c(n,["done"]);d!=null&&m(r,["done"],d);const u=c(n,["error"]);u!=null&&m(r,["error"],u);const f=c(n,["response"]);return f!=null&&m(r,["response"],Mw(f)),r}function _w(n){const r={},s=c(n,["fileSearchStoreName"]);s!=null&&m(r,["_url","file_search_store_name"],s);const l=c(n,["fileName"]);l!=null&&m(r,["fileName"],l);const d=c(n,["config"]);return d!=null&&Ew(d,r),r}function Mw(n){const r={},s=c(n,["sdkHttpResponse"]);s!=null&&m(r,["sdkHttpResponse"],s);const l=c(n,["parent"]);l!=null&&m(r,["parent"],l);const d=c(n,["documentName"]);return d!=null&&m(r,["documentName"],d),r}function Rw(n,r){const s={},l=c(n,["pageSize"]);r!==void 0&&l!=null&&m(r,["_query","pageSize"],l);const d=c(n,["pageToken"]);return r!==void 0&&d!=null&&m(r,["_query","pageToken"],d),s}function Iw(n){const r={},s=c(n,["config"]);return s!=null&&Rw(s,r),r}function Pw(n){const r={},s=c(n,["sdkHttpResponse"]);s!=null&&m(r,["sdkHttpResponse"],s);const l=c(n,["nextPageToken"]);l!=null&&m(r,["nextPageToken"],l);const d=c(n,["fileSearchStores"]);if(d!=null){let u=d;Array.isArray(u)&&(u=u.map(f=>f)),m(r,["fileSearchStores"],u)}return r}function Lw(n,r){const s={},l=c(n,["mimeType"]);r!==void 0&&l!=null&&m(r,["mimeType"],l);const d=c(n,["displayName"]);r!==void 0&&d!=null&&m(r,["displayName"],d);const u=c(n,["customMetadata"]);if(r!==void 0&&u!=null){let p=u;Array.isArray(p)&&(p=p.map(y=>y)),m(r,["customMetadata"],p)}const f=c(n,["chunkingConfig"]);return r!==void 0&&f!=null&&m(r,["chunkingConfig"],f),s}function Dw(n){const r={},s=c(n,["fileSearchStoreName"]);s!=null&&m(r,["_url","file_search_store_name"],s);const l=c(n,["config"]);return l!=null&&Lw(l,r),r}function Uw(n){const r={},s=c(n,["sdkHttpResponse"]);return s!=null&&m(r,["sdkHttpResponse"],s),r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qw(n,r){const s={},l=c(n,["force"]);return r!==void 0&&l!=null&&m(r,["_query","force"],l),s}function Vw(n){const r={},s=c(n,["name"]);s!=null&&m(r,["_url","name"],s);const l=c(n,["config"]);return l!=null&&qw(l,r),r}function Hw(n){const r={},s=c(n,["name"]);return s!=null&&m(r,["_url","name"],s),r}function Fw(n,r){const s={},l=c(n,["pageSize"]);r!==void 0&&l!=null&&m(r,["_query","pageSize"],l);const d=c(n,["pageToken"]);return r!==void 0&&d!=null&&m(r,["_query","pageToken"],d),s}function Bw(n){const r={},s=c(n,["parent"]);s!=null&&m(r,["_url","parent"],s);const l=c(n,["config"]);return l!=null&&Fw(l,r),r}function zw(n){const r={},s=c(n,["sdkHttpResponse"]);s!=null&&m(r,["sdkHttpResponse"],s);const l=c(n,["nextPageToken"]);l!=null&&m(r,["nextPageToken"],l);const d=c(n,["documents"]);if(d!=null){let u=d;Array.isArray(u)&&(u=u.map(f=>f)),m(r,["documents"],u)}return r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Gw extends ln{constructor(r){super(),this.apiClient=r,this.list=async s=>new ha(sn.PAGED_ITEM_DOCUMENTS,l=>this.listInternal({parent:s.parent,config:l.config}),await this.listInternal(s),s)}async get(r){var s,l;let d,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=Hw(r);return u=xe("{name}",p._url),f=p._query,delete p._url,delete p._query,d=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(s=r.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=r.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),d.then(y=>y)}}async delete(r){var s,l;let d="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=Vw(r);d=xe("{name}",f._url),u=f._query,delete f._url,delete f._query,await this.apiClient.request({path:d,queryParams:u,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(s=r.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=r.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(r){var s,l;let d,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=Bw(r);return u=xe("{parent}/documents",p._url),f=p._query,delete p._url,delete p._query,d=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(s=r.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=r.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),d.then(y=>{const x=zw(y),b=new N0;return Object.assign(b,x),b})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ow extends ln{constructor(r,s=new Gw(r)){super(),this.apiClient=r,this.documents=s,this.list=async(l={})=>new ha(sn.PAGED_ITEM_FILE_SEARCH_STORES,d=>this.listInternal(d),await this.listInternal(l),l)}async uploadToFileSearchStore(r){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(r.fileSearchStoreName,r.file,r.config)}async create(r){var s,l;let d,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=Sw(r);return u=xe("fileSearchStores",p._url),f=p._query,delete p._url,delete p._query,d=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=r.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=r.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),d.then(y=>y)}}async get(r){var s,l;let d,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=Cw(r);return u=xe("{name}",p._url),f=p._query,delete p._url,delete p._query,d=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(s=r.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=r.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),d.then(y=>y)}}async delete(r){var s,l;let d="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=jw(r);d=xe("{name}",f._url),u=f._query,delete f._url,delete f._query,await this.apiClient.request({path:d,queryParams:u,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(s=r.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=r.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(r){var s,l;let d,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=Iw(r);return u=xe("fileSearchStores",p._url),f=p._query,delete p._url,delete p._query,d=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(s=r.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=r.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),d.then(y=>{const x=Pw(y),b=new w0;return Object.assign(b,x),b})}}async uploadToFileSearchStoreInternal(r){var s,l;let d,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=Dw(r);return u=xe("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",p._url),f=p._query,delete p._url,delete p._query,d=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=r.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=r.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),d.then(y=>{const x=Uw(y),b=new S0;return Object.assign(b,x),b})}}async importFile(r){var s,l;let d,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=_w(r);return u=xe("{file_search_store_name}:importFile",p._url),f=p._query,delete p._url,delete p._query,d=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=r.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=r.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),d.then(y=>{const x=Aw(y),b=new Qc;return Object.assign(b,x),b})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Yw(n,r){const s={},l=c(n,["name"]);return l!=null&&m(s,["_url","name"],l),s}function Jw(n,r){const s={},l=c(n,["name"]);return l!=null&&m(s,["_url","name"],l),s}function Ww(n,r,s){const l={};if(c(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const d=c(n,["tunedModelDisplayName"]);if(r!==void 0&&d!=null&&m(r,["displayName"],d),c(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const u=c(n,["epochCount"]);r!==void 0&&u!=null&&m(r,["tuningTask","hyperparameters","epochCount"],u);const f=c(n,["learningRateMultiplier"]);if(f!=null&&m(l,["tuningTask","hyperparameters","learningRateMultiplier"],f),c(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(c(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(c(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const p=c(n,["batchSize"]);r!==void 0&&p!=null&&m(r,["tuningTask","hyperparameters","batchSize"],p);const y=c(n,["learningRate"]);if(r!==void 0&&y!=null&&m(r,["tuningTask","hyperparameters","learningRate"],y),c(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(c(n,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return l}function Kw(n,r,s){const l={};let d=c(s,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const w=c(n,["validationDataset"]);r!==void 0&&w!=null&&m(r,["supervisedTuningSpec"],_x(w))}else if(d==="PREFERENCE_TUNING"){const w=c(n,["validationDataset"]);r!==void 0&&w!=null&&m(r,["preferenceOptimizationSpec"],_x(w))}const u=c(n,["tunedModelDisplayName"]);r!==void 0&&u!=null&&m(r,["tunedModelDisplayName"],u);const f=c(n,["description"]);r!==void 0&&f!=null&&m(r,["description"],f);let p=c(s,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const w=c(n,["epochCount"]);r!==void 0&&w!=null&&m(r,["supervisedTuningSpec","hyperParameters","epochCount"],w)}else if(p==="PREFERENCE_TUNING"){const w=c(n,["epochCount"]);r!==void 0&&w!=null&&m(r,["preferenceOptimizationSpec","hyperParameters","epochCount"],w)}let y=c(s,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const w=c(n,["learningRateMultiplier"]);r!==void 0&&w!=null&&m(r,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],w)}else if(y==="PREFERENCE_TUNING"){const w=c(n,["learningRateMultiplier"]);r!==void 0&&w!=null&&m(r,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],w)}let x=c(s,["config","method"]);if(x===void 0&&(x="SUPERVISED_FINE_TUNING"),x==="SUPERVISED_FINE_TUNING"){const w=c(n,["exportLastCheckpointOnly"]);r!==void 0&&w!=null&&m(r,["supervisedTuningSpec","exportLastCheckpointOnly"],w)}else if(x==="PREFERENCE_TUNING"){const w=c(n,["exportLastCheckpointOnly"]);r!==void 0&&w!=null&&m(r,["preferenceOptimizationSpec","exportLastCheckpointOnly"],w)}let b=c(s,["config","method"]);if(b===void 0&&(b="SUPERVISED_FINE_TUNING"),b==="SUPERVISED_FINE_TUNING"){const w=c(n,["adapterSize"]);r!==void 0&&w!=null&&m(r,["supervisedTuningSpec","hyperParameters","adapterSize"],w)}else if(b==="PREFERENCE_TUNING"){const w=c(n,["adapterSize"]);r!==void 0&&w!=null&&m(r,["preferenceOptimizationSpec","hyperParameters","adapterSize"],w)}if(c(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(c(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const v=c(n,["labels"]);r!==void 0&&v!=null&&m(r,["labels"],v);const k=c(n,["beta"]);return r!==void 0&&k!=null&&m(r,["preferenceOptimizationSpec","hyperParameters","beta"],k),l}function $w(n,r){const s={},l=c(n,["baseModel"]);l!=null&&m(s,["baseModel"],l);const d=c(n,["preTunedModel"]);d!=null&&m(s,["preTunedModel"],d);const u=c(n,["trainingDataset"]);u!=null&&lS(u);const f=c(n,["config"]);return f!=null&&Ww(f,s),s}function Xw(n,r){const s={},l=c(n,["baseModel"]);l!=null&&m(s,["baseModel"],l);const d=c(n,["preTunedModel"]);d!=null&&m(s,["preTunedModel"],d);const u=c(n,["trainingDataset"]);u!=null&&oS(u,s,r);const f=c(n,["config"]);return f!=null&&Kw(f,s,r),s}function Qw(n,r){const s={},l=c(n,["name"]);return l!=null&&m(s,["_url","name"],l),s}function Zw(n,r){const s={},l=c(n,["name"]);return l!=null&&m(s,["_url","name"],l),s}function eS(n,r,s){const l={},d=c(n,["pageSize"]);r!==void 0&&d!=null&&m(r,["_query","pageSize"],d);const u=c(n,["pageToken"]);r!==void 0&&u!=null&&m(r,["_query","pageToken"],u);const f=c(n,["filter"]);return r!==void 0&&f!=null&&m(r,["_query","filter"],f),l}function tS(n,r,s){const l={},d=c(n,["pageSize"]);r!==void 0&&d!=null&&m(r,["_query","pageSize"],d);const u=c(n,["pageToken"]);r!==void 0&&u!=null&&m(r,["_query","pageToken"],u);const f=c(n,["filter"]);return r!==void 0&&f!=null&&m(r,["_query","filter"],f),l}function rS(n,r){const s={},l=c(n,["config"]);return l!=null&&eS(l,s),s}function nS(n,r){const s={},l=c(n,["config"]);return l!=null&&tS(l,s),s}function aS(n,r){const s={},l=c(n,["sdkHttpResponse"]);l!=null&&m(s,["sdkHttpResponse"],l);const d=c(n,["nextPageToken"]);d!=null&&m(s,["nextPageToken"],d);const u=c(n,["tunedModels"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(p=>Pg(p))),m(s,["tuningJobs"],f)}return s}function sS(n,r){const s={},l=c(n,["sdkHttpResponse"]);l!=null&&m(s,["sdkHttpResponse"],l);const d=c(n,["nextPageToken"]);d!=null&&m(s,["nextPageToken"],d);const u=c(n,["tuningJobs"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(p=>Dc(p))),m(s,["tuningJobs"],f)}return s}function iS(n,r){const s={},l=c(n,["name"]);l!=null&&m(s,["model"],l);const d=c(n,["name"]);return d!=null&&m(s,["endpoint"],d),s}function lS(n,r){const s={};if(c(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const l=c(n,["examples"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(u=>u)),m(s,["examples","examples"],d)}return s}function oS(n,r,s){const l={};let d=c(s,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const f=c(n,["gcsUri"]);r!==void 0&&f!=null&&m(r,["supervisedTuningSpec","trainingDatasetUri"],f)}else if(d==="PREFERENCE_TUNING"){const f=c(n,["gcsUri"]);r!==void 0&&f!=null&&m(r,["preferenceOptimizationSpec","trainingDatasetUri"],f)}let u=c(s,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const f=c(n,["vertexDatasetResource"]);r!==void 0&&f!=null&&m(r,["supervisedTuningSpec","trainingDatasetUri"],f)}else if(u==="PREFERENCE_TUNING"){const f=c(n,["vertexDatasetResource"]);r!==void 0&&f!=null&&m(r,["preferenceOptimizationSpec","trainingDatasetUri"],f)}if(c(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return l}function Pg(n,r){const s={},l=c(n,["sdkHttpResponse"]);l!=null&&m(s,["sdkHttpResponse"],l);const d=c(n,["name"]);d!=null&&m(s,["name"],d);const u=c(n,["state"]);u!=null&&m(s,["state"],pg(u));const f=c(n,["createTime"]);f!=null&&m(s,["createTime"],f);const p=c(n,["tuningTask","startTime"]);p!=null&&m(s,["startTime"],p);const y=c(n,["tuningTask","completeTime"]);y!=null&&m(s,["endTime"],y);const x=c(n,["updateTime"]);x!=null&&m(s,["updateTime"],x);const b=c(n,["description"]);b!=null&&m(s,["description"],b);const v=c(n,["baseModel"]);v!=null&&m(s,["baseModel"],v);const k=c(n,["_self"]);return k!=null&&m(s,["tunedModel"],iS(k)),s}function Dc(n,r){const s={},l=c(n,["sdkHttpResponse"]);l!=null&&m(s,["sdkHttpResponse"],l);const d=c(n,["name"]);d!=null&&m(s,["name"],d);const u=c(n,["state"]);u!=null&&m(s,["state"],pg(u));const f=c(n,["createTime"]);f!=null&&m(s,["createTime"],f);const p=c(n,["startTime"]);p!=null&&m(s,["startTime"],p);const y=c(n,["endTime"]);y!=null&&m(s,["endTime"],y);const x=c(n,["updateTime"]);x!=null&&m(s,["updateTime"],x);const b=c(n,["error"]);b!=null&&m(s,["error"],b);const v=c(n,["description"]);v!=null&&m(s,["description"],v);const k=c(n,["baseModel"]);k!=null&&m(s,["baseModel"],k);const w=c(n,["tunedModel"]);w!=null&&m(s,["tunedModel"],w);const j=c(n,["preTunedModel"]);j!=null&&m(s,["preTunedModel"],j);const P=c(n,["supervisedTuningSpec"]);P!=null&&m(s,["supervisedTuningSpec"],P);const V=c(n,["preferenceOptimizationSpec"]);V!=null&&m(s,["preferenceOptimizationSpec"],V);const $=c(n,["tuningDataStats"]);$!=null&&m(s,["tuningDataStats"],$);const U=c(n,["encryptionSpec"]);U!=null&&m(s,["encryptionSpec"],U);const D=c(n,["partnerModelTuningSpec"]);D!=null&&m(s,["partnerModelTuningSpec"],D);const A=c(n,["customBaseModel"]);A!=null&&m(s,["customBaseModel"],A);const I=c(n,["experiment"]);I!=null&&m(s,["experiment"],I);const q=c(n,["labels"]);q!=null&&m(s,["labels"],q);const M=c(n,["outputUri"]);M!=null&&m(s,["outputUri"],M);const ee=c(n,["pipelineJob"]);ee!=null&&m(s,["pipelineJob"],ee);const F=c(n,["serviceAccount"]);F!=null&&m(s,["serviceAccount"],F);const z=c(n,["tunedModelDisplayName"]);z!=null&&m(s,["tunedModelDisplayName"],z);const re=c(n,["veoTuningSpec"]);return re!=null&&m(s,["veoTuningSpec"],re),s}function dS(n,r){const s={},l=c(n,["sdkHttpResponse"]);l!=null&&m(s,["sdkHttpResponse"],l);const d=c(n,["name"]);d!=null&&m(s,["name"],d);const u=c(n,["metadata"]);u!=null&&m(s,["metadata"],u);const f=c(n,["done"]);f!=null&&m(s,["done"],f);const p=c(n,["error"]);return p!=null&&m(s,["error"],p),s}function _x(n,r){const s={},l=c(n,["gcsUri"]);l!=null&&m(s,["validationDatasetUri"],l);const d=c(n,["vertexDatasetResource"]);return d!=null&&m(s,["validationDatasetUri"],d),s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cS extends ln{constructor(r){super(),this.apiClient=r,this.get=async s=>await this.getInternal(s),this.list=async(s={})=>new ha(sn.PAGED_ITEM_TUNING_JOBS,l=>this.listInternal(l),await this.listInternal(s),s),this.tune=async s=>{var l;if(this.apiClient.isVertexAI())if(s.baseModel.startsWith("projects/")){const d={tunedModelName:s.baseModel};!((l=s.config)===null||l===void 0)&&l.preTunedModelCheckpointId&&(d.checkpointId=s.config.preTunedModelCheckpointId);const u=Object.assign(Object.assign({},s),{preTunedModel:d});return u.baseModel=void 0,await this.tuneInternal(u)}else{const d=Object.assign({},s);return await this.tuneInternal(d)}else{const d=Object.assign({},s),u=await this.tuneMldevInternal(d);let f="";return u.metadata!==void 0&&u.metadata.tunedModel!==void 0?f=u.metadata.tunedModel:u.name!==void 0&&u.name.includes("/operations/")&&(f=u.name.split("/operations/")[0]),{name:f,state:Ac.JOB_STATE_QUEUED}}}}async getInternal(r){var s,l,d,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const x=Zw(r);return p=xe("{name}",x._url),y=x._query,delete x._url,delete x._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(s=r.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=r.config)===null||l===void 0?void 0:l.abortSignal}).then(b=>b.json().then(v=>{const k=v;return k.sdkHttpResponse={headers:b.headers},k})),f.then(b=>Dc(b))}else{const x=Qw(r);return p=xe("{name}",x._url),y=x._query,delete x._url,delete x._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(d=r.config)===null||d===void 0?void 0:d.httpOptions,abortSignal:(u=r.config)===null||u===void 0?void 0:u.abortSignal}).then(b=>b.json().then(v=>{const k=v;return k.sdkHttpResponse={headers:b.headers},k})),f.then(b=>Pg(b))}}async listInternal(r){var s,l,d,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const x=nS(r);return p=xe("tuningJobs",x._url),y=x._query,delete x._url,delete x._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(s=r.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=r.config)===null||l===void 0?void 0:l.abortSignal}).then(b=>b.json().then(v=>{const k=v;return k.sdkHttpResponse={headers:b.headers},k})),f.then(b=>{const v=sS(b),k=new dx;return Object.assign(k,v),k})}else{const x=rS(r);return p=xe("tunedModels",x._url),y=x._query,delete x._url,delete x._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(d=r.config)===null||d===void 0?void 0:d.httpOptions,abortSignal:(u=r.config)===null||u===void 0?void 0:u.abortSignal}).then(b=>b.json().then(v=>{const k=v;return k.sdkHttpResponse={headers:b.headers},k})),f.then(b=>{const v=aS(b),k=new dx;return Object.assign(k,v),k})}}async cancel(r){var s,l,d,u;let f="",p={};if(this.apiClient.isVertexAI()){const y=Jw(r);f=xe("{name}:cancel",y._url),p=y._query,delete y._url,delete y._query,await this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(s=r.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=r.config)===null||l===void 0?void 0:l.abortSignal})}else{const y=Yw(r);f=xe("{name}:cancel",y._url),p=y._query,delete y._url,delete y._query,await this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(d=r.config)===null||d===void 0?void 0:d.httpOptions,abortSignal:(u=r.config)===null||u===void 0?void 0:u.abortSignal})}}async tuneInternal(r){var s,l;let d,u="",f={};if(this.apiClient.isVertexAI()){const p=Xw(r,r);return u=xe("tuningJobs",p._url),f=p._query,delete p._url,delete p._query,d=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=r.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=r.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:y.headers},b})),d.then(y=>Dc(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(r){var s,l;let d,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=$w(r);return u=xe("tunedModels",p._url),f=p._query,delete p._url,delete p._query,d=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=r.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=r.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:y.headers},b})),d.then(y=>dS(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uS{async download(r,s){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const mS=1024*1024*8,fS=3,hS=1e3,pS=2,Kl="x-goog-upload-status";async function xS(n,r,s){var l;const d=await Lg(n,r,s),u=await(d==null?void 0:d.json());if(((l=d==null?void 0:d.headers)===null||l===void 0?void 0:l[Kl])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return u.file}async function gS(n,r,s){var l;const d=await Lg(n,r,s),u=await(d==null?void 0:d.json());if(((l=d==null?void 0:d.headers)===null||l===void 0?void 0:l[Kl])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const f=dg(u),p=new Zc;return Object.assign(p,f),p}async function Lg(n,r,s){var l,d;let u=0,f=0,p=new _c(new Response),y="upload";for(u=n.size;f<u;){const x=Math.min(mS,u-f),b=n.slice(f,f+x);f+x>=u&&(y+=", finalize");let v=0,k=hS;for(;v<fS&&(p=await s.request({path:"",body:b,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:r,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(f),"Content-Length":String(x)}}}),!(!((l=p==null?void 0:p.headers)===null||l===void 0)&&l[Kl]));)v++,await bS(k),k=k*pS;if(f+=x,((d=p==null?void 0:p.headers)===null||d===void 0?void 0:d[Kl])!=="active")break;if(u<=f)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return p}async function yS(n){return{size:n.size,type:n.type}}function bS(n){return new Promise(r=>setTimeout(r,n))}class vS{async upload(r,s,l){if(typeof r=="string")throw new Error("File path is not supported in browser uploader.");return await xS(r,s,l)}async uploadToFileSearchStore(r,s,l){if(typeof r=="string")throw new Error("File path is not supported in browser uploader.");return await gS(r,s,l)}async stat(r){if(typeof r=="string")throw new Error("File path is not supported in browser uploader.");return await yS(r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kS{create(r,s,l){return new NS(r,s,l)}}class NS{constructor(r,s,l){this.url=r,this.headers=s,this.callbacks=l}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(r){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(r)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Mx="x-goog-api-key";class wS{constructor(r){this.apiKey=r}async addAuthHeaders(r,s){if(r.get(Mx)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");r.append(Mx,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const SS="gl-node/";class Dg{constructor(r){var s;if(r.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(r.project||r.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(s=r.vertexai)!==null&&s!==void 0?s:!1,this.apiKey=r.apiKey;const l=t0(r.httpOptions,r.vertexai,void 0,void 0);l&&(r.httpOptions?r.httpOptions.baseUrl=l:r.httpOptions={baseUrl:l}),this.apiVersion=r.apiVersion;const d=new wS(this.apiKey);this.apiClient=new H1({auth:d,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:r.httpOptions,userAgentExtra:SS+"web",uploader:new vS,downloader:new uS}),this.models=new sw(this.apiClient),this.live=new Z1(this.apiClient,d,new kS),this.batches=new _k(this.apiClient),this.chats=new uN(this.models,this.apiClient),this.caches=new oN(this.apiClient),this.files=new kN(this.apiClient),this.operations=new iw(this.apiClient),this.authTokens=new Nw(this.apiClient),this.tunings=new cS(this.apiClient),this.fileSearchStores=new Ow(this.apiClient)}}const TS="AIzaSyDHnNSs4KqYjEuOMIbOvuNdQkSAuU8kb98";typeof window<"u"&&console.log("API_KEY check:",{hasAPI_KEY:!0,hasGEMINI_API_KEY:!0,API_KEY_value:"***"+"AIzaSyDHnNSs4KqYjEuOMIbOvuNdQkSAuU8kb98".slice(-4),GEMINI_API_KEY_value:"***"+"AIzaSyDHnNSs4KqYjEuOMIbOvuNdQkSAuU8kb98".slice(-4)});let ua=null;try{ua=new Dg({apiKey:TS}),console.log(" Gemini AI initialized successfully")}catch(n){console.error("Failed to initialize Gemini AI:",n)}const jS={name:"recommendArtisans",description:"Finds and recommends up to five local artisans or service professionals like plumbers, electricians, painters, etc., based on the service needed and the user's location.",parameters:{type:Pe.OBJECT,properties:{service:{type:Pe.STRING,description:'The type of artisan service required, e.g., "Plumber", "Electrician", "Mover".'},location:{type:Pe.STRING,description:`The user's location where the service is needed, e.g., "Ikeja, Lagos".`}},required:["service","location"]}},CS={name:"scheduleAppointment",description:"Schedules, reschedules, or cancels a property viewing appointment for the user.",parameters:{type:Pe.OBJECT,properties:{propertyTitle:{type:Pe.STRING,description:'The title of the property for the appointment, e.g., "Modern 3-Bedroom Duplex".'},action:{type:Pe.STRING,description:'The action to perform: "schedule", "reschedule", or "cancel".'},dateTime:{type:Pe.STRING,description:'The requested date and time for the appointment in ISO 8601 format, e.g., "2024-08-15T14:00:00". Required for "schedule" and "reschedule".'}},required:["propertyTitle","action"]}},ES={name:"processPayment",description:"Processes the payment for a booked property after an appointment has been scheduled and the user wants to proceed with payment.",parameters:{type:Pe.OBJECT,properties:{propertyTitle:{type:Pe.STRING,description:'The title of the property being paid for, e.g., "Modern 3-Bedroom Duplex".'},accommodationType:{type:Pe.STRING,description:'A brief description of the accommodation type, e.g., "Entire Duplex", "Standard Queen Room".'},amount:{type:Pe.NUMBER,description:"The total amount to be paid for the booking."},currency:{type:Pe.STRING,description:'The currency of the payment, e.g., "NGN".'}},required:["propertyTitle","accommodationType","amount","currency"]}},AS=()=>{if(!ua)throw new Error("Gemini API is not initialized. Please check your API key configuration.");return ua.chats.create({model:"gemini-2.5-flash",config:{systemInstruction:`You are Anna, the ShelTrify AI, the platform's expert assistant. Your role is to help users with all of ShelTrify's services by engaging them in a friendly, professional conversation.

**CRITICAL: Using Site Data**
When you receive '[SITE DATA: ...]' in the context, it contains ACTUAL listings from the ShelTrify platform. You MUST:
- Use ONLY the listings provided in the SITE DATA when answering questions about properties
- NEVER make up or invent properties that are not in the SITE DATA
- When a user asks about properties in a location, search through the SITE DATA listings and recommend only matching ones
- If no matching properties exist in SITE DATA, honestly say "I don't have any properties matching that criteria in our database right now, but let me help you find something similar" and suggest alternatives
- Use the exact data from SITE DATA (title, price, location, bedrooms, amenities, etc.) - do not modify or guess these values
- When showing properties from SITE DATA, use the exact "id" from the listing, not a random number

**Core Task 1: Finding Accommodation**
When a user wants to find a property, you must follow this structured conversational flow:

**Interaction Rules for Accommodation:**
1.  **Greet and Get Name:** Start by greeting the user warmly, introducing yourself, and asking for their name to personalize the conversation.
2.  **Ask for Accommodation Type:** After they provide their name, your immediate next step is to ask what type of accommodation they are looking for. The app has a visual selector with options like 'Residential House', 'Hotel', 'Office Space', etc. You can say something like, "Nice to meet you, [User's Name]! What type of accommodation are you looking for today? You can select an option above or just tell me."
3.  **Clarify the Type:** Once the user specifies a type, ask for more details. This is crucial.
    *   **For a 'Residential House':** Ask about the number of bedrooms (e.g., "Are you looking for a self-contain, a 1, 2, 3, or 4-bedroom place?") or if they have a specific type in mind like a bungalow or duplex.
    *   **For 'Hotel' bookings:** Ask for location, check-in/check-out dates, number of guests, and budget. IMPORTANT: When recommending hotels, you MUST suggest ONLY genuine, reliable hotel booking websites where users can book directly. Provide actual booking links from reputable platforms like Booking.com, Hotels.com, Agoda, Expedia, or the hotel's official website. NEVER suggest fake or unreliable websites. Format hotel suggestions as clickable links with the hotel name, location, and direct booking URL. Example format: "Here are some reliable hotel booking options for [Location]:

1. **Booking.com** - [Location Hotels](https://www.booking.com/searchresults.html?ss=[Location])
2. **Hotels.com** - [Location Hotels](https://www.hotels.com/search.do?q-destination=[Location])
3. **Agoda** - [Location Hotels](https://www.agoda.com/search?city=[Location])

You can also check the official websites of specific hotels in [Location] for direct bookings."
    *   **For other types:** Ask a relevant clarifying question.
4.  **Gather Core Details (Location & Budget):** After clarifying the accommodation type, gather the remaining key information:
    *   **Location:** The city, area, or neighborhood.
    *   **Budget:** Their approximate budget and preferred rental period (e.g., per year, per month). You MUST acknowledge that the budget is a key factor that determines the options available.
5.  **Recommend After Gathering Info:** Only when you have the accommodation type, specific details (like bedroom count), location, AND budget, should you start recommending properties.
6.  **Show Properties, Don't Just Talk:** This is critical. To recommend properties, you **MUST** embed their details in a special JSON array format: '[PROPERTIES: [{...}, {...}]]'.
    *   **The ONLY Method:** You **MUST** use the '[PROPERTIES]' tag containing a JSON array. Even for a single property, it must be in an array: '[PROPERTIES: [{...}]]'.
    *   **Text Descriptions are Forbidden:** You are **strictly forbidden** from describing property features in regular text. ALWAYS use the '[PROPERTIES]' tag. A short intro like "Based on your needs, here are some options:" is acceptable, but the '[PROPERTIES]' tag must immediately follow.
    *   **Using SITE DATA:** When SITE DATA is available, you MUST use the exact listings from it. Use the exact "id", "title", "price", "location", "bedrooms", "amenities", "imageUrl", and "videoUrl" from the SITE DATA. Do NOT modify these values.
    *   **Correct JSON Array Format:** The JSON **MUST** follow this exact structure: '[PROPERTIES: [{ "id": 123, "title": "A Great House", "imageUrl": "https://images.unsplash.com/...", "videoUrl": "https://www.youtube.com/watch?v=VIDEO_ID", "price": "2.5M/year", "location": "Lekki, Lagos", "bedrooms": 3, "amenities": ["Close to School", "Hospital Nearby", "Good Roads"], "propertyType": "Duplex" }, { "id": 124, "title": "Another Place", ... }]]'.
        *   "id" MUST be the exact ID from SITE DATA if available, otherwise use a unique number
        *   "imageUrl" should use the value from SITE DATA if available, otherwise use a high-quality, realistic image URL from unsplash.com
        *   "videoUrl" should use the value from SITE DATA if available, otherwise it's optional but highly encouraged. It MUST be a valid YouTube video URL.
        *   "price" **MUST** use the exact price from SITE DATA and include a rental period (e.g., "/year", "/month").
        *   "amenities" array should use the exact amenities from SITE DATA if available
7.  **Suggested Replies:** After showing properties or asking a clarifying question, you **MUST** provide suggested replies in a special tag: '[SUGGESTIONS: ["Option 1", "Option 2"]]'.
8.  **Function Calling for Actions:**
    *   **Appointments:** When a user wants to schedule, reschedule, or cancel a viewing, you **MUST** use the 'scheduleAppointment' function. After the system confirms a "schedule" or "reschedule" action is complete, you **MUST** then politely ask for the user's full name, email, mobile/WhatsApp number, and current address to finalize the tour details.
    *   **Payments:** When a user is ready to pay, you **MUST** use the 'processPayment' function.

**CRITICAL: Hotel Booking Recommendations**
When a user asks about hotels or hotel bookings:
- **ALWAYS** suggest ONLY genuine, reliable hotel booking platforms with direct booking links
- **NEVER** suggest fake, unreliable, or suspicious websites
- **ONLY** recommend reputable platforms such as:
  * Booking.com (https://www.booking.com)
  * Hotels.com (https://www.hotels.com)
  * Agoda (https://www.agoda.com)
  * Expedia (https://www.expedia.com)
  * Trivago (https://www.trivago.com)
  * Official hotel websites (verify they are legitimate)
- Format hotel suggestions with clear, clickable links
- Include the hotel name, location, and direct booking URL
- Always verify that the links you provide are real and functional
- If you're unsure about a hotel website's legitimacy, only suggest well-known booking platforms

**Core Task 2: Assisting with Other Services**
If the user asks about other services, provide a helpful explanation and guide them. **DO NOT** use the '[PROPERTIES]' tag for these services.

*   **Artisan/Local Services (Movers, Plumbers, Carpenters, Tutors, etc.):**
    *   When a user requests a specific artisan like a plumber or painter, you **MUST** use the 'recommendArtisans' function, providing the service type and the location they mentioned.
    *   If the user makes a general inquiry about artisans, explain: "ShelTrify connects you with a network of trusted local professionals through our Marketplace and Community Forum."
    *   Action: Encourage them to explore those sections of the app for reliable help. You can suggest a reply like "Tell me more about the Marketplace".

*   **Platform Features (Provide these brief explanations):**
    *   **ShelTrify Wallet:** "It's a feature to earn, save, and manage rewards called SWC (ShelTrify Wallet Coins). You can earn SWC from referrals or by using our 'Save for Rent' feature. SWC can then be used to pay for services or boost listings."
    *   **Marketplace:** "It's our one-stop shop for home-related goods like furniture and electronics, building materials, and a place to find and hire local artisans like plumbers and electricians."
    *   **Feels & Rental Wahala:** "They are our short-form video feeds. 'Feels' is for real estate inspiration and beautiful property tours, while 'Rental Wahala' is for funny, relatable moments about the challenges of renting."
    *   **Community Forum:** "It's a space where renters, landlords, and agents can connect, share experiences, ask questions, and get trusted advice on everything related to property."
    *   **Logistics (Transport Booking, Trip Planner):** "ShelTrify provides tools and partnerships to help you plan your entire journey, from booking transport to navigating your new area. You can explore these features right from the main menu."

**General Context & Personality:**
*   **Keep the Conversation Going:** Never end a response abruptly without guiding the user. Always end by asking a follow-up question (e.g., "What do you think of these options?", "Is there anything else I can help with?") or providing suggested replies with the '[SUGGESTIONS]' tag to ensure the conversation continues smoothly.
*   **User Favorites & Filters:** Prompts may contain '[USER FAVORITES: ...]' or '[USER FILTERS: ...]'. Use this context to tailor your recommendations.
*   **Post-Payment Flow:** On receiving a system message like '[SYSTEM: Payment for '...' is complete.]', you **MUST** confirm it was successful, then ask for the user's full name, email, WhatsApp/mobile, occupation, and full address for their receipt. After they provide details, confirm you've received them and ask if you can help further.
*   **Personality:** Be friendly, professional, and use the user's name if they provide it. Mention the live AI video assistant, Anna, or Premium benefits when appropriate. For example, you can mention, "Remember, you can save any property you like. Premium users also get instant alerts for updates on their saved homes."
`,tools:[{functionDeclarations:[CS,ES,jS]}]}})},Ug=async n=>{var r;if(!ua)return console.warn("Gemini API not initialized, skipping image generation"),null;try{const s=`A professional, photorealistic, bright, and appealing real estate photograph of the exterior of: ${n.title}. Property type: ${n.propertyType}. Key features: ${(r=n.amenities)==null?void 0:r.join(", ")}. The image should look like a professional real estate listing photo. No people, text, or watermarks.`,l=await ua.models.generateImages({model:"imagen-4.0-generate-001",prompt:s,config:{numberOfImages:1,outputMimeType:"image/jpeg",aspectRatio:"4:3"}});return l.generatedImages&&l.generatedImages.length>0?`data:image/jpeg;base64,${l.generatedImages[0].image.imageBytes}`:null}catch(s){return console.error("Error generating property image:",s),null}},_S=async n=>{var r,s,l;try{const d=`You are a real estate market analyst for the Nigerian rental market. Your goal is to provide concise, data-driven insights based on the latest information from the web. Answer the user's query clearly.
        
        User Query: "${n}"

        Provide a direct answer. Do not use conversational filler. Format your answer with markdown for readability (e.g., use bullet points for lists).`,u=await ua.models.generateContent({model:"gemini-2.5-flash",contents:d,config:{tools:[{googleSearch:{}}]}}),f=u.text,p=((l=(s=(r=u.candidates)==null?void 0:r[0])==null?void 0:s.groundingMetadata)==null?void 0:l.groundingChunks)||[];return{text:f,sources:Array.isArray(p)?p:[]}}catch(d){throw console.error("Error getting market insights:",d),new Error("Failed to fetch market insights from the AI.")}},MS=async n=>{try{const s=`You are a creative content curator for a short-form video platform called 'ShelTrify Feels'. The platform is all about real estate, featuring property tours, rental life, funny moments ('Rental Wahala'), and design tips.

Based on this user's liked videos, please recommend 3 new, unique, and engaging video ideas that they would likely enjoy watching and creating.

Here are the videos the user has liked:
${n.map(y=>`- Title/Caption: "${y.caption}" by ${y.author.handle}`).join(`
`)||"- The user hasn't liked any videos yet. Recommend some popular and diverse real estate topics to get them started (e.g., a luxury tour, a funny rental moment, a quick design hack)."}

For each recommendation, provide a catchy title and a short, exciting caption suitable for a short-form video platform. The caption should include relevant hashtags. Keep the tone fun, inspiring, and relatable.`,l={type:Pe.ARRAY,items:{type:Pe.OBJECT,properties:{title:{type:Pe.STRING,description:"A catchy, short title for the video idea."},caption:{type:Pe.STRING,description:"An engaging caption for the video, including 1-3 relevant hashtags."}},required:["title","caption"],propertyOrdering:["title","caption"]}},u=(await ua.models.generateContent({model:"gemini-2.5-flash",contents:s,config:{responseMimeType:"application/json",responseSchema:l}})).text.trim();return JSON.parse(u).map((y,x)=>({...y,imageUrl:`https://source.unsplash.com/random/400x300?house,interior&sig=${Date.now()+x}`}))}catch(r){throw console.error("Error getting AI recommendations:",r),new Error("Failed to fetch AI recommendations from the creative assistant.")}},Rx=n=>n.replace(/,(\s*\]|\s*\})/g,"$1"),Ix=[{id:1,name:"Tunde Adebayo",service:"Plumber",email:"t.adebayo@email.com",phone:"08012345678",avatarUrl:"https://images.unsplash.com/photo-1599566150163-29194dcaad36?q=80&w=256"},{id:2,name:"Amina Salisu",service:"Electrician",email:"a.salisu@email.com",phone:"08023456789",avatarUrl:"https://images.unsplash.com/photo-1580489944761-15a19d654956?q=80&w=256"},{id:3,name:"Chike Obi",service:"Carpenter",email:"c.obi@email.com",phone:"08034567890",avatarUrl:"https://images.unsplash.com/photo-1564564321837-a57b7070ac4f?q=80&w=256"},{id:4,name:"Fatima Bello",service:"Painter",email:"f.bello@email.com",phone:"08045678901",avatarUrl:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?q=80&w=256"},{id:5,name:"Samuel Kalu",service:"AC Repair",email:"s.kalu@email.com",phone:"08056789012",avatarUrl:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?q=80&w=256"},{id:6,name:"Ngozi Eze",service:"Mover",email:"n.eze@email.com",phone:"08067890123",avatarUrl:"https://images.unsplash.com/photo-1544005313-94ddf0286df2?q=80&w=256"},{id:7,name:"Musa Ibrahim",service:"Cleaner",email:"m.ibrahim@email.com",phone:"08078901234",avatarUrl:"https://images.unsplash.com/photo-1552058544-f2b08422138a?q=80&w=256"},{id:8,name:"Bola Ahmed",service:"Tutor",email:"b.ahmed@email.com",phone:"08089012345",avatarUrl:"https://images.unsplash.com/photo-1539571696357-5a69c17a67c6?q=80&w=256"}],RS=({text:n})=>{const s=n.replace(/`?\[PROPERTIES:.*?\]`?/gs,"").replace(/`?\[SUGGESTIONS:.*?\]`?/gs,"").trim().split(`
`);return t.jsx("div",{className:"prose prose-sm max-w-none dark:prose-invert text-inherit",children:s.map((l,d)=>{if(l.startsWith("* "))return t.jsxs("p",{className:"my-1 pl-4",children:[" ",l.substring(2)]},d);if(/^\d+\.\s/.test(l))return t.jsx("p",{className:"my-1 pl-4",children:l},d);if(l.startsWith("### "))return t.jsx("h3",{className:"text-lg font-semibold mt-2 mb-1",children:l.substring(4)},d);if(!l.trim())return t.jsx("p",{className:"my-1",children:""},d);const u=l.split(/(\*\*.*?\*\*|\_.*?\_|\*.*?\*)/g);return t.jsx("p",{className:"my-1",children:u.filter(f=>f).map((f,p)=>f.startsWith("**")&&f.endsWith("**")?t.jsx("strong",{children:f.slice(2,-2)},p):f.startsWith("_")&&f.endsWith("_")?t.jsx("em",{children:f.slice(1,-1)},p):f.startsWith("*")&&f.endsWith("*")?t.jsx("em",{children:f.slice(1,-1)},p):f)},d)})})},IS=({property:n,onClose:r})=>t.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",onClick:r,children:t.jsxs("div",{className:"relative bg-light-card dark:bg-dark-card rounded-lg shadow-2xl w-full max-w-4xl h-[80vh] p-4 flex flex-col",onClick:s=>s.stopPropagation(),children:[t.jsxs("div",{className:"flex justify-between items-center mb-2 flex-shrink-0",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-bold text-lg",children:n.title}),t.jsx("p",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary",children:n.location})]}),t.jsx("button",{onClick:r,className:"p-2 rounded-full hover:bg-light-border dark:hover:bg-dark-border",children:t.jsx(je,{className:"w-5 h-5"})})]}),t.jsx("iframe",{className:"w-full h-full border-0 rounded-md flex-grow",loading:"lazy",allowFullScreen:!0,src:`https://maps.google.com/maps?q=${encodeURIComponent(n.location)}&t=&z=15&ie=UTF8&iwloc=&output=embed`})]})}),PS=n=>{if(!n)return null;let r=null;try{const s=new URL(n);s.hostname==="youtu.be"?r=s.pathname.split("/").pop()||null:s.hostname.includes("youtube.com")&&(r=s.searchParams.get("v"))}catch(s){return console.error("Could not parse video URL:",n,s),null}return r?`https://www.youtube.com/embed/${r}?autoplay=1&rel=0&controls=1`:null},LS=({property:n,onToggleFavorite:r,onBookNow:s,onViewDetails:l,onRequestVirtualTour:d})=>{var k,w;const[u,f]=T.useState(!1),[p,y]=T.useState(!1),x=(j,P)=>{j.stopPropagation(),P()},b=PS(n.videoUrl),v=j=>{j.stopPropagation(),b&&f(!0)};return t.jsxs("div",{onClick:()=>l(n.title),className:"cursor-pointer mt-2 w-full max-w-xs bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border rounded-lg overflow-hidden shadow-md group transition-all duration-300 hover:shadow-xl hover:border-brand-primary/50",children:[t.jsxs("div",{className:"relative",children:[u&&b?t.jsx("div",{className:"w-full h-48 bg-black",children:t.jsx("iframe",{src:b,title:n.title,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"w-full h-full"})}):t.jsx("div",{className:"relative w-full h-48",children:n.isLoadingImage?t.jsx("div",{className:"w-full h-full bg-light-bg dark:bg-dark-bg animate-pulse flex items-center justify-center",children:t.jsx(Bx,{className:"w-10 h-10 text-light-border dark:text-dark-border"})}):t.jsxs(t.Fragment,{children:[t.jsx("img",{src:n.imageUrl,alt:n.title,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"}),b&&t.jsx("div",{onClick:v,className:"absolute inset-0 bg-black/40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:t.jsx(cr,{className:"w-16 h-16 text-white/80"})})]})}),t.jsx("div",{className:"absolute top-2 right-2 flex flex-col gap-2 z-10",children:t.jsx("button",{onClick:j=>{j.stopPropagation(),y(!0)},className:"p-2 bg-black/50 rounded-full text-white hover:bg-brand-primary/80 transition-all transform hover:scale-110 block","aria-label":"View on Map",title:"View on Map",children:t.jsx($l,{className:"w-5 h-5"})})})]}),t.jsxs("div",{className:"p-4",children:[t.jsx("h4",{className:"font-bold text-light-text-primary dark:text-dark-text-primary text-base truncate",children:n.title}),t.jsx("p",{className:"text-xs text-light-text-secondary dark:text-dark-text-secondary mt-1",children:n.location}),(n.propertyType||n.bedrooms||n.amenities&&n.amenities.length>0)&&t.jsxs("div",{className:"flex flex-wrap items-center gap-1.5 mt-2",children:[n.propertyType&&t.jsx("span",{className:"text-xs bg-brand-primary/10 dark:bg-brand-primary/20 text-brand-primary font-semibold px-2 py-1 rounded-full",children:n.propertyType}),n.bedrooms?t.jsxs("span",{className:"text-xs bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border px-2 py-1 rounded-full",children:[n.bedrooms," bed",n.bedrooms>1?"s":""]}):null,(k=n.amenities)==null?void 0:k.slice(0,2).map(j=>t.jsx("span",{className:"text-xs bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border px-2 py-1 rounded-full truncate",children:j},j))]}),t.jsx("div",{className:"flex justify-between items-center mt-3",children:t.jsx("p",{className:"text-lg font-bold text-brand-primary",children:n.price})}),t.jsxs("div",{className:"grid grid-cols-3 gap-2 mt-3",children:[((w=n.propertyType)==null?void 0:w.toLowerCase())!=="hotel"&&t.jsxs("button",{onClick:j=>x(j,()=>d(n.title)),className:"bg-light-border dark:bg-dark-border text-light-text-primary dark:text-dark-text-primary text-xs font-semibold py-2 px-2 rounded-lg hover:bg-opacity-80 dark:hover:bg-opacity-80 transition-all flex items-center justify-center gap-1",children:[t.jsx(us,{className:"w-4 h-4"}),"Virtual Tour"]}),t.jsxs("button",{onClick:j=>x(j,()=>r(n)),className:`text-xs font-semibold py-2 px-2 rounded-lg transition-all flex items-center justify-center gap-1 ${n.isFavorite?"bg-red-500/10 text-red-500":"bg-light-border dark:bg-dark-border text-light-text-primary dark:text-dark-text-primary hover:bg-opacity-80 dark:hover:bg-opacity-80"}`,children:[t.jsx(Xl,{className:`w-4 h-4 ${n.isFavorite?"fill-current":""}`}),"Interested"]}),t.jsxs("button",{onClick:j=>x(j,()=>s(n.title)),className:"bg-brand-primary text-white text-xs font-semibold py-2 px-2 rounded-lg hover:bg-brand-secondary transition-all flex items-center justify-center gap-1",children:[t.jsx(Sv,{className:"w-4 h-4"}),"Book Now"]})]})]}),p&&t.jsx(IS,{property:n,onClose:()=>y(!1)})]})},DS=({functionCall:n})=>{const{name:r,args:s}=n;let l=`Function call executed: ${r}`;if(r==="scheduleAppointment"){const{action:d,propertyTitle:u,dateTime:f}=s;d==="schedule"||d==="reschedule"?l=`Okay, your appointment for "${u}" has been ${d}d for ${new Date(f).toLocaleString()}. A reminder will be sent to you 24 hours before.`:d==="cancel"?l=`Okay, your appointment for "${u}" has been successfully canceled.`:l=`Okay, your appointment for "${u}" has been successfully ${d}d.`}return t.jsxs("div",{className:"mt-2 text-xs italic text-green-600 dark:text-green-400 flex items-center gap-2 p-2 bg-green-500/10 rounded-md",children:[t.jsx(Ae,{className:"w-4 h-4"}),t.jsx("span",{children:l})]})},US=({paymentDetails:n,onPaymentConfirmed:r})=>{const[s,l]=T.useState("method"),[d,u]=T.useState(!1),f=w=>{w.preventDefault(),u(!0),setTimeout(()=>{u(!1),r(n),l("confirmed")},1500)},p=()=>{r(n),l("confirmed")},y=(w,j)=>new Intl.NumberFormat("en-NG",{style:"currency",currency:j}).format(w),x=()=>t.jsxs(t.Fragment,{children:[t.jsx("h4",{className:"font-bold text-base mb-2",children:"Confirm Your Payment"}),t.jsxs("div",{className:"space-y-1 text-xs border-b border-light-border dark:border-dark-border pb-3 mb-3",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Property:"}),t.jsx("span",{className:"font-semibold text-right",children:n.propertyTitle})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Details:"}),t.jsx("span",{className:"font-semibold",children:n.accommodationType})]}),t.jsxs("div",{className:"flex justify-between items-baseline pt-2",children:[t.jsx("span",{children:"Amount:"}),t.jsx("span",{className:"font-bold text-lg text-brand-primary",children:y(n.amount,n.currency)})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t.jsxs("button",{onClick:()=>l("card"),className:"w-full flex items-center justify-center gap-2 bg-brand-primary text-white font-semibold py-2 rounded-md hover:bg-brand-secondary transition-colors",children:[t.jsx(Zl,{className:"w-4 h-4"})," Card"]}),t.jsxs("button",{onClick:()=>l("transfer"),className:"w-full flex items-center justify-center gap-2 bg-brand-secondary text-white font-semibold py-2 rounded-md hover:opacity-90 transition-colors",children:[t.jsx(fa,{className:"w-4 h-4"})," Transfer"]})]})]}),b=()=>t.jsxs("form",{onSubmit:f,children:[t.jsxs("button",{type:"button",onClick:()=>l("method"),className:"flex items-center gap-1 text-xs text-light-text-secondary dark:text-dark-text-secondary hover:text-brand-primary mb-2",children:[t.jsx(zn,{className:"w-3 h-3"})," Back"]}),t.jsx("h4",{className:"font-bold text-base mb-3",children:"Enter Card Details"}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("input",{type:"text",placeholder:"Card Number",required:!0,className:"w-full text-xs bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border rounded-md px-3 py-2 focus:ring-2 focus:ring-brand-primary focus:outline-none transition"}),t.jsx("input",{type:"text",placeholder:"Card Holder Name",required:!0,className:"w-full text-xs bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border rounded-md px-3 py-2 focus:ring-2 focus:ring-brand-primary focus:outline-none transition"}),t.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t.jsx("input",{type:"text",placeholder:"MM/YY",required:!0,className:"w-full text-xs bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border rounded-md px-3 py-2 focus:ring-2 focus:ring-brand-primary focus:outline-none transition"}),t.jsx("input",{type:"text",placeholder:"CVV",required:!0,className:"w-full text-xs bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border rounded-md px-3 py-2 focus:ring-2 focus:ring-brand-primary focus:outline-none transition"})]})]}),t.jsx("button",{type:"submit",disabled:d,className:"w-full mt-4 bg-brand-primary text-white rounded-md py-2 font-bold hover:bg-brand-secondary transition-all disabled:bg-brand-secondary",children:d?"Processing...":`Pay ${y(n.amount,n.currency)}`})]}),v=()=>t.jsxs("div",{children:[t.jsxs("button",{type:"button",onClick:()=>l("method"),className:"flex items-center gap-1 text-xs text-light-text-secondary dark:text-dark-text-secondary hover:text-brand-primary mb-2",children:[t.jsx(zn,{className:"w-3 h-3"})," Back"]}),t.jsx("h4",{className:"font-bold text-base mb-2",children:"Bank Transfer Details"}),t.jsxs("div",{className:"p-3 bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border rounded-lg space-y-1 text-xs",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Bank:"})," ",t.jsx("strong",{children:"ShelTrify Bank PLC"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Account No:"})," ",t.jsx("strong",{children:"0123456789"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Account Name:"})," ",t.jsx("strong",{children:"ShelTrify Technologies"})]}),t.jsx("p",{className:"text-light-text-secondary dark:text-dark-text-secondary pt-1",children:"Please use property title as reference."})]}),t.jsx("button",{onClick:p,className:"w-full mt-3 bg-brand-primary text-white rounded-md py-2 font-bold hover:bg-brand-secondary transition-all",children:"I've Completed the Transfer"})]}),k=()=>t.jsxs("div",{className:"text-center",children:[t.jsx(Ae,{className:"w-8 h-8 text-green-500 mx-auto animate-bounce"}),t.jsx("h4",{className:"font-bold mt-2",children:"Payment Confirmed!"}),t.jsx("p",{className:"text-xs text-light-text-secondary dark:text-dark-text-secondary mt-1",children:"Anna will be with you shortly to collect your details for the receipt."})]});return t.jsxs("div",{className:"mt-2 text-sm text-light-text-primary dark:text-dark-text-primary p-4 bg-light-bg dark:bg-dark-bg rounded-lg border border-light-border dark:border-dark-border",children:[s==="method"&&x(),s==="card"&&b(),s==="transfer"&&v(),s==="confirmed"&&k()]})},qS=({artisan:n})=>t.jsxs("div",{className:"flex-shrink-0 w-64 bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border rounded-lg p-4 text-center group transition-all duration-300 hover:shadow-lg hover:border-brand-primary/50 snap-start",children:[t.jsx("img",{src:n.avatarUrl,alt:n.name,className:"w-20 h-20 rounded-full object-cover mx-auto border-4 border-light-bg dark:border-dark-bg"}),t.jsx("h4",{className:"font-bold text-light-text-primary dark:text-dark-text-primary mt-3",children:n.name}),t.jsx("p",{className:"text-sm font-semibold text-brand-primary",children:n.service}),t.jsxs("div",{className:"mt-4 space-y-2 text-left text-xs",children:[t.jsxs("div",{className:"flex items-center gap-2 text-light-text-secondary dark:text-dark-text-secondary",children:[t.jsx(zx,{className:"w-4 h-4 flex-shrink-0"}),t.jsx("a",{href:`mailto:${n.email}`,className:"truncate hover:underline",children:n.email})]}),t.jsxs("div",{className:"flex items-center gap-2 text-light-text-secondary dark:text-dark-text-secondary",children:[t.jsx(Vc,{className:"w-4 h-4 flex-shrink-0"}),t.jsx("a",{href:`tel:${n.phone}`,className:"truncate hover:underline",children:n.phone})]})]})]}),VS=({suggestions:n,onSelect:r})=>t.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:n.map((s,l)=>t.jsx("button",{onClick:()=>r(s),className:"px-3 py-1.5 text-sm font-semibold text-brand-primary bg-brand-primary/10 dark:bg-brand-primary/20 rounded-full hover:bg-brand-primary/20 dark:hover:bg-brand-primary/30 transition-colors",children:s},l))}),HS=()=>t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{style:{backgroundImage:"url('https://storage.googleapis.com/aai-web-template-assets/sheltrify/anna-avatar-professional-v2.jpeg')"},className:"flex-shrink-0 w-8 h-8 rounded-full bg-cover bg-center"}),t.jsxs("div",{className:"max-w-md lg:max-w-lg px-4 py-3 rounded-2xl bg-light-card dark:bg-dark-card text-light-text-primary dark:text-dark-text-primary rounded-bl-lg flex items-center gap-2",children:[t.jsx("span",{className:"h-2 w-2 bg-light-text-secondary dark:bg-dark-text-secondary rounded-full animate-bounce [animation-delay:-0.3s]"}),t.jsx("span",{className:"h-2 w-2 bg-light-text-secondary dark:bg-dark-text-secondary rounded-full animate-bounce [animation-delay:-0.15s]"}),t.jsx("span",{className:"h-2 w-2 bg-light-text-secondary dark:bg-dark-text-secondary rounded-full animate-bounce"})]})]}),FS=({paymentMethod:n,onBack:r,onPaymentSuccess:s})=>{const[l,d]=T.useState(!1),[u,f]=T.useState(!1),[p,y]=T.useState(null),{userAPI:x}=require("../services/api"),b=async v=>{v.preventDefault(),d(!0),y(null);try{const{userAPI:k}=await Bt(async()=>{const{userAPI:j}=await Promise.resolve().then(()=>Yl);return{userAPI:j}},void 0),w=await k.upgradeChat();if(w.success)d(!1),f(!0),setTimeout(()=>{s()},1500);else throw new Error(w.message||"Payment failed")}catch(k){console.error("Chat upgrade error:",k),y(k.message||"Failed to process payment. Please try again."),d(!1)}};return u?t.jsxs("div",{className:"text-center py-8",children:[t.jsx(Ae,{className:"w-16 h-16 text-green-500 mx-auto animate-bounce"}),t.jsx("h3",{className:"text-xl font-bold mt-4",children:"Payment Successful!"}),t.jsx("p",{className:"text-light-text-secondary dark:text-dark-text-secondary mt-1",children:"Chat upgrade successful! You can now continue chatting."})]}):t.jsxs("form",{onSubmit:b,children:[t.jsxs("button",{type:"button",onClick:r,className:"flex items-center gap-1 text-sm text-light-text-secondary dark:text-dark-text-secondary hover:text-brand-primary mb-4",children:[t.jsx(zn,{className:"w-4 h-4"})," Back"]}),t.jsx("h3",{className:"text-xl font-bold mb-1",children:"Confirm Payment"}),t.jsxs("p",{className:"text-light-text-secondary dark:text-dark-text-secondary mb-4",children:["You are paying ",t.jsx("span",{className:"font-bold text-brand-primary",children:"2,000"})," to upgrade your chat and continue finding accommodation."]}),p&&t.jsx("div",{className:"mb-4 p-3 bg-red-500/10 text-red-500 rounded-lg text-sm",children:p}),n==="Card"&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1",children:"Card Number"}),t.jsx("input",{type:"text",placeholder:"0000 0000 0000 0000",required:!0,className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-2 focus:ring-2 focus:ring-brand-primary focus:outline-none transition"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1",children:"Card Holder Name"}),t.jsx("input",{type:"text",placeholder:"John Doe",required:!0,className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-2 focus:ring-2 focus:ring-brand-primary focus:outline-none transition"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1",children:"Expiry Date"}),t.jsx("input",{type:"text",placeholder:"MM/YY",required:!0,className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-2 focus:ring-2 focus:ring-brand-primary focus:outline-none transition"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1",children:"CVV"}),t.jsx("input",{type:"text",placeholder:"123",required:!0,className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-2 focus:ring-2 focus:ring-brand-primary focus:outline-none transition"})]})]})]}),n==="Transfer"&&t.jsxs("div",{className:"p-4 bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg space-y-2 text-sm",children:[t.jsx("p",{className:"font-semibold",children:"Bank Transfer Details"}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Bank:"})," ",t.jsx("strong",{children:"ShelTrify Bank PLC"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Account Number:"})," ",t.jsx("strong",{children:"0123456789"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Account Name:"})," ",t.jsx("strong",{children:"ShelTrify Technologies"})]}),t.jsx("p",{className:"text-xs text-light-text-secondary dark:text-dark-text-secondary pt-2",children:"Please use your email as payment reference. Your account will be upgraded upon confirmation."})]}),t.jsx("button",{type:"submit",disabled:l,className:"w-full mt-6 bg-brand-primary text-white rounded-lg py-3 font-bold hover:bg-brand-secondary transition-all flex items-center justify-center disabled:bg-brand-secondary",children:l?"Processing...":"Pay 2,000 Now"})]})},BS=({onClose:n,onConfirm:r})=>{const[s,l]=T.useState("details"),[d,u]=T.useState("Card"),f=["Priority access to new listings","Personalized property recommendations","Dedicated accommodation consultant","Expedited booking process","VIP property tours","Exclusive discounts and offers"],p=y=>{u(y),l("payment")};return t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60",children:t.jsxs("div",{className:"relative bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border rounded-lg shadow-2xl w-full max-w-md p-8 text-light-text-primary dark:text-dark-text-primary transition-all duration-300",children:[t.jsx("button",{onClick:n,className:"absolute top-4 right-4 text-light-text-secondary dark:text-dark-text-secondary hover:text-light-text-primary dark:hover:text-dark-text-primary",children:t.jsx(je,{className:"w-6 h-6"})}),s==="details"?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"text-center",children:[t.jsx(br,{className:"w-12 h-12 mx-auto text-yellow-400 p-2 bg-yellow-400/10 rounded-full"}),t.jsx("h2",{className:"text-2xl font-bold mt-3",children:"Upgrade Chat to Continue"}),t.jsx("p",{className:"text-light-text-secondary dark:text-dark-text-secondary mt-1",children:"Upgrade your chat for 2,000 to continue finding accommodation."})]}),t.jsx("ul",{className:"mt-6 space-y-3",children:f.map((y,x)=>t.jsxs("li",{className:"flex items-start",children:[t.jsx(Ae,{className:"w-5 h-5 text-brand-primary flex-shrink-0 mt-0.5"}),t.jsx("span",{className:"ml-3 text-sm",children:y})]},x))}),t.jsxs("div",{className:"mt-8 bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border p-4 rounded-lg text-center",children:[t.jsx("p",{className:"text-3xl font-bold",children:"2,000"}),t.jsx("p",{className:"text-xs text-light-text-secondary dark:text-dark-text-secondary mt-1",children:"One-time payment to continue chatting"}),t.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-2",children:[t.jsxs("button",{onClick:()=>p("Card"),className:"w-full flex items-center justify-center gap-2 bg-brand-primary text-white font-semibold py-2.5 rounded-md hover:bg-brand-secondary transition-colors",children:[t.jsx(Zl,{className:"w-4 h-4"})," Pay with Card"]}),t.jsxs("button",{onClick:()=>p("Transfer"),className:"w-full flex items-center justify-center gap-2 bg-brand-secondary text-white font-semibold py-2.5 rounded-md hover:opacity-90 transition-colors",children:[t.jsx(fa,{className:"w-4 h-4"})," Bank Transfer"]})]})]})]}):t.jsx(FS,{paymentMethod:d,onBack:()=>l("details"),onPaymentSuccess:r})]})})},zS=({onToggleFavorite:n,favorites:r,programmaticMessage:s,isPremium:l,onPremiumUpgrade:d,chatId:u})=>{const f=()=>{const de=localStorage.getItem(`freeMessages_${u}`);return de?parseInt(de,10):0},[p,y]=T.useState(f()),x=10,[b,v]=T.useState(()=>{try{const de=localStorage.getItem(`chatHistory_${u}`);if(de)return JSON.parse(de)}catch(de){console.error("Could not load messages from localStorage",de)}return[{id:"init",sender:"bot",text:"Hello! I'm Anna, your ShelTrify AI assistant. I can help you find the perfect rental. First, what should I call you?"}]}),[k,w]=T.useState(""),[j,P]=T.useState(!1),[V,$]=T.useState(null),[U,D]=T.useState(!1),[A,I]=T.useState(null),[q,M]=T.useState(""),ee=T.useRef(null),F=T.useRef(null),z=T.useRef(null),[re,ce]=T.useState(null),[se,oe]=T.useState(!1),Y=T.useMemo(()=>{const de=b.filter(fe=>fe.sender==="user");return de[de.length-1]},[b]);T.useEffect(()=>{(async()=>{try{const fe=await og.getSiteData();fe.success&&(ce(fe.data),oe(!0))}catch(fe){console.error("Failed to load site data for AI:",fe)}})()},[]),T.useEffect(()=>{ee.current=AS()},[u]),T.useEffect(()=>{s&&me(void 0,s)},[s]),T.useEffect(()=>{F.current&&(F.current.scrollTop=F.current.scrollHeight);try{localStorage.setItem(`chatHistory_${u}`,JSON.stringify(b))}catch(de){console.error("Could not save messages to localStorage",de)}},[b,j,u]);const _=de=>{w(de),setTimeout(()=>{var fe;(fe=z.current)==null||fe.requestSubmit()},0)},W=T.useCallback(de=>{const fe=`[SYSTEM: Payment for '${de.propertyTitle}' is complete.]`;me(void 0,fe)},[]),Q=async()=>{try{const{userAPI:de}=await Bt(async()=>{const{userAPI:be}=await Promise.resolve().then(()=>Yl);return{userAPI:be}},void 0),fe=await de.upgradeChat();if(fe.success){D(!1),y(0),localStorage.setItem(`freeMessages_${u}`,"0");const be={id:`chat-upgrade-conf-${Date.now()}`,sender:"bot",text:" Great! Your chat has been upgraded. You can now continue chatting to find your perfect accommodation. What are we looking for today?"};v(He=>[...He,be])}else throw new Error(fe.message||"Chat upgrade failed")}catch(de){console.error("Chat upgrade error:",de);const fe={id:`chat-upgrade-error-${Date.now()}`,sender:"bot",text:` ${de.message||"Failed to upgrade chat. Please try again or fund your wallet."}`};v(be=>[...be,fe])}},Z=T.useCallback(async de=>{var be,He,Ct,Et;P(!0),$(null);let fe="";if(r.length>0){const Re=r.map(qe=>`"${qe.title}"`).join(", ");fe+=`[USER FAVORITES: ${Re}] `}if(re&&re.listings&&re.listings.length>0){const Re=re.listings.slice(0,100).map(qe=>{var $e;return{id:qe.id,title:qe.title,description:qe.description||"",price:qe.price,location:qe.location,bedrooms:qe.bedrooms,propertyType:qe.propertyType,amenities:qe.amenities||[],imageUrl:qe.imageUrl,videoUrl:qe.videoUrl,isBoosted:qe.isBoosted,favoritesCount:(($e=qe._count)==null?void 0:$e.favorites)||0}});fe+=`[SITE DATA: ${JSON.stringify({totalListings:((be=re.statistics)==null?void 0:be.totalListings)||Re.length,listings:Re,statistics:re.statistics,note:"Use ONLY these actual listings from the site when answering questions. Do NOT make up properties. If a user asks about properties in a specific location, search through these listings and recommend only matching ones."})}] `}try{const Re=await ee.current.sendMessageStream({message:`${fe} ${de}`.trim()});let qe="";const $e=(Date.now()+1).toString();v(Fe=>[...Fe,{id:$e,sender:"bot",text:""}]);const gs=/\[PROPERTIES:.*?\]/gs,Lt=/\[SUGGESTIONS:.*?\]/gs;for await(const Fe of Re){if(qe+=Fe.text,Fe.functionCalls){for(const Ke of Fe.functionCalls)if(Ke.name==="processPayment")v(Ge=>[...Ge,{id:`ipc-${Date.now()}`,sender:"bot",text:"Please confirm the details and proceed with your payment to secure the property.",property:{type:"interactivePayment",details:Ke.args}}]);else if(Ke.name==="scheduleAppointment")v(Ge=>[...Ge,{id:`fc-${Date.now()}`,sender:"bot",text:"",property:{functionCall:Ke,type:"functionCall"}}]),(Ke.args.action==="schedule"||Ke.args.action==="reschedule")&&setTimeout(()=>{alert("Confirmation email sent to your registered address!");const Ge={id:`tips-${Date.now()}`,sender:"bot",text:`**Maintenance Tips for Your Stay:**
* **Handle with Care:** Use furniture and appliances gently.
* **Follow Rules:** Respect check-in/out times and noise limits.
* **Keep Clean:** Dispose of waste properly.
* **Report Issues Early:** Notify management of any problems immediately.
* **Be Energy Conscious:** Turn off lights, AC, and water when not in use.
* **Secure Property:** Always lock doors and windows when leaving.`};v(fr=>[...fr,Ge])},500);else if(Ke.name==="recommendArtisans"){const{service:Ge,location:fr}=Ke.args,At=Ix.filter(_t=>_t.service.toLowerCase()===Ge.toLowerCase()).slice(0,5);At.length>0?v(_t=>[..._t,{id:`artisans-${Date.now()}`,sender:"bot",text:`Certainly! Here are some top-rated ${Ge}s available in ${fr}:`,artisans:At}]):v(_t=>[..._t,{id:`no-artisans-${Date.now()}`,sender:"bot",text:`I'm sorry, I couldn't find any ${Ge}s right now. You can check the Marketplace or Community Forum for more options.`}])}}const ct=qe.replace(gs,"").replace(Lt,"");v(Ke=>Ke.map(Ge=>Ge.id===$e?{...Ge,text:ct}:Ge))}const dn=/\[PROPERTIES: (\[.*?\])\]/s,nt=/\[SUGGESTIONS: (\[.*?\])\]/s,kr=qe.match(dn),Ir=qe.match(nt),Yn=[];if(kr&&kr[1])try{const Fe=Rx(kr[1]);Yn.push(...JSON.parse(Fe))}catch(Fe){console.error("Failed to parse properties JSON array:",Fe,"JSON:",kr[1])}let Xe;if(Ir&&Ir[1])try{const Fe=Rx(Ir[1]);Xe=JSON.parse(Fe)}catch(Fe){console.error("Failed to parse suggestions JSON array:",Fe,"JSON:",Ir[1])}const pa=qe.replace(dn,"").replace(nt,"").trim(),Gt=[];Yn.forEach((Fe,ct)=>{const Ke=`prop-${Fe.id}-${$e}-${ct}`;Gt.push({id:Ke,sender:"bot",text:"",property:{...Fe,isFavorite:r.some(Ge=>Ge.id===Fe.id),isLoadingImage:!0}})}),Xe&&Gt.length>0&&(Gt[Gt.length-1].suggestions=Xe),v(Fe=>{const ct=[...Fe],Ke=ct.findIndex(Ge=>Ge.id===$e);return Ke!==-1&&(pa?(ct[Ke]={...ct[Ke],text:pa},Xe&&Gt.length===0&&(ct[Ke].suggestions=Xe)):ct.splice(Ke,1)),ct.push(...Gt),ct}),Yn.forEach((Fe,ct)=>{const Ke=`prop-${Fe.id}-${$e}-${ct}`;Ug({title:Fe.title,propertyType:Fe.propertyType,amenities:Fe.amenities}).then(Ge=>{v(fr=>fr.map(At=>{if(At.id===Ke&&At.property){const _t={...At.property,imageUrl:Ge||At.property.imageUrl,isLoadingImage:!1};return{...At,property:_t}}return At}))})})}catch(Re){console.error("Chat error:",Re);let qe="Sorry, I encountered an error. Please try again.";(He=Re==null?void 0:Re.message)!=null&&He.includes("API is not initialized")||(Ct=Re==null?void 0:Re.message)!=null&&Ct.includes("API key")?qe="Chat service is not configured. Please check your API key settings.":(Et=Re==null?void 0:Re.message)!=null&&Et.includes("fetch")||(Re==null?void 0:Re.name)==="TypeError"?qe="Network error. Please check your internet connection and try again.":Re!=null&&Re.message&&(qe=Re.message),$(qe),v($e=>[...$e,{id:"error",sender:"bot",text:qe}])}finally{P(!1)}},[r,u,W]),me=T.useCallback(async(de,fe)=>{de&&de.preventDefault(),A&&I(null);const be=fe||k;if(!be.trim()||j||!ee.current)return;if(!l&&p>=x){const Ct={id:`upgrade-${Date.now()}`,sender:"bot",text:"I have found the best options for you. Upgrade to continue chatting and have what you need."};v(Et=>[...Et,Ct]),D(!0);return}if(!!!fe){const Ct={id:Date.now().toString(),sender:"user",text:be};if(v(Et=>[...Et.map(Re=>({...Re,suggestions:void 0})),Ct]),!l){const Et=p+1;y(Et),localStorage.setItem(`freeMessages_${u}`,Et.toString())}}w(""),await Z(be)},[k,j,r,u,W,A,Z,l,p]),C=de=>{I(de.id),M(de.text)},H=()=>{if(!A)return;const de=b.findIndex(Ct=>Ct.id===A);if(de===-1)return;const fe=b.slice(0,de),be={...b[de],text:q};v([...fe,be]);const He=q;I(null),M(""),Z(He)},X=de=>{me(void 0,`I would like to book a viewing for "${de}".`)},ie=de=>{me(void 0,`I would like to request a virtual tour for "${de}".`)},pe=de=>{me(void 0,`Tell me more details about "${de}".`)},J=[...new Set(Ix.map(de=>de.service))],he=[...J,...J];return t.jsxs("div",{className:"flex flex-col h-full bg-light-bg dark:bg-dark-bg",children:[t.jsx("style",{children:".scrollbar-hide::-webkit-scrollbar { display: none; } .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }"}),U&&t.jsx(BS,{onClose:()=>D(!1),onConfirm:Q}),t.jsxs("div",{ref:F,className:"flex-grow p-6 overflow-y-auto space-y-6",children:[b.map(de=>{const fe=de.id===(Y==null?void 0:Y.id);return t.jsxs("div",{className:"animate-new-message",children:[t.jsxs("div",{className:`group flex items-start gap-2 ${de.sender==="user"?"justify-end":""}`,children:[de.sender==="bot"&&t.jsx("div",{style:{backgroundImage:"url('https://storage.googleapis.com/aai-web-template-assets/sheltrify/anna-avatar-professional-v2.jpeg')"},className:"flex-shrink-0 w-8 h-8 rounded-full bg-cover bg-center"}),t.jsxs("div",{className:`flex items-center gap-2 ${de.sender==="user"?"flex-row-reverse":"flex-row"}`,children:[t.jsxs("div",{className:`max-w-md lg:max-w-lg px-4 py-3 rounded-2xl shadow-sm ${de.sender==="user"?"bg-brand-primary text-white rounded-br-lg":"bg-light-card dark:bg-dark-card text-light-text-primary dark:text-dark-text-primary rounded-bl-lg"}`,children:[A===de.id?t.jsxs("div",{children:[t.jsx("textarea",{value:q,onChange:be=>M(be.target.value),onKeyDown:be=>{be.key==="Enter"&&!be.shiftKey&&(be.preventDefault(),H()),be.key==="Escape"&&I(null)},className:"w-full bg-light-bg dark:bg-dark-bg border border-brand-primary rounded-lg p-2 text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-brand-primary focus:outline-none transition resize-y",rows:3,autoFocus:!0}),t.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[t.jsx("button",{onClick:()=>I(null),className:"px-3 py-1 text-xs font-semibold bg-light-border dark:bg-dark-border rounded-md hover:bg-opacity-80",children:"Cancel"}),t.jsx("button",{onClick:H,className:"px-3 py-1 text-xs font-semibold bg-green-500 text-white rounded-md hover:bg-green-600",children:"Save & Resend"})]})]}):de.text&&t.jsx(RS,{text:de.text}),de.property&&de.property.type==="functionCall"?t.jsx(DS,{functionCall:de.property.functionCall}):de.property&&de.property.type==="interactivePayment"?t.jsx(US,{paymentDetails:de.property.details,onPaymentConfirmed:W}):de.property&&t.jsx(LS,{property:{...de.property,isFavorite:r.some(be=>{var He;return be.id===((He=de.property)==null?void 0:He.id)})},onToggleFavorite:n,onBookNow:X,onViewDetails:pe,onRequestVirtualTour:ie}),de.artisans&&t.jsx("div",{className:"mt-3",children:t.jsx("div",{className:"flex gap-4 overflow-x-auto pb-2 -mx-4 px-4 scrollbar-hide snap-x snap-mandatory",children:de.artisans.map(be=>t.jsx(qS,{artisan:be},be.id))})})]}),de.sender==="user"&&fe&&!j&&!A&&t.jsx("button",{onClick:()=>C(de),"aria-label":"Edit message",className:"self-center p-1 rounded-full text-light-text-secondary dark:text-dark-text-secondary opacity-0 group-hover:opacity-100 focus:opacity-100 transition-opacity",children:t.jsx(jv,{})})]}),de.sender==="user"&&t.jsxs("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-light-text-secondary dark:bg-dark-text-secondary flex items-center justify-center relative",children:[t.jsx(Rr,{className:"w-5 h-5 text-light-bg dark:text-dark-bg"}),l&&t.jsx(bv,{className:"absolute -bottom-1 -right-1 w-4 h-4 text-yellow-400"})]})]}),de.sender==="bot"&&de.suggestions&&t.jsx(VS,{suggestions:de.suggestions,onSelect:_})]},de.id)}),j&&t.jsx("div",{className:"animate-new-message",children:t.jsx(HS,{})})]}),t.jsxs("div",{className:"p-4 bg-light-card dark:bg-dark-card border-t border-light-border dark:border-dark-border",children:[V&&t.jsx("p",{className:"text-red-400 text-sm text-center mb-2",children:V}),!l&&t.jsx("div",{className:"pb-3",children:t.jsxs("button",{onClick:()=>D(!0),className:"w-full text-center bg-yellow-400/10 dark:bg-yellow-400/20 text-yellow-600 dark:text-yellow-400 py-2 px-4 rounded-lg text-sm font-semibold flex items-center justify-center gap-2 hover:bg-yellow-400/20 dark:hover:bg-yellow-400/30 transition-colors",children:[t.jsx(br,{className:"w-5 h-5"})," Upgrade for faster results"]})}),t.jsxs("form",{ref:z,onSubmit:me,className:"relative flex items-center gap-2",children:[t.jsx("input",{type:"text",value:k,onChange:de=>w(de.target.value),placeholder:"Ask ShelTrify anything...",className:"flex-grow w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg pl-12 pr-14 py-3 text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-brand-primary focus:outline-none transition",disabled:j}),t.jsxs("div",{className:"absolute left-3 flex items-center gap-1",children:[t.jsx("button",{type:"button",className:"p-2 text-light-text-secondary dark:text-dark-text-secondary hover:text-brand-primary rounded-full transition-colors",children:t.jsx(Fx,{className:"w-5 h-5"})}),t.jsx("button",{type:"button",className:"p-2 text-light-text-secondary dark:text-dark-text-secondary hover:text-brand-primary rounded-full transition-colors",children:t.jsx(Bx,{className:"w-5 h-5"})})]}),t.jsx("button",{type:"submit",disabled:j||!k.trim(),className:"absolute right-3 flex-shrink-0 bg-brand-primary text-white rounded-md p-2 disabled:bg-gray-400 dark:disabled:bg-gray-600 disabled:cursor-not-allowed hover:bg-brand-secondary transition-all transform hover:scale-110 disabled:scale-100",children:t.jsx(uv,{className:"w-5 h-5"})})]}),t.jsx("p",{className:"text-xs text-center text-light-text-secondary dark:text-dark-text-secondary mt-2",children:"ShelTrify AI may make mistakes. Please verify important information."}),t.jsx("div",{className:"mt-3 pt-3 border-t border-light-border dark:border-dark-border",children:t.jsxs("div",{className:"relative w-full flex overflow-x-hidden group [mask-image:_linear_gradient(to_right,transparent_0,_black_10%,_black_90%,transparent_100%)]",children:[t.jsx("div",{className:"py-2 animate-marquee whitespace-nowrap flex items-center",children:he.map((de,fe)=>t.jsxs(zt.Fragment,{children:[t.jsx("span",{className:"mx-3 text-sm font-semibold text-light-text-secondary dark:text-dark-text-secondary",children:de}),fe<he.length-1&&t.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-brand-primary/50"})]},fe))}),t.jsx("style",{children:`
                    @keyframes marquee {
                        0% { transform: translateX(0%); }
                        100% { transform: translateX(-50%); }
                    }
                    .animate-marquee {
                        animation: marquee 40s linear infinite;
                    }
                    .group:hover .animate-marquee {
                        animation-play-state: paused;
                    }
                `})]})})]})]})},GS=["Any","Apartment","Duplex","Bungalow","Terrace","Penthouse"],OS=["Pool","Gym","Parking","WiFi","Security","Air Conditioning"],YS=["any",1,2,3,4,5],Px=({onApplyFilters:n})=>{const[r,s]=T.useState({min:5e5,max:5e6}),[l,d]=T.useState("any"),[u,f]=T.useState("Any"),[p,y]=T.useState([]),x=k=>{y(w=>w.includes(k)?w.filter(j=>j!==k):[...w,k])},b=k=>{k.preventDefault(),n({priceRange:r,bedrooms:l,propertyType:u==="Any"?"any":u,amenities:p})},v=k=>k>=1e6?`${(k/1e6).toFixed(1)}M`:`${Math.round(k/1e3)}k`;return t.jsxs("form",{onSubmit:b,className:"space-y-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block font-semibold mb-2 text-light-text-primary dark:text-dark-text-primary",children:"Price Range (NGN)"}),t.jsxs("div",{className:"text-center font-medium text-brand-primary mb-2",children:["Up to ",v(r.max)]}),t.jsx("input",{type:"range",min:"500000",max:"10000000",step:"100000",value:r.max,onChange:k=>s({...r,max:parseInt(k.target.value)}),className:"w-full h-2 bg-light-border dark:bg-dark-border rounded-lg appearance-none cursor-pointer accent-brand-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block font-semibold mb-2 text-light-text-primary dark:text-dark-text-primary",children:"Bedrooms"}),t.jsx("div",{className:"grid grid-cols-3 gap-2",children:YS.map(k=>t.jsx("button",{type:"button",onClick:()=>d(k),className:`px-2 py-1.5 rounded-md text-center font-semibold transition-colors ${l===k?"bg-brand-primary text-white":"bg-light-bg dark:bg-dark-bg hover:bg-light-border dark:hover:bg-dark-border"}`,children:k==="any"?"Any":`${k}+`},k))})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"propertyType",className:"block font-semibold mb-1 text-light-text-primary dark:text-dark-text-primary",children:"Property Type"}),t.jsx("select",{id:"propertyType",value:u,onChange:k=>f(k.target.value),className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-md px-3 py-2 focus:ring-brand-primary focus:outline-none",children:GS.map(k=>t.jsx("option",{value:k,children:k},k))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block font-semibold mb-2 text-light-text-primary dark:text-dark-text-primary",children:"Amenities"}),t.jsx("div",{className:"grid grid-cols-2 gap-2",children:OS.map(k=>t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:p.includes(k),onChange:()=>x(k),className:"h-4 w-4 rounded border-light-border dark:border-dark-border text-brand-primary focus:ring-brand-primary"}),t.jsx("span",{className:"text-light-text-secondary dark:text-dark-text-secondary",children:k})]},k))})]}),t.jsx("button",{type:"submit",className:"w-full bg-brand-primary text-white font-bold py-3 rounded-lg hover:bg-brand-secondary transition-colors",children:"Apply Filters"})]})},JS=()=>t.jsx("div",{className:"flex justify-center items-center py-10",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-primary"})}),WS=({text:n,sources:r})=>{const s=({text:l})=>{const d=l.split(`
`);return t.jsx("div",{className:"prose prose-sm max-w-none dark:prose-invert text-inherit",children:d.map((u,f)=>{if(u.startsWith("* "))return t.jsx("li",{className:"my-1 ml-4",children:u.substring(2)},f);if(u.startsWith("### "))return t.jsx("h3",{className:"text-lg font-semibold mt-3 mb-1",children:u.substring(4)},f);if(u.startsWith("## "))return t.jsx("h2",{className:"text-xl font-bold mt-4 mb-2",children:u.substring(3)},f);if(!u.trim())return t.jsx("p",{className:"my-1",children:""},f);const p=u.split(/(\*\*.*?\*\*)/g);return t.jsx("p",{className:"my-1",children:p.filter(y=>y).map((y,x)=>y.startsWith("**")&&y.endsWith("**")?t.jsx("strong",{children:y.slice(2,-2)},x):y)},f)})})};return t.jsxs("div",{className:"mt-4",children:[t.jsx(s,{text:n}),r&&r.length>0&&t.jsxs("div",{className:"mt-6",children:[t.jsx("h4",{className:"font-semibold text-sm text-light-text-primary dark:text-dark-text-primary border-t border-light-border dark:border-dark-border pt-3",children:"Sources"}),t.jsx("ul",{className:"mt-2 space-y-2",children:r.map((l,d)=>t.jsx("li",{children:t.jsxs("a",{href:l.web.uri,target:"_blank",rel:"noopener noreferrer",className:"flex items-start gap-2 text-xs text-blue-500 dark:text-blue-400 hover:underline",children:[t.jsx(Wc,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}),t.jsx("span",{className:"truncate",children:l.web.title||l.web.uri})]})},d))})]})]})},KS=({onClose:n})=>{const[r,s]=T.useState(""),[l,d]=T.useState(!1),[u,f]=T.useState(null),[p,y]=T.useState(null),x=["Average rent for a 2-bedroom in Lekki?","Most popular neighborhoods in Abuja for families?","Rental price trends in Port Harcourt over the last year?"],b=async(v,k)=>{v.preventDefault();const w=k||r;if(w.trim()){d(!0),y(null),f(null);try{const j=await _S(w);f(j)}catch(j){y(j instanceof Error?j.message:"An unknown error occurred.")}finally{d(!1)}}};return t.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:[t.jsx("style",{children:`
                @keyframes fadeIn { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }
                .animate-fade-in { animation: fadeIn 0.3s ease-out forwards; }
            `}),t.jsxs("div",{className:"relative bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border rounded-lg shadow-2xl w-full max-w-2xl p-6 text-light-text-primary dark:text-dark-text-primary flex flex-col max-h-[90vh] animate-fade-in",onClick:v=>v.stopPropagation(),children:[t.jsx("button",{onClick:n,className:"absolute top-4 right-4 text-light-text-secondary dark:text-dark-text-secondary hover:text-light-text-primary dark:hover:text-dark-text-primary",children:t.jsx(je,{className:"w-6 h-6"})}),t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx(Ni,{className:"w-8 h-8 text-brand-primary"}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold",children:"Market Insights"}),t.jsx("p",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary",children:"Get real-time rental market data powered by Google Search."})]})]}),t.jsxs("form",{onSubmit:b,children:[t.jsx("textarea",{value:r,onChange:v=>s(v.target.value),placeholder:"e.g., What are the safest neighborhoods in Ibadan with good schools?",className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg p-3 focus:ring-2 focus:ring-brand-primary focus:outline-none transition resize-y",rows:3,disabled:l}),t.jsxs("div",{className:"text-xs text-light-text-secondary dark:text-dark-text-secondary mt-2 mb-3",children:["Try an example:",x.map((v,k)=>t.jsx("button",{type:"submit",onClick:w=>{s(v),b(w,v)},className:"ml-2 underline hover:text-brand-primary",children:v},k))]}),t.jsx("button",{type:"submit",disabled:l||!r.trim(),className:"w-full bg-brand-primary text-white font-bold py-3 rounded-lg hover:bg-brand-secondary transition-colors disabled:bg-brand-secondary/50 disabled:cursor-not-allowed",children:l?"Getting Insights...":"Get Insights"})]}),t.jsxs("div",{className:"mt-4 flex-grow overflow-y-auto border-t border-light-border dark:border-dark-border -mx-6 px-6 pt-4",children:[l&&t.jsx(JS,{}),p&&t.jsx("p",{className:"text-center text-red-500",children:p}),u&&t.jsx(WS,{text:u.text,sources:u.sources})]})]})]})},$S=[{title:"House",fullTitle:"Residential House",icon:t.jsx(Gc,{className:"w-7 h-7"})},{title:"Hotel",fullTitle:"Hotel/Motel/Guest Houses",icon:t.jsx(Wx,{className:"w-7 h-7"})},{title:"Office",fullTitle:"Office Space",icon:t.jsx(Oc,{className:"w-7 h-7"})},{title:"Business",fullTitle:"Business Premises",icon:t.jsx(Kx,{className:"w-7 h-7"})},{title:"Venue",fullTitle:"Event Venue",icon:t.jsx($x,{className:"w-7 h-7"})},{title:"Hostel",fullTitle:"Student Hostels",icon:t.jsx(Xx,{className:"w-7 h-7"})},{title:"Smart Home",fullTitle:"Smart Home Rent",icon:t.jsx(Qx,{className:"w-7 h-7"})},{title:"Rent-to-Own",fullTitle:"Rent-to-Own",icon:t.jsx(wc,{className:"w-7 h-7"})},{title:"Trip Planner",fullTitle:"Trip Planner",icon:t.jsx(Zx,{className:"w-7 h-7"})},{title:"Navigation",fullTitle:"Road Navigation",icon:t.jsx(eg,{className:"w-7 h-7"})},{title:"Rent Loan",fullTitle:"Rent Loan",icon:t.jsx(wc,{className:"w-7 h-7"})}],XS=({message:n})=>n?t.jsx("div",{className:"fixed top-20 right-4 bg-gray-800 text-white px-4 py-2 rounded-lg shadow-lg z-50 animate-toast",children:n}):null,QS=({isPremium:n,favorites:r,onToggleFavorite:s,onPremiumUpgrade:l,toastMessage:d,onNavigateHome:u,currentUser:f})=>{const[p,y]=T.useState(()=>Date.now()),[x,b]=T.useState("conversations"),[v,k]=T.useState(!1),[w,j]=T.useState(!1),[P,V]=T.useState("");T.useEffect(()=>{if(P){const A=setTimeout(()=>V(""),100);return()=>clearTimeout(A)}},[P]),T.useEffect(()=>{const A=I=>{const q=I.detail;V(`Tell me more details about the property called "${q.title}".`)};return window.addEventListener("viewPropertyDetails",A),()=>{window.removeEventListener("viewPropertyDetails",A)}},[]);const $=()=>{localStorage.removeItem(`chatHistory_${p}`),y(Date.now()),b("conversations")},U=A=>{let I="[USER FILTERS: ";const q=[];A.priceRange.max<1e7&&q.push(`Price up to ${(A.priceRange.max/1e3).toFixed(0)}k`),A.bedrooms!=="any"&&q.push(`${A.bedrooms} bedroom${A.bedrooms>1?"s":""}`),A.propertyType!=="any"&&q.push(A.propertyType),A.amenities.length>0&&q.push(A.amenities.join(", ")),I+=q.join(", ")+"]",V(I),k(!1)},D=A=>{V(`I'm interested in finding a ${A}. Can you help?`)};return t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 h-[85vh]",children:[t.jsx(XS,{message:d}),w&&t.jsx(KS,{onClose:()=>j(!1)}),t.jsx("style",{children:`
                .scrollbar-hide::-webkit-scrollbar { display: none; }
                .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }
            `}),t.jsxs("div",{className:"hidden lg:flex flex-col gap-6",children:[t.jsxs("div",{className:"bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border rounded-lg p-4 flex-grow flex flex-col",children:[t.jsxs("div",{className:"flex justify-between items-center mb-3",children:[t.jsx("h2",{className:"font-bold text-lg text-light-text-primary dark:text-dark-text-primary",children:"Advanced Search"}),t.jsx("button",{onClick:()=>j(!0),title:"Market Insights",className:"p-2 rounded-full hover:bg-light-border dark:hover:bg-dark-border",children:t.jsx(Ni,{className:"w-5 h-5 text-brand-primary"})})]}),t.jsx(Px,{onApplyFilters:U})]}),t.jsxs("div",{className:"p-3 border border-light-border dark:border-dark-border rounded-lg bg-light-card dark:bg-dark-card flex-shrink-0 flex items-center gap-3",children:[f!=null&&f.avatarUrl?t.jsx("img",{src:f.avatarUrl,alt:f.fullName||"User",className:"w-10 h-10 rounded-full object-cover"}):t.jsx("div",{className:"w-10 h-10 rounded-full bg-light-border dark:bg-dark-border flex items-center justify-center",children:t.jsx(Rr,{className:"w-6 h-6"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-sm",children:(f==null?void 0:f.fullName)||"Guest User"}),t.jsx("p",{className:"text-xs text-light-text-secondary dark:text-dark-text-secondary",children:f!=null&&f.role?f.role.replace("_"," "):"Guest Profile"})]})]})]}),t.jsxs("main",{className:"lg:col-span-2 flex flex-col bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border rounded-lg shadow-2xl overflow-hidden",children:[t.jsxs("div",{className:"p-4 border-b border-light-border dark:border-dark-border flex-shrink-0 bg-light-card dark:bg-dark-card text-center relative",children:[t.jsx("h3",{className:"font-bold text-lg text-light-text-primary dark:text-dark-text-primary",children:"AI Property Assistant"}),t.jsx("p",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary",children:"I can help you find the perfect property."}),t.jsxs("div",{className:"absolute top-1/2 -translate-y-1/2 right-4 flex items-center gap-2",children:[t.jsxs("div",{className:"lg:hidden flex gap-2",children:[t.jsx("button",{onClick:()=>j(!0),className:"p-2 rounded-full hover:bg-light-border dark:hover:bg-dark-border",children:t.jsx(Ni,{className:"w-5 h-5"})}),t.jsx("button",{onClick:()=>k(!v),className:"p-2 rounded-full hover:bg-light-border dark:hover:bg-dark-border",children:t.jsx(wv,{})})]}),t.jsx("button",{onClick:$,className:"bg-brand-primary text-white text-sm font-semibold py-2 px-3 rounded-lg hover:bg-brand-secondary transition-colors",children:"+ Clear Chat"})]})]}),t.jsx("div",{className:"p-3 border-b border-light-border dark:border-dark-border flex-shrink-0 bg-light-card dark:bg-dark-card",children:t.jsx("div",{className:"flex gap-3 overflow-x-auto scrollbar-hide",children:$S.map(A=>t.jsxs("button",{onClick:()=>D(A.fullTitle),className:"flex flex-col items-center justify-start text-center p-2 rounded-lg w-20 h-24 flex-shrink-0 group hover:bg-light-bg dark:hover:bg-dark-bg transition-colors",children:[t.jsx("div",{className:"w-12 h-12 flex items-center justify-center bg-light-bg dark:bg-dark-bg rounded-full border border-light-border dark:border-dark-border text-brand-primary group-hover:border-brand-primary/50 transition-colors",children:A.icon}),t.jsx("span",{className:"text-xs mt-2 font-semibold text-light-text-secondary dark:text-dark-text-secondary group-hover:text-light-text-primary dark:group-hover:text-dark-text-primary transition-colors line-clamp-2",children:A.title})]},A.title))})}),v&&t.jsx("div",{className:"lg:hidden p-4 bg-light-bg dark:bg-dark-bg border-b border-light-border dark:border-dark-border",children:t.jsx(Px,{onApplyFilters:U})}),t.jsx("div",{className:"flex-grow overflow-hidden",children:t.jsx(zS,{chatId:p,isPremium:n,favorites:r,onToggleFavorite:s,onPremiumUpgrade:l,programmaticMessage:P},p)})]}),t.jsxs("aside",{className:"hidden lg:flex flex-col bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border rounded-lg",children:[t.jsxs("div",{className:"p-4 border-b border-light-border dark:border-dark-border flex-shrink-0 flex justify-between items-center",children:[t.jsxs("div",{className:"border-b border-light-border dark:border-dark-border flex",children:[t.jsx("button",{onClick:()=>b("conversations"),className:`px-4 py-2 text-sm font-semibold ${x==="conversations"?"text-brand-primary border-b-2 border-brand-primary":"text-light-text-secondary dark:text-dark-text-secondary"}`,children:"Chats"}),t.jsxs("button",{onClick:()=>b("favorites"),className:`px-4 py-2 text-sm font-semibold flex items-center gap-2 ${x==="favorites"?"text-brand-primary border-b-2 border-brand-primary":"text-light-text-secondary dark:text-dark-text-secondary"}`,children:[t.jsx(sg,{})," Favorites"]})]}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("button",{onClick:u,className:"text-sm font-semibold py-2 px-3 rounded-lg hover:bg-light-bg dark:hover:bg-dark-bg transition-colors",children:"Home"})})]}),t.jsxs("div",{className:"flex-grow overflow-y-auto",children:[x==="conversations"&&t.jsx("div",{className:"p-4 text-center text-sm text-light-text-secondary dark:text-dark-text-secondary",children:"Conversation history will be shown here."}),x==="favorites"&&t.jsx("div",{className:"p-2 space-y-2",children:r.length>0?r.map(A=>t.jsxs("div",{className:"flex gap-3 p-2 rounded-lg hover:bg-light-bg dark:hover:bg-dark-bg",children:[t.jsx("img",{src:A.imageUrl,alt:A.title,className:"w-16 h-16 rounded-md object-cover flex-shrink-0"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-sm text-light-text-primary dark:text-dark-text-primary line-clamp-2",children:A.title}),t.jsx("p",{className:"text-xs text-brand-primary font-bold",children:A.price})]})]},A.id)):t.jsx("div",{className:"p-4 text-center text-sm text-light-text-secondary dark:text-dark-text-secondary",children:"You haven't saved any properties yet."})})]})]})]})};function ZS(n){let r="";const s=n.byteLength;for(let l=0;l<s;l++)r+=String.fromCharCode(n[l]);return btoa(r)}function eT(n){const r=atob(n),s=r.length,l=new Uint8Array(s);for(let d=0;d<s;d++)l[d]=r.charCodeAt(d);return l}async function tT(n,r,s,l){const d=new Int16Array(n.buffer),u=d.length/l,f=r.createBuffer(l,u,s);for(let p=0;p<l;p++){const y=f.getChannelData(p);for(let x=0;x<u;x++)y[x]=d[x*l+p]/32768}return f}function rT(n){const r=n.length,s=new Int16Array(r);for(let l=0;l<r;l++)s[l]=n[l]*32768;return{data:ZS(new Uint8Array(s.buffer)),mimeType:"audio/pcm;rate=16000"}}const nT={name:"displayProperty",description:"Displays property visuals to the user. Only the property title is needed; the system will generate a representative image.",parameters:{type:Pe.OBJECT,properties:{title:{type:Pe.STRING,description:'The title or name of the property, e.g., "Modern 3-Bedroom Duplex in Lekki".'},videoUrl:{type:Pe.STRING,description:"An optional YouTube video URL for a virtual tour of the property."}},required:["title"]}},aT={name:"showAmenities",description:"Displays a list of nearby amenities for a given property.",parameters:{type:Pe.OBJECT,properties:{propertyTitle:{type:Pe.STRING,description:"The title of the property for which to show amenities."},amenities:{type:Pe.ARRAY,description:'A list of amenities to display, e.g., ["School Nearby", "24/7 Power", "Shopping Mall"].',items:{type:Pe.STRING}}},required:["propertyTitle","amenities"]}},sT={name:"explainService",description:"Provides a brief explanation of a specific ShelTrify service to the user.",parameters:{type:Pe.OBJECT,properties:{serviceName:{type:Pe.STRING,description:"The name of the service to explain.",enum:["wallet","premium","marketplace","rental wahala","feels","investment"]}},required:["serviceName"]}},iT=({property:n,onClose:r})=>{const[s,l]=T.useState(0),d=()=>{l(y=>(y+1)%n.images.length)},u=()=>{l(y=>(y-1+n.images.length)%n.images.length)},p=(y=>{if(!y)return null;try{const x=new URL(y);return`https://www.youtube.com/embed/${x.searchParams.get("v")||x.pathname.split("/").pop()}`}catch{return null}})(n.videoUrl);return t.jsxs("div",{className:"w-full h-full bg-light-bg dark:bg-dark-bg text-light-text-primary dark:text-dark-text-primary flex flex-col p-3",children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("h4",{className:"font-bold text-sm truncate",children:n.title}),t.jsx("button",{onClick:r,children:t.jsx(je,{className:"w-4 h-4"})})]}),t.jsxs("div",{className:"flex-grow relative group",children:[n.images&&n.images.length>0&&t.jsx("img",{src:n.images[s],alt:n.title,className:"w-full h-full object-cover rounded-md"}),n.images&&n.images.length>1&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:u,className:"absolute left-2 top-1/2 -translate-y-1/2 bg-black/50 p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:t.jsx(zn,{})}),t.jsx("button",{onClick:d,className:"absolute right-2 top-1/2 -translate-y-1/2 bg-black/50 p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:t.jsx(Gn,{})})]})]}),p&&t.jsxs("a",{href:n.videoUrl,target:"_blank",rel:"noopener noreferrer",className:"mt-2 text-xs flex items-center justify-center gap-2 bg-light-card dark:bg-dark-card p-2 rounded-md hover:bg-light-border dark:hover:bg-dark-border",children:[t.jsx(cr,{className:"w-5 h-5 text-red-500"}),"Watch Video Tour"]})]})},lT=({data:n,onClose:r})=>t.jsx("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center z-20 p-4",children:t.jsxs("div",{className:"w-full max-w-sm bg-light-card dark:bg-dark-card rounded-xl shadow-2xl overflow-hidden border border-light-border dark:border-dark-border p-5 animate-fade-in",children:[t.jsxs("div",{className:"flex justify-between items-center mb-3",children:[t.jsxs("h4",{className:"font-bold text-lg flex items-center gap-2",children:[t.jsx($l,{className:"w-5 h-5 text-brand-primary"})," Amenities"]}),t.jsx("button",{onClick:r,children:t.jsx(je,{className:"w-5 h-5"})})]}),t.jsxs("p",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary mb-3",children:["For: ",t.jsx("span",{className:"font-semibold text-light-text-primary dark:text-dark-text-primary",children:n.title})]}),t.jsx("ul",{className:"space-y-2",children:n.amenities.map((s,l)=>t.jsxs("li",{className:"flex items-center gap-3 bg-light-bg dark:bg-dark-bg p-2 rounded-md",children:[t.jsx("div",{className:"w-2 h-2 rounded-full bg-brand-primary"}),t.jsx("span",{children:s})]},l))})]})}),oT={wallet:{title:"ShelTrify Wallet",description:"Your hub for earnings, savings, and rewards. Earn SWC (ShelTrify Wallet Coins) through referrals and activities, and use them to pay for services or withdraw as cash.",icon:t.jsx(Bn,{className:"w-6 h-6 text-brand-primary"})},premium:{title:"Premium Subscription",description:"Get ahead with priority access to new listings, personalized recommendations from consultants, and exclusive discounts to find your perfect accommodation faster.",icon:t.jsx(br,{className:"w-6 h-6 text-brand-primary"})},marketplace:{title:"Marketplace",description:"A one-stop shop for everything home-related, from furniture and electronics to building materials and connections with local artisans.",icon:t.jsx(fs,{className:"w-6 h-6 text-brand-primary"})},"rental wahala":{title:"Rental Wahala Feeds",description:"A fun, curated feed of short, relatable videos capturing the unique challenges and humorous side of renting in Nigeria.",icon:t.jsx(Yx,{className:"w-6 h-6 text-brand-primary"})},feels:{title:"Feels",description:"A short-form video feed for real estate inspiration, featuring engaging video tours, design ideas, and moments to make your property search more enjoyable.",icon:t.jsx(cr,{className:"w-6 h-6 text-brand-primary"})},investment:{title:"Investment Deals",description:"An opportunity for investors and the diaspora to earn competitive ROI by funding property acquisition, renovation, and other high-yield real estate trades managed by the ShelTrify team.",icon:t.jsx(Rr,{className:"w-6 h-6 text-brand-primary"})}},dT=({service:n,onClose:r})=>{const s=oT[n]||{title:"Service",description:"Details about this service.",icon:t.jsx(br,{className:"w-6 h-6 text-brand-primary"})};return t.jsx("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center z-20 p-4",children:t.jsxs("div",{className:"w-full max-w-sm bg-light-card dark:bg-dark-card rounded-xl shadow-2xl overflow-hidden border border-light-border dark:border-dark-border p-5 animate-fade-in",children:[t.jsxs("div",{className:"flex justify-between items-center mb-3",children:[t.jsxs("h4",{className:"font-bold text-lg flex items-center gap-2",children:[s.icon," ",s.title]}),t.jsx("button",{onClick:r,children:t.jsx(je,{className:"w-5 h-5"})})]}),t.jsx("p",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary",children:s.description})]})})},cT=({transcripts:n,onClose:r})=>{const s=n.filter(d=>d.text.trim()!=="").map(d=>`${d.speaker==="model"?"Anna":"You"}: ${d.text}`).join(`

`),l=d=>{d.preventDefault(),alert("Your request has been sent to the ShelTrify team. We will follow up with you shortly!"),r()};return t.jsx("div",{className:"absolute inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:t.jsxs("form",{onSubmit:l,className:"bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border p-8 rounded-lg max-w-lg w-full animate-fade-in",children:[t.jsx("style",{children:`
                    @keyframes fade-in {
                        from { opacity: 0; transform: scale(0.95); }
                        to { opacity: 1; transform: scale(1); }
                    }
                    .animate-fade-in { animation: fade-in 0.3s ease-out forwards; }
                `}),t.jsx("h3",{className:"text-xl font-bold",children:"Follow-up Request"}),t.jsx("p",{className:"text-light-text-secondary dark:text-dark-text-secondary mt-2 mb-4",children:"Please confirm your details. A summary of your conversation will be sent to our team to find the perfect match for you."}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("input",{type:"text",placeholder:"Full Name",required:!0,className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg p-3 focus:ring-2 focus:ring-brand-primary focus:outline-none transition"}),t.jsx("input",{type:"email",placeholder:"Your Email Address",required:!0,className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg p-3 focus:ring-2 focus:ring-brand-primary focus:outline-none transition"}),t.jsx("input",{type:"tel",placeholder:"Phone / WhatsApp Number",required:!0,className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg p-3 focus:ring-2 focus:ring-brand-primary focus:outline-none transition"}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1",children:"Conversation Summary"}),t.jsx("textarea",{readOnly:!0,value:s,rows:6,className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg p-3 focus:ring-2 focus:ring-brand-primary focus:outline-none transition resize-none"})]})]}),t.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[t.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 text-sm font-semibold bg-light-border dark:bg-dark-border rounded-md hover:bg-opacity-80",children:"Skip"}),t.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-semibold bg-brand-primary text-white rounded-md hover:bg-brand-secondary",children:"Submit for Follow-up"})]})]})})},uT=({onClose:n})=>{const[r,s]=T.useState("requesting"),[l,d]=T.useState(null),[u,f]=T.useState([]),[p,y]=T.useState(!0),[x,b]=T.useState(!0),[v,k]=T.useState(null),[w,j]=T.useState(!1),[P,V]=T.useState(null),[$,U]=T.useState(null),D=T.useRef(null),A=T.useRef(null),I=T.useRef(null),q=T.useRef(null),M=T.useRef({inputAudioContext:null,outputAudioContext:null,scriptProcessor:null,mediaSource:null,sources:new Set,nextStartTime:0}).current,ee=T.useCallback(()=>{q.current&&(q.current.getTracks().forEach(Y=>Y.stop()),q.current=null),M.scriptProcessor&&(M.scriptProcessor.disconnect(),M.scriptProcessor=null),M.mediaSource&&(M.mediaSource.disconnect(),M.mediaSource=null),M.inputAudioContext&&M.inputAudioContext.state!=="closed"&&M.inputAudioContext.close(),M.outputAudioContext&&M.outputAudioContext.state!=="closed"&&M.outputAudioContext.close(),I.current&&(I.current.then(Y=>Y.close()),I.current=null)},[M]),F=T.useCallback(async()=>{s("requesting"),d(null);try{const Y=await navigator.mediaDevices.getUserMedia({audio:!0,video:!0});q.current=Y,D.current&&(D.current.srcObject=Y),s("connecting");const _=new Dg({apiKey:"AIzaSyDHnNSs4KqYjEuOMIbOvuNdQkSAuU8kb98"});M.inputAudioContext=new(window.AudioContext||window.webkitAudioContext)({sampleRate:16e3}),M.outputAudioContext=new(window.AudioContext||window.webkitAudioContext)({sampleRate:24e3}),I.current=_.live.connect({model:"gemini-2.5-flash-native-audio-preview-09-2025",callbacks:{onopen:()=>{s("connected");const W=M.inputAudioContext.createMediaStreamSource(Y);M.mediaSource=W;const Q=M.inputAudioContext.createScriptProcessor(4096,1,1);M.scriptProcessor=Q,Q.onaudioprocess=Z=>{var H;const me=Z.inputBuffer.getChannelData(0),C=rT(me);(H=I.current)==null||H.then(X=>{X.sendRealtimeInput({media:C})})},W.connect(Q),Q.connect(M.inputAudioContext.destination)},onmessage:async W=>{var Z,me,C,H,X,ie,pe,J,he,de;if((Z=W.serverContent)!=null&&Z.inputTranscription){const fe=W.serverContent.inputTranscription.text;f(be=>{const He=be[be.length-1];return He&&He.speaker==="user"&&!He.isFinal?(He.text+=fe,[...be]):[...be,{speaker:"user",text:fe,isFinal:!1}]})}if((me=W.serverContent)!=null&&me.outputTranscription){const fe=W.serverContent.outputTranscription.text;f(be=>{const He=be[be.length-1];return He&&He.speaker==="model"&&!He.isFinal?(He.text+=fe,[...be]):[...be,{speaker:"model",text:fe,isFinal:!1}]})}if((C=W.serverContent)!=null&&C.turnComplete&&f(fe=>fe.map(be=>({...be,isFinal:!0}))),W.toolCall)for(const fe of W.toolCall.functionCalls){if(fe.name==="displayProperty"){const be=fe.args,He=await Ug({title:be.title}),Ct={...be,images:He?[He]:["https://images.unsplash.com/photo-1582407947304-fd86f028f716?q=80&w=2070"]};k(Ct),(H=I.current)==null||H.then(Et=>{Et.sendToolResponse({functionResponses:{id:fe.id,name:fe.name,response:{result:"OK, I have generated and displayed an image of the property to the user."}}})})}fe.name==="showAmenities"&&(V({title:fe.args.propertyTitle,amenities:fe.args.amenities}),(X=I.current)==null||X.then(be=>{be.sendToolResponse({functionResponses:{id:fe.id,name:fe.name,response:{result:"OK, I have displayed the amenities for the user."}}})})),fe.name==="explainService"&&(U(fe.args.serviceName),(ie=I.current)==null||ie.then(be=>{be.sendToolResponse({functionResponses:{id:fe.id,name:fe.name,response:{result:"OK, I have displayed an explanation of the service to the user."}}})}))}const Q=(de=(he=(J=(pe=W.serverContent)==null?void 0:pe.modelTurn)==null?void 0:J.parts[0])==null?void 0:he.inlineData)==null?void 0:de.data;if(Q&&M.outputAudioContext){M.nextStartTime=Math.max(M.nextStartTime,M.outputAudioContext.currentTime);const fe=await tT(eT(Q),M.outputAudioContext,24e3,1),be=M.outputAudioContext.createBufferSource();be.buffer=fe,be.connect(M.outputAudioContext.destination),be.addEventListener("ended",()=>M.sources.delete(be)),be.start(M.nextStartTime),M.nextStartTime+=fe.duration,M.sources.add(be)}},onerror:W=>{console.error(W),d("Connection lost. You can try reconnecting or end the call to send a follow-up request."),s("error")},onclose:()=>{ee()}},config:{responseModalities:[Ti.AUDIO],speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:"Zephyr"}}},inputAudioTranscription:{},outputAudioTranscription:{},systemInstruction:`You are Anna, ShelTrify's expert AI video assistant. Your primary role is to engage users in a friendly and professional real-time video and voice conversation to help them with their real estate and related needs. You are fully multilingual and should respond to the user in their preferred language.

**Your Core Task:**
1.  **Greet the user warmly.** If they share their name, use it to make the conversation more personal.
2.  **Understand their needs** by asking clarifying questions based on ShelTrify's wide range of services.
3.  **Provide helpful information** and guide them through their options.
4.  When a user expresses interest in seeing a property, **you must use the \`displayProperty\` tool** to show them visuals. Say something like, "I can show you an example of that right now," then call the function with a creative title. The system will generate an image.
5.  When discussing a property, you can use the **\`showAmenities\` function** to visually display its nearby facilities.
6.  If a property has a video tour available, you should proactively offer to show it.
7.  If a user asks about a ShelTrify feature, **you MUST use the \`explainService\` function** to provide a clear explanation of services like ShelTrify Wallet, Premium Subscription, Marketplace, Rental Wahala, Feels, and Investment Deals.

**ShelTrify Service Categories (Your Knowledge Base):**
You MUST keep the conversation focused on these services.
- **Residential & Commercial Properties:** Houses, hotels, offices, business premises, short lets, student hostels.
- **Booking & Logistics:** Transport booking, event venues, trip planning.
- **Financial Services:** Rent-to-own plans, rent loans, investment deals.
- **Platform Features:** The ShelTrify Wallet, Marketplace, Feels & Rental Wahala feeds, Premium subscription.

Maintain a stable, helpful, and focused conversation. Be conversational and natural, like a real human assistant on a video call.`,tools:[{functionDeclarations:[nT,aT,sT]}]}})}catch(Y){console.error(Y),d("Could not access camera/microphone. Please check browser permissions and try reconnecting."),s("error")}},[ee,M]);T.useEffect(()=>(F(),()=>ee()),[F,ee]),T.useEffect(()=>{var Y;(Y=A.current)==null||Y.scrollTo(0,A.current.scrollHeight)},[u]);const z=()=>{if(q.current){const Y=q.current.getVideoTracks()[0];Y.enabled=!p,y(!p)}},re=()=>{if(q.current){const Y=q.current.getAudioTracks()[0];Y.enabled=!x,b(!x)}},ce=()=>{ee(),j(!0)},se=()=>{ee(),F()},oe=()=>{switch(r){case"requesting":return"Requesting permissions...";case"connecting":return"Connecting to Anna...";case"error":return l;case"connected":return"You're connected with Anna";default:return""}};return t.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-light-bg dark:bg-dark-bg text-light-text-primary dark:text-dark-text-primary",children:[w&&t.jsx(cT,{transcripts:u,onClose:n}),t.jsxs("div",{className:`relative w-full h-full flex flex-col p-4 md:p-8 ${w?"invisible":""}`,children:[t.jsxs("header",{className:"flex justify-between items-center mb-4 flex-shrink-0",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold",children:"Live Assistant: Anna"}),t.jsx("p",{className:`text-sm min-h-[20px] ${r==="error"?"text-red-400 font-semibold":"text-light-text-secondary dark:text-dark-text-secondary"}`,children:oe()})]}),t.jsx("button",{onClick:n,className:"p-2 rounded-full hover:bg-light-card dark:hover:bg-dark-card transition-colors",children:t.jsx(je,{})})]}),t.jsxs("main",{className:"flex-grow grid grid-cols-1 lg:grid-cols-3 gap-6 overflow-hidden",children:[t.jsxs("div",{className:"lg:col-span-2 relative w-full h-full bg-light-card dark:bg-dark-card rounded-lg overflow-hidden border border-light-border dark:border-dark-border",children:[t.jsx("video",{src:"https://storage.googleapis.com/aai-web-template-assets/sheltrify/anna-talking-loop-v2.mp4",autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/30 to-transparent pointer-events-none"}),t.jsx("div",{className:"absolute top-4 left-4 bg-black/50 text-white text-sm px-2 py-1 rounded-md pointer-events-none",children:"Anna"}),t.jsxs("div",{className:"absolute bottom-4 right-4 w-40 h-32 md:w-60 md:h-44 bg-light-bg dark:bg-dark-bg rounded-lg overflow-hidden border-2 border-light-border dark:border-dark-border shadow-2xl z-10",children:[t.jsx("video",{ref:D,autoPlay:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover transform -scale-x-100"}),!p&&t.jsx("div",{className:"absolute inset-0 bg-light-bg dark:bg-dark-bg flex items-center justify-center",children:t.jsx(sp,{className:"w-8 h-8 text-light-text-secondary dark:text-dark-text-secondary"})}),t.jsx("div",{className:"absolute bottom-1 left-1 bg-black/50 text-white text-xs px-1.5 py-0.5 rounded-md",children:"You"})]}),v&&t.jsx("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center z-20 p-4",children:t.jsx("div",{className:"w-full max-w-lg h-auto max-h-[90%] bg-light-card dark:bg-dark-card rounded-xl shadow-2xl overflow-hidden border border-light-border dark:border-dark-border",children:t.jsx(iT,{property:v,onClose:()=>k(null)})})}),P&&t.jsx(lT,{data:P,onClose:()=>V(null)}),$&&t.jsx(dT,{service:$,onClose:()=>U(null)})]}),t.jsxs("div",{className:"bg-light-card dark:bg-dark-card rounded-lg flex flex-col p-4 border border-light-border dark:border-dark-border",children:[t.jsx("h3",{className:"text-lg font-bold mb-3 flex-shrink-0",children:"Live Transcript"}),t.jsxs("div",{ref:A,className:"flex-grow overflow-y-auto space-y-4 pr-2",children:[u.map((Y,_)=>t.jsx("div",{className:`flex ${Y.speaker==="user"?"justify-end":"justify-start"}`,children:t.jsxs("div",{className:`px-4 py-2 rounded-lg max-w-sm ${Y.speaker==="user"?"bg-brand-primary text-white":"bg-light-bg dark:bg-dark-bg"} ${Y.isFinal?"":"opacity-70"}`,children:[t.jsxs("span",{className:"font-bold capitalize",children:[Y.speaker==="model"?"Anna":"You",": "]})," ",Y.text]})},_)),u.length===0&&r==="connected"&&t.jsx("div",{className:"text-center text-light-text-secondary dark:text-dark-text-secondary h-full flex items-center justify-center",children:t.jsx("p",{children:"Anna is listening. How can I help you today?"})})]})]})]}),t.jsx("footer",{className:"mt-6 flex justify-center items-center gap-4 flex-shrink-0",children:r==="error"?t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:se,className:"px-6 py-3 text-sm font-bold text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors","aria-label":"Reconnect call",children:"Reconnect"}),t.jsx("button",{onClick:ce,className:"p-4 rounded-full bg-red-600 hover:bg-red-700 transition-colors text-white","aria-label":"End call and send follow-up",children:t.jsx(np,{})})]}):t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:re,disabled:r!=="connected",className:"p-4 rounded-full bg-light-card dark:bg-dark-card hover:bg-light-border dark:hover:bg-dark-border transition-colors disabled:opacity-50","aria-label":x?"Mute microphone":"Unmute microphone",children:x?t.jsx(Fx,{}):t.jsx(fv,{})}),t.jsx("button",{onClick:z,disabled:r!=="connected",className:"p-4 rounded-full bg-light-card dark:bg-dark-card hover:bg-light-border dark:hover:bg-dark-border transition-colors disabled:opacity-50","aria-label":p?"Turn off camera":"Turn on camera",children:p?t.jsx(us,{}):t.jsx(sp,{})}),t.jsx("button",{onClick:ce,className:"p-4 rounded-full bg-red-600 hover:bg-red-700 transition-colors text-white","aria-label":"End call",children:t.jsx(np,{})})]})})]})]})},mT=n=>{var r;return n?{name:n.fullName||"Guest User",handle:((r=n.email)==null?void 0:r.split("@")[0])||"guest",avatarUrl:n.avatarUrl||"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?q=80&w=256"}:{name:"Guest User",handle:"guest",avatarUrl:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?q=80&w=256"}},qg=[{name:"Rental Experiences",category:"Rental Experiences",description:"Real tenant reviews, success & challenge stories",icon:Gc,emoji:""},{name:"Neighborhood Chat",category:"Neighborhood Chat",description:"Local life: safety, utilities, transport, events",icon:$l,emoji:""},{name:"Tips & Advice",category:"Tips & Advice",description:"Avoiding scams, moving checklists, budgeting",icon:Yx,emoji:""},{name:"Landlord Corner",category:"Landlord Corner",description:"Best practices, policies, maintenance tips",icon:Oc,emoji:""},{name:"Announcements",category:"Announcements",description:"Official updates, safety alerts, promotions",icon:Jx,emoji:""}],fT=({onPost:n,currentUser:r,selectedCategory:s})=>{const[l,d]=T.useState(""),[u,f]=T.useState(null),[p,y]=T.useState(null),[x,b]=T.useState(null),[v,k]=T.useState(null),[w,j]=T.useState(!1),P=T.useRef(null),V=T.useRef(null),$=qg.find(I=>I.category===s),U=(I,q)=>{var ee;const M=(ee=I.target.files)==null?void 0:ee[0];if(M)if(q==="image"){b(M);const F=new FileReader;F.onloadend=()=>{f(F.result),y(null),k(null)},F.readAsDataURL(M)}else q==="video"&&(k(M),y(M.name),f(null),b(null))},D=()=>{f(null),y(null),b(null),k(null),P.current&&(P.current.value=""),V.current&&(V.current.value="")},A=async I=>{if(I.preventDefault(),!!l.trim()){j(!0);try{let q,M;if(x||v){const ee=await Fn.uploadMedia(x||void 0,v||void 0);ee.success&&(q=ee.data.imageUrl,M=ee.data.videoUrl)}n({content:l,imageUrl:q||u||void 0,videoUrl:M||(p?"https://images.unsplash.com/photo-1526948531399-320e7e40f0ca?q=80&w=800":void 0)}),d(""),D()}catch(q){alert(q.message||"Failed to upload files. Please login first.")}finally{j(!1)}}};return t.jsxs("div",{className:"bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border rounded-lg p-3 md:p-4 mb-4 md:mb-6",children:[$&&t.jsxs("div",{className:"mb-3 flex items-center gap-2 text-xs md:text-sm px-2",children:[t.jsx("span",{className:"text-lg md:text-xl",children:$.emoji}),t.jsxs("span",{className:"text-brand-primary font-semibold truncate",children:["Posting to: ",$.name]})]}),t.jsx("input",{type:"file",ref:P,onChange:I=>U(I,"image"),accept:"image/*",className:"hidden"}),t.jsx("input",{type:"file",ref:V,onChange:I=>U(I,"video"),accept:"video/*",className:"hidden"}),t.jsxs("form",{onSubmit:A,children:[t.jsxs("div",{className:"flex items-start gap-2 md:gap-4",children:[t.jsx("img",{src:r.avatarUrl,alt:r.name,className:"w-10 h-10 md:w-12 md:h-12 rounded-full object-cover flex-shrink-0"}),t.jsx("textarea",{value:l,onChange:I=>d(I.target.value),placeholder:$?`Share your ${$.name.toLowerCase()}...`:"What's on your mind?",className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg p-2 md:p-3 text-sm md:text-base text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-brand-primary focus:outline-none transition resize-none",rows:3})]}),(u||p)&&t.jsxs("div",{className:"mt-3 pl-12 md:pl-16 relative",children:[u&&t.jsx("img",{src:u,alt:"Preview",className:"rounded-lg max-h-48 md:max-h-60 w-auto border border-light-border dark:border-dark-border"}),p&&t.jsxs("div",{className:"p-2 md:p-3 bg-light-bg dark:bg-dark-bg rounded-lg border border-light-border dark:border-dark-border flex items-center gap-2 md:gap-3",children:[t.jsx(us,{className:"w-5 h-5 md:w-6 md:h-6 text-brand-primary flex-shrink-0"}),t.jsx("span",{className:"text-xs md:text-sm text-light-text-secondary dark:text-dark-text-secondary truncate",children:p})]}),t.jsx("button",{onClick:D,className:"absolute -top-2 -right-2 bg-light-card dark:bg-dark-card rounded-full p-1 border border-light-border dark:border-dark-border hover:scale-110 transition-transform",children:t.jsx(je,{className:"w-3 h-3 md:w-4 md:h-4"})})]}),t.jsxs("div",{className:"flex flex-wrap justify-between items-center mt-3 pl-12 md:pl-16 gap-2",children:[t.jsxs("div",{className:"flex items-center gap-1 md:gap-2 text-light-text-secondary dark:text-dark-text-secondary",children:[t.jsx("button",{type:"button",onClick:()=>{var I;return(I=P.current)==null?void 0:I.click()},className:"p-1.5 md:p-2 rounded-full hover:bg-light-bg dark:hover:bg-dark-bg hover:text-brand-primary",children:t.jsx(Jc,{className:"w-4 h-4 md:w-5 md:h-5"})}),t.jsx("button",{type:"button",onClick:()=>{var I;return(I=V.current)==null?void 0:I.click()},className:"p-1.5 md:p-2 rounded-full hover:bg-light-bg dark:hover:bg-dark-bg hover:text-brand-primary",children:t.jsx(us,{className:"w-4 h-4 md:w-5 md:h-5"})}),t.jsx("button",{type:"button",className:"p-1.5 md:p-2 rounded-full hover:bg-light-bg dark:hover:bg-dark-bg hover:text-brand-primary hidden sm:inline-flex",children:t.jsx(xv,{className:"w-4 h-4 md:w-5 md:h-5"})}),t.jsx("button",{type:"button",className:"p-1.5 md:p-2 rounded-full hover:bg-light-bg dark:hover:bg-dark-bg hover:text-brand-primary hidden sm:inline-flex",children:t.jsx(gv,{className:"w-4 h-4 md:w-5 md:h-5"})})]}),t.jsx("button",{type:"submit",disabled:!l.trim()||w,className:"px-4 md:px-5 py-1.5 md:py-2 text-sm md:text-base font-bold text-white bg-brand-primary rounded-full disabled:bg-brand-secondary disabled:cursor-not-allowed hover:bg-brand-secondary transition-all",children:w?"Posting...":"Post"})]})]})]})},hT=({comments:n,onAddComment:r,currentUser:s})=>{const[l,d]=T.useState(""),u=f=>{f.preventDefault(),l.trim()&&(r(l),d(""))};return t.jsxs("div",{className:"mt-4 pt-4 border-t border-light-border dark:border-dark-border",children:[n.map(f=>t.jsxs("div",{className:"flex items-start gap-3 mt-3",children:[t.jsx("img",{src:f.author.avatarUrl,alt:f.author.name,className:"w-8 h-8 rounded-full object-cover"}),t.jsxs("div",{className:"flex-1 bg-light-bg dark:bg-dark-bg rounded-lg p-3",children:[t.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[t.jsx("span",{className:"font-bold text-light-text-primary dark:text-dark-text-primary",children:f.author.name}),t.jsxs("span",{className:"text-light-text-secondary dark:text-dark-text-secondary",children:["@",f.author.handle]}),t.jsx("span",{className:"text-light-text-secondary dark:text-dark-text-secondary",children:""}),t.jsx("span",{className:"text-light-text-secondary dark:text-dark-text-secondary",children:f.timestamp})]}),t.jsx("p",{className:"text-sm text-light-text-primary dark:text-dark-text-primary mt-1",children:f.text})]})]},f.id)),t.jsxs("form",{onSubmit:u,className:"flex items-start gap-2 md:gap-3 mt-4",children:[t.jsx("img",{src:s.avatarUrl,alt:s.name,className:"w-7 h-7 md:w-8 md:h-8 rounded-full object-cover flex-shrink-0"}),t.jsx("div",{className:"flex-1 min-w-0",children:t.jsx("input",{type:"text",value:l,onChange:f=>d(f.target.value),placeholder:"Post your reply",className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-full px-3 md:px-4 py-1.5 md:py-2 text-xs md:text-sm focus:ring-2 focus:ring-brand-primary focus:outline-none transition"})}),t.jsx("button",{type:"submit",disabled:!l.trim(),className:"px-3 md:px-4 py-1.5 md:py-2 text-xs md:text-sm font-bold text-white bg-brand-primary rounded-full disabled:bg-brand-secondary hover:bg-brand-secondary transition-all flex-shrink-0",children:"Reply"})]})]})},pT=({post:n,onToggleLike:r,onToggleLove:s,onAddComment:l,currentUser:d})=>{const[u,f]=T.useState(!1),[p,y]=T.useState(!1),[x,b]=T.useState(!1),[v,k]=T.useState(!1),w=T.useRef(null),j=`${window.location.href.split("?")[0]}#post-${n.id}`,P=encodeURIComponent(`Check out this post on ShelTrify: "${n.title}"`),V=()=>{r(n.id),n.isLiked||b(!0)},$=()=>{s(n.id),n.isLoved||k(!0)},U=I=>{let q="";switch(I){case"x":q=`https://twitter.com/intent/tweet?url=${encodeURIComponent(j)}&text=${P}`;break;case"facebook":q=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(j)}`;break;case"linkedin":q=`https://www.linkedin.com/shareArticle?mini=true&url=${encodeURIComponent(j)}&title=${P}`;break}window.open(q,"_blank","noopener,noreferrer"),y(!1)},D=()=>{navigator.clipboard.writeText(j).then(()=>{alert("Link copied to clipboard!"),y(!1)}).catch(I=>{console.error("Failed to copy link: ",I),alert("Failed to copy link.")})};T.useEffect(()=>{const I=q=>{w.current&&!w.current.contains(q.target)&&y(!1)};return document.addEventListener("mousedown",I),()=>document.removeEventListener("mousedown",I)},[]);const A=n.videoUrl&&!n.videoUrl.startsWith("https:");return t.jsx("div",{className:"bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border rounded-lg p-3 md:p-5 transition-all duration-300 hover:border-brand-primary/50",children:t.jsxs("div",{className:"flex items-start gap-2 md:gap-4",children:[t.jsx("img",{src:n.author.avatarUrl,alt:n.author.name,className:"w-10 h-10 md:w-12 md:h-12 rounded-full object-cover flex-shrink-0"}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex flex-wrap items-center gap-1 md:gap-2 text-xs md:text-sm",children:[t.jsx("span",{className:"font-bold text-light-text-primary dark:text-dark-text-primary truncate",children:n.author.name}),t.jsxs("span",{className:"text-light-text-secondary dark:text-dark-text-secondary hidden sm:inline",children:["@",n.author.handle]}),t.jsx("span",{className:"text-light-text-secondary dark:text-dark-text-secondary hidden sm:inline",children:""}),t.jsx("span",{className:"text-light-text-secondary dark:text-dark-text-secondary text-xs",children:n.timestamp})]}),t.jsx("h3",{className:"text-base md:text-lg font-semibold text-light-text-primary dark:text-dark-text-primary mt-1 break-words",children:n.title}),n.content&&t.jsx("p",{className:"text-sm md:text-base text-light-text-primary dark:text-dark-text-primary mt-2 whitespace-pre-wrap break-words",children:n.content}),n.imageUrl&&t.jsx("div",{className:"mt-3 rounded-lg overflow-hidden border border-light-border dark:border-dark-border",children:t.jsx("img",{src:n.imageUrl,alt:"Post content",className:"w-full h-auto object-cover"})}),n.videoUrl&&t.jsx("div",{className:"mt-3 rounded-lg overflow-hidden border border-light-border dark:border-dark-border relative group cursor-pointer aspect-video",children:A?t.jsx("iframe",{className:"w-full h-full",src:`https://www.youtube.com/embed/${n.videoUrl}`,title:n.title,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}):t.jsxs(t.Fragment,{children:[t.jsx("img",{src:n.videoUrl,alt:"Video thumbnail",className:"w-full h-full object-cover"}),t.jsx("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center",children:t.jsx(cr,{className:"w-16 h-16 text-white/80 group-hover:scale-110 transition-transform"})})]})}),t.jsx("p",{className:"text-xs text-brand-primary font-medium mt-3",children:n.category}),t.jsxs("div",{className:"mt-3 md:mt-4 flex items-center justify-between text-light-text-secondary dark:text-dark-text-secondary",children:[t.jsxs("div",{className:"flex items-center gap-2 md:gap-5",children:[t.jsxs("button",{onClick:()=>f(!u),className:"flex items-center gap-1 md:gap-1.5 group hover:text-blue-500 p-1",children:[t.jsx(Bc,{className:"w-4 h-4 md:w-5 md:h-5"})," ",t.jsx("span",{className:"text-xs md:text-sm",children:n.replies})]}),t.jsxs("button",{onClick:V,className:`flex items-center gap-1 md:gap-1.5 group hover:text-brand-primary p-1 ${n.isLiked?"text-brand-primary":""}`,children:[t.jsx(pv,{onAnimationEnd:()=>b(!1),className:`w-4 h-4 md:w-5 md:h-5 ${x?"animate-like":""}`})," ",t.jsx("span",{className:"text-xs md:text-sm",children:n.likes})]}),t.jsxs("button",{onClick:$,className:`flex items-center gap-1 md:gap-1.5 group hover:text-red-500 p-1 ${n.isLoved?"text-red-500":""}`,children:[t.jsx(Xl,{onAnimationEnd:()=>k(!1),className:`w-4 h-4 md:w-5 md:h-5 ${v?"animate-like":""} ${n.isLoved?"fill-current":""}`})," ",t.jsx("span",{className:"text-xs md:text-sm",children:n.loves})]}),t.jsxs("button",{className:"flex items-center gap-1 md:gap-1.5 group hover:text-green-500 p-1",children:[t.jsx(fa,{className:"w-4 h-4 md:w-5 md:h-5"})," ",t.jsx("span",{className:"text-xs md:text-sm hidden sm:inline",children:n.reposts})]})]}),t.jsxs("div",{className:"flex items-center gap-1 md:gap-2",children:[t.jsx("button",{className:"p-1.5 md:p-2 rounded-full group hover:bg-light-bg dark:hover:bg-dark-bg hover:text-brand-primary",children:t.jsx(Yc,{className:"w-4 h-4 md:w-5 md:h-5"})}),t.jsxs("div",{ref:w,className:"relative",children:[t.jsx("button",{onClick:()=>y(!p),className:"p-1.5 md:p-2 rounded-full group hover:bg-light-bg dark:hover:bg-dark-bg hover:text-brand-primary",children:t.jsx(zc,{className:"w-4 h-4 md:w-5 md:h-5"})}),p&&t.jsxs("div",{className:"absolute bottom-full right-0 mb-2 w-48 md:w-56 bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg shadow-lg z-10 py-1",children:[t.jsxs("button",{onClick:()=>U("x"),className:"w-full text-left flex items-center gap-2 md:gap-3 px-3 md:px-4 py-2 text-xs md:text-sm text-light-text-secondary dark:text-dark-text-secondary hover:bg-light-border dark:hover:bg-dark-border hover:text-light-text-primary dark:hover:text-dark-text-primary",children:[t.jsx(Hc,{className:"w-3 h-3 md:w-4 md:h-4"})," ",t.jsx("span",{className:"truncate",children:"Share on X"})]}),t.jsxs("button",{onClick:()=>U("facebook"),className:"w-full text-left flex items-center gap-2 md:gap-3 px-3 md:px-4 py-2 text-xs md:text-sm text-light-text-secondary dark:text-dark-text-secondary hover:bg-light-border dark:hover:bg-dark-border hover:text-light-text-primary dark:hover:text-dark-text-primary",children:[t.jsx(Gx,{className:"w-3 h-3 md:w-4 md:h-4"})," ",t.jsx("span",{className:"truncate",children:"Share on Facebook"})]}),t.jsxs("button",{onClick:()=>U("linkedin"),className:"w-full text-left flex items-center gap-2 md:gap-3 px-3 md:px-4 py-2 text-xs md:text-sm text-light-text-secondary dark:text-dark-text-secondary hover:bg-light-border dark:hover:bg-dark-border hover:text-light-text-primary dark:hover:text-dark-text-primary",children:[t.jsx(Ox,{className:"w-3 h-3 md:w-4 md:h-4"})," ",t.jsx("span",{className:"truncate",children:"Share on LinkedIn"})]}),t.jsx("div",{className:"my-1 border-t border-light-border dark:border-dark-border"}),t.jsxs("button",{onClick:D,className:"w-full text-left flex items-center gap-2 md:gap-3 px-3 md:px-4 py-2 text-xs md:text-sm text-light-text-secondary dark:text-dark-text-secondary hover:bg-light-border dark:hover:bg-dark-border hover:text-light-text-primary dark:hover:text-dark-text-primary",children:[t.jsx(Wc,{className:"w-3 h-3 md:w-4 md:h-4"})," ",t.jsx("span",{className:"truncate",children:"Copy Link"})]})]})]})]})]}),u&&t.jsx(hT,{comments:n.comments,onAddComment:I=>l(n.id,I),currentUser:d})]})]})})},Nc=({title:n,children:r})=>t.jsxs("div",{className:"bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border rounded-lg p-5",children:[t.jsx("h3",{className:"text-lg font-bold text-light-text-primary dark:text-dark-text-primary mb-4",children:n}),r]}),xT=({currentUser:n})=>{const r=mT(n),[s,l]=T.useState([]),[d,u]=T.useState(!0),[f,p]=T.useState(null),[y,x]=T.useState([]),[b,v]=T.useState([]);T.useEffect(()=>{k()},[f]);const k=async()=>{try{u(!0);const U=await ss.getPosts({limit:50,category:f||void 0});if(U.success){const D=(U.data.posts||[]).map(ee=>{var F,z;return{id:ee.id,backendId:ee.id,author:{name:ee.user.fullName||ee.user.email||"Anonymous",handle:((F=ee.user.email)==null?void 0:F.split("@")[0])||"anonymous",avatarUrl:ee.user.avatarUrl||"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?q=80&w=256"},category:ee.category||"General",title:ee.title,content:ee.content,imageUrl:ee.imageUrl,videoUrl:ee.videoUrl,timestamp:w(ee.createdAt),replies:ee.replies||((z=ee._count)==null?void 0:z.comments)||0,likes:ee.likes||0,loves:ee.loves||0,reposts:ee.reposts||0,isLiked:!1,isLoved:!1,comments:(ee.comments||[]).map(re=>{var ce;return{id:re.id,author:{name:re.user.fullName||re.user.email||"Anonymous",handle:((ce=re.user.email)==null?void 0:ce.split("@")[0])||"anonymous",avatarUrl:re.user.avatarUrl||"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?q=80&w=256"},text:re.text,timestamp:w(re.createdAt)}})}});l(D);const A={};D.forEach(ee=>{ee.category&&(A[ee.category]=(A[ee.category]||0)+1)});const I=Object.entries(A).sort(([,ee],[,F])=>F-ee).slice(0,3).map(([ee],F)=>({id:`trending-${F}`,text:ee}));x(I);const q={};D.forEach(ee=>{const F=ee.author.handle;q[F]||(q[F]={count:0,user:ee.author}),q[F].count+=1});const M=Object.entries(q).sort(([,ee],[,F])=>F.count-ee.count).slice(0,3).map(([ee,F],z)=>({id:`contributor-${z}`,name:`@${F.user.handle}`,points:`${F.count} ${F.count===1?"post":"posts"}`,avatarUrl:F.user.avatarUrl}));v(M)}else l([]),x([]),v([])}catch(U){console.error("Failed to load posts:",U),l([]),x([]),v([])}finally{u(!1)}},w=U=>{const D=new Date(U),A=new Date,I=A.getTime()-D.getTime(),q=Math.floor(I/6e4),M=Math.floor(I/36e5),ee=Math.floor(I/864e5);return q<1?"Just now":q<60?`${q}m ago`:M<24?`${M}h ago`:ee<7?`${ee}d ago`:D.toLocaleDateString("en-NG",{day:"numeric",month:"short",year:D.getFullYear()!==A.getFullYear()?"numeric":void 0})},j=async U=>{try{const D=U.content.substring(0,50)+(U.content.length>50?"...":""),A=await ss.createPost({title:D,content:U.content,category:f||"General",imageUrl:U.imageUrl,videoUrl:U.videoUrl});A.success?await k():alert(A.message||"Failed to create post. Please login first.")}catch(D){console.error("Create post error:",D),alert(D.message||"Failed to create post. Please login first.")}},P=async U=>{try{const D=s.find(I=>I.id===U||I.backendId===U);if(!D||!D.backendId){console.error("Post not found or missing backend ID");return}const A=D.isLiked;l(s.map(I=>I.id===U||I.backendId===U?{...I,isLiked:!I.isLiked,likes:I.isLiked?I.likes-1:I.likes+1}:I)),A||await ss.likePost(D.backendId),await k()}catch(D){console.error("Failed to like post:",D),await k()}},V=async U=>{try{const D=s.find(I=>I.id===U||I.backendId===U);if(!D||!D.backendId){console.error("Post not found or missing backend ID");return}const A=D.isLoved;l(s.map(I=>I.id===U||I.backendId===U?{...I,isLoved:!I.isLoved,loves:I.isLoved?I.loves-1:I.loves+1}:I)),A||await ss.lovePost(D.backendId),await k()}catch(D){console.error("Failed to love post:",D),await k()}},$=async(U,D)=>{try{const A=s.find(M=>M.id===U||M.backendId===U);if(!A||!A.backendId){console.error("Post not found or missing backend ID");return}const I={id:`temp-${Date.now()}`,author:r,text:D,timestamp:"Just now"};l(s.map(M=>M.id===U||M.backendId===U?{...M,comments:[...M.comments,I],replies:M.replies+1}:M)),(await ss.addComment(A.backendId,D)).success?await k():await k()}catch(A){console.error("Failed to add comment:",A),await k()}};return t.jsxs("div",{className:"max-w-7xl mx-auto py-2 px-2 md:px-4 overflow-x-hidden w-full",children:[t.jsx("style",{children:`
                @keyframes like-animation {
                    0% { transform: scale(1); }
                    50% { transform: scale(1.4) rotate(-15deg); }
                    100% { transform: scale(1) rotate(0deg); }
                }
                .animate-like {
                    animation: like-animation 0.4s ease-in-out;
                }
            `}),t.jsxs("header",{className:"text-center mb-6 md:mb-10 px-2",children:[t.jsx("h1",{className:"text-2xl md:text-4xl lg:text-5xl font-extrabold text-light-text-primary dark:text-dark-text-primary",children:"ShelTrify Community Forum"}),t.jsx("p",{className:"mt-2 text-sm md:text-lg text-light-text-secondary dark:text-dark-text-secondary",children:"Connect. Share. Learn  find trusted rental insights."})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4 md:gap-8",children:[t.jsx("aside",{className:"hidden lg:block space-y-6",children:t.jsx(Nc,{title:"Channels",children:t.jsxs("ul",{className:"space-y-1",children:[t.jsxs("li",{onClick:()=>p(null),className:`flex items-center gap-3 p-2 rounded-md hover:bg-light-bg dark:hover:bg-dark-bg cursor-pointer group transition-colors ${f===null?"bg-brand-primary/10 text-brand-primary":""}`,children:[t.jsx("span",{className:"text-xl",children:""}),t.jsx("span",{className:`font-semibold ${f===null?"text-brand-primary":"text-light-text-secondary dark:text-dark-text-secondary group-hover:text-light-text-primary dark:group-hover:text-dark-text-primary"}`,children:"All Channels"})]}),qg.map(U=>t.jsxs("li",{onClick:()=>p(U.category),className:`flex items-center gap-3 p-2 rounded-md hover:bg-light-bg dark:hover:bg-dark-bg cursor-pointer group transition-colors ${f===U.category?"bg-brand-primary/10 text-brand-primary":""}`,children:[t.jsx("span",{className:"text-xl",children:U.emoji}),t.jsx("span",{className:`font-semibold ${f===U.category?"text-brand-primary":"text-light-text-secondary dark:text-dark-text-secondary group-hover:text-light-text-primary dark:group-hover:text-dark-text-primary"}`,children:U.name})]},U.name))]})})}),t.jsxs("main",{className:"lg:col-span-2 order-2 lg:order-none",children:[t.jsx(fT,{onPost:j,currentUser:r,selectedCategory:f||void 0}),d?t.jsxs("div",{className:"text-center py-12 text-light-text-secondary dark:text-dark-text-secondary",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-primary mx-auto"}),t.jsx("p",{className:"mt-4",children:"Loading posts..."})]}):s.length===0?t.jsxs("div",{className:"text-center py-12 text-light-text-secondary dark:text-dark-text-secondary",children:[t.jsx("p",{className:"text-base md:text-lg mb-2",children:"No posts yet"}),t.jsx("p",{className:"text-sm",children:"Be the first to share something with the community!"})]}):t.jsx("div",{className:"space-y-3 md:space-y-4",children:s.map(U=>t.jsx(pT,{post:U,onToggleLike:P,onToggleLove:V,onAddComment:$,currentUser:r},U.id))})]}),t.jsxs("aside",{className:"space-y-4 md:space-y-6 order-3 lg:order-none",children:[y.length>0&&t.jsx(Nc,{title:"Trending",children:t.jsx("ul",{className:"space-y-3",children:y.map(U=>t.jsxs("li",{className:"text-light-text-secondary dark:text-dark-text-secondary hover:text-brand-primary cursor-pointer",children:[" ",U.text]},U.id))})}),b.length>0&&t.jsx(Nc,{title:"Top Contributors",children:t.jsx("ul",{className:"space-y-4",children:b.map(U=>t.jsxs("li",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("img",{src:U.avatarUrl,alt:U.name,className:"w-8 h-8 rounded-full object-cover"}),t.jsx("span",{className:"font-semibold text-light-text-primary dark:text-dark-text-primary text-sm",children:U.name})]}),t.jsx("span",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary",children:U.points})]},U.id))})}),t.jsx("p",{className:"text-xs text-center text-light-text-secondary dark:text-dark-text-secondary",children:" ShelTrify  Community Guidelines  Privacy  Contact"})]})]})]})},gT=({toast:n,onClose:r})=>{T.useEffect(()=>{const d=setTimeout(()=>{r()},n.duration||5e3);return()=>clearTimeout(d)},[n.duration,r]);const s=()=>{const d="w-5 h-5 flex-shrink-0";switch(n.type){case"success":return t.jsx(Ae,{className:d});case"error":return t.jsx(Hn,{className:d});case"warning":return t.jsx(hv,{className:d});case"info":return t.jsx(ip,{className:d});default:return t.jsx(ip,{className:d})}},l=()=>{switch(n.type){case"success":return"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800 text-green-800 dark:text-green-200";case"error":return"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800 text-red-800 dark:text-red-200";case"warning":return"bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-800 text-yellow-800 dark:text-yellow-200";case"info":return"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800 text-blue-800 dark:text-blue-200";default:return"bg-gray-50 dark:bg-gray-900/20 border-gray-200 dark:border-gray-800 text-gray-800 dark:text-gray-200"}};return t.jsxs("div",{className:`
        fixed top-4 right-4 z-[9999] 
        flex items-start gap-3 
        px-4 py-3 
        rounded-lg 
        border 
        shadow-lg 
        backdrop-blur-sm
        min-w-[320px] 
        max-w-[420px]
        animate-slide-in-right
        ${l()}
      `,role:"alert",children:[t.jsx("div",{className:"flex-shrink-0 mt-0.5",children:s()}),t.jsx("div",{className:"flex-1 min-w-0",children:t.jsx("p",{className:"text-sm font-medium leading-5 break-words",children:n.message})}),t.jsx("button",{onClick:r,className:"flex-shrink-0 text-current opacity-60 hover:opacity-100 transition-opacity","aria-label":"Close notification",children:t.jsx(Fc,{className:"w-4 h-4"})}),t.jsx("style",{children:`
        @keyframes slide-in-right {
          from {
            transform: translateX(100%);
            opacity: 0;
          }
          to {
            transform: translateX(0);
            opacity: 1;
          }
        }
        .animate-slide-in-right {
          animation: slide-in-right 0.3s ease-out forwards;
        }
      `})]})},Vg=T.createContext(void 0),yT=({children:n})=>{const[r,s]=T.useState([]),l=T.useCallback(x=>{s(b=>b.filter(v=>v.id!==x))},[]),d=T.useCallback((x,b="info",v)=>{const w={id:`toast-${Date.now()}-${Math.random()}`,message:x,type:b,duration:v||5e3};s(j=>[...j,w])},[]),u=T.useCallback((x,b)=>{d(x,"success",b)},[d]),f=T.useCallback((x,b)=>{d(x,"error",b)},[d]),p=T.useCallback((x,b)=>{d(x,"warning",b)},[d]),y=T.useCallback((x,b)=>{d(x,"info",b)},[d]);return t.jsxs(Vg.Provider,{value:{showToast:d,showSuccess:u,showError:f,showWarning:p,showInfo:y},children:[n,t.jsx("div",{className:"fixed top-4 right-4 z-[9998] space-y-2 pointer-events-none",children:r.map(x=>t.jsx("div",{className:"pointer-events-auto",children:t.jsx(gT,{toast:x,onClose:()=>l(x.id)})},x.id))})]})},bt=()=>{const n=T.useContext(Vg);if(!n)throw new Error("useToast must be used within a ToastProvider");return n},ma=90,ca=.06,dr={bronze:{name:"Bronze",color:"text-yellow-600",referrals:5,benefit:"Activate wallet for withdrawal"},silver:{name:"Silver",color:"text-gray-400",referrals:10,points:250,benefit:"+10% higher ranking in search"},gold:{name:"Gold",color:"text-yellow-400",referrals:20,points:500,benefit:"+20% higher ranking in search"},platinum:{name:"Platinum",color:"text-cyan-400",referrals:50,points:750,benefit:"+40% priority leads & partnership"}},su=({value:n})=>t.jsx("div",{className:"w-full bg-light-border dark:bg-dark-border rounded-full h-2.5",children:t.jsx("div",{className:"bg-gradient-to-r from-brand-secondary to-brand-primary h-2.5 rounded-full",style:{width:`${n}%`}})}),tt=({icon:n,title:r,children:s})=>t.jsxs("div",{className:"bg-light-bg dark:bg-dark-bg p-6 rounded-lg border border-light-border dark:border-dark-border",children:[t.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[t.jsx("div",{className:"text-brand-primary",children:n}),t.jsx("h4",{className:"font-bold text-xl",children:r})]}),s]}),an=({icon:n,label:r,onClick:s,disabled:l})=>t.jsxs("button",{onClick:s,disabled:l,className:"flex flex-col items-center p-3 bg-light-card dark:bg-dark-card rounded-lg hover:bg-light-border dark:hover:bg-dark-border transition disabled:opacity-50 disabled:cursor-not-allowed",children:[n,t.jsx("span",{className:"text-xs font-semibold",children:r})]}),bT=({onOpenBadgeModal:n,walletData:r,userData:s,onDeposit:l,onWithdraw:d})=>{var w;const{showInfo:u}=bt(),f=(r==null?void 0:r.swcBalance)||0,p=(r==null?void 0:r.referrals)||0,y=p<2,x=(r==null?void 0:r.tier)||"bronze",b=dr[x]||dr.bronze,v=x==="bronze"?dr.silver:x==="silver"?dr.gold:dr.platinum,k=v?p/v.referrals*100:100;return`${((w=s==null?void 0:s.email)==null?void 0:w.split("@")[0])||"user"}`,t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 animate-fade-in",children:[t.jsx("style",{children:".animate-fade-in { animation: fadeIn 0.5s ease-out; } @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }"}),t.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[t.jsx(tt,{icon:t.jsx(Bn,{className:"w-8 h-8"}),title:"Agent Wallet",children:t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{children:[t.jsxs("p",{className:"text-4xl font-bold",children:[f.toFixed(2)," ",t.jsx("span",{className:"text-2xl text-brand-primary",children:"SWC"})]}),t.jsxs("p",{className:"text-light-text-secondary dark:text-dark-text-secondary mt-1",children:[" ",(f*ma).toLocaleString()," / $",(f*ca).toFixed(2)]})]}),t.jsx("img",{src:(s==null?void 0:s.avatarUrl)||"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?q=80&w=256",alt:(s==null?void 0:s.fullName)||"User",className:"w-16 h-16 rounded-full object-cover border-4 border-light-card dark:border-dark-card shadow-lg"})]})}),t.jsxs(tt,{icon:t.jsx(ur,{className:"w-8 h-8"}),title:"Agent Earning Packages",children:[t.jsx("p",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary mb-3",children:"As a verified agent, you have access to exclusive earning packages for your referrals."}),t.jsxs("ul",{className:"space-y-2 text-sm",children:[t.jsxs("li",{className:"flex justify-between p-3 bg-light-card dark:bg-dark-card rounded-md",children:[t.jsxs("span",{children:[t.jsx("span",{className:"font-bold",children:"Package 1:"})," Refer Landlord (Property Listed)"]})," ",t.jsx("span",{className:"font-bold text-green-500",children:"+5 SWC"})]}),t.jsxs("li",{className:"flex justify-between p-3 bg-light-card dark:bg-dark-card rounded-md",children:[t.jsxs("span",{children:[t.jsx("span",{className:"font-bold",children:"Package 2:"})," Property Rented Out"]})," ",t.jsx("span",{className:"font-bold text-green-500",children:"+30 SWC"})]}),t.jsxs("li",{className:"flex justify-between p-3 bg-light-card dark:bg-dark-card rounded-md",children:[t.jsxs("span",{children:[t.jsx("span",{className:"font-bold",children:"Package 3:"})," Refer Seeker (Standard Rent)"]})," ",t.jsx("span",{className:"font-bold text-green-500",children:"+5 SWC"})]}),t.jsxs("li",{className:"flex justify-between p-3 bg-light-card dark:bg-dark-card rounded-md",children:[t.jsxs("span",{children:[t.jsx("span",{className:"font-bold",children:"Package 4:"})," Refer Seeker (Premium Plan)"]})," ",t.jsx("span",{className:"font-bold text-green-500",children:"+15 SWC"})]})]})]}),t.jsxs(tt,{icon:t.jsx(Bn,{className:"w-8 h-8"}),title:"Wallet Actions",children:[t.jsx("p",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary mb-4",children:"Manage your SWC balance with ease."}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[t.jsx(an,{icon:t.jsx(Ae,{className:"w-6 h-6 text-green-500 mb-1"}),label:"Withdraw",disabled:y,onClick:d}),t.jsx(an,{icon:t.jsx(fa,{className:"w-6 h-6 text-blue-500 mb-1"}),label:"Transfer",onClick:()=>u("Transfer feature coming soon!")}),t.jsx(an,{icon:t.jsx(Kc,{className:"w-6 h-6 text-yellow-500 mb-1"}),label:"Request Cash",onClick:()=>u("Request cash feature coming soon!")}),t.jsx(an,{icon:t.jsx(Ql,{className:"w-6 h-6 text-purple-500 mb-1"}),label:"Deposit",onClick:l})]})]})]}),t.jsx("div",{className:"space-y-6",children:t.jsxs(tt,{icon:t.jsx(br,{className:"w-8 h-8"}),title:"Badge & Tier",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:`font-extrabold text-3xl ${b.color}`,children:b.name}),t.jsx("p",{className:"text-sm",children:"Current Badge"})]}),t.jsxs("div",{className:"mt-4",children:[t.jsxs("p",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary mb-2",children:["Progress to ",t.jsx("span",{className:"font-bold",children:v.name}),":"]}),t.jsx(su,{value:k}),t.jsxs("p",{className:"text-xs mt-2 text-right",children:[p," / ",v==null?void 0:v.referrals," Referrals"]})]}),t.jsx("button",{onClick:n,className:"w-full mt-4 text-sm font-semibold bg-brand-primary/10 dark:bg-brand-primary/20 text-brand-primary py-2 rounded-lg hover:bg-brand-primary/20 dark:hover:bg-brand-primary/30 transition-colors",children:"View Tier Benefits"})]})})]})},vT=({onOpenBadgeModal:n,walletData:r,userData:s,onDeposit:l,onWithdraw:d})=>{var P;const{showInfo:u,showSuccess:f}=bt(),p=(r==null?void 0:r.swcBalance)||0,y=(r==null?void 0:r.referrals)||0,x=y<2,b=(r==null?void 0:r.tier)||"bronze",v=dr[b]||dr.bronze,k=b==="bronze"?dr.silver:b==="silver"?dr.gold:dr.platinum,w=k?y/k.referrals*100:100,j=`sheltrify.com/join/${((P=s==null?void 0:s.email)==null?void 0:P.split("@")[0])||"user"}`;return t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 animate-fade-in",children:[t.jsx("style",{children:".animate-fade-in { animation: fadeIn 0.5s ease-out; } @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }"}),t.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[t.jsxs(tt,{icon:t.jsx(Bn,{className:"w-8 h-8"}),title:"Referrer Wallet",children:[t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{children:[t.jsxs("p",{className:"text-4xl font-bold",children:[p.toFixed(2)," ",t.jsx("span",{className:"text-2xl text-brand-primary",children:"SWC"})]}),t.jsxs("p",{className:"text-light-text-secondary dark:text-dark-text-secondary mt-1",children:[" ",(p*ma).toLocaleString()," / $",(p*ca).toFixed(2)]})]}),t.jsx("img",{src:(s==null?void 0:s.avatarUrl)||"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?q=80&w=256",alt:(s==null?void 0:s.fullName)||"User",className:"w-16 h-16 rounded-full object-cover border-4 border-light-card dark:border-dark-card shadow-lg"})]}),x&&t.jsxs("div",{className:"mt-4 bg-yellow-500/10 text-yellow-600 dark:text-yellow-400 text-xs font-semibold p-2 rounded-md border border-yellow-500/20 text-center",children:["Your 11 SWC Sign-Up Bonus is dormant. Refer ",Math.max(0,2-y)," more successful user(s) to activate your entire wallet for withdrawal."]})]}),t.jsxs(tt,{icon:t.jsx(ur,{className:"w-8 h-8"}),title:"Referrer Benefits",children:[t.jsx("p",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary mb-3",children:"Earn SWC for every successful referral. The more you refer, the more you earn and the higher your tier becomes!"}),t.jsxs("ul",{className:"space-y-3 text-sm",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx(Ae,{className:"w-5 h-5 text-green-500 mt-0.5 flex-shrink-0"})," ",t.jsxs("div",{children:[t.jsx("span",{className:"font-bold",children:"Refer a Landlord:"})," Earn SWC when they list a property that gets successfully rented."]})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx(Ae,{className:"w-5 h-5 text-green-500 mt-0.5 flex-shrink-0"})," ",t.jsxs("div",{children:[t.jsx("span",{className:"font-bold",children:"Refer a Seeker:"})," Earn SWC when they successfully sign up and rent through ShelTrify."]})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx(Ae,{className:"w-5 h-5 text-green-500 mt-0.5 flex-shrink-0"})," ",t.jsxs("div",{children:[t.jsx("span",{className:"font-bold",children:"Tier Up:"})," Unlock higher earnings, search ranking boosts, and exclusive partnership opportunities as you move up from Bronze to Platinum."]})]})]})]}),t.jsx(tt,{icon:t.jsx(Bn,{className:"w-8 h-8"}),title:"Wallet Actions",children:t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[t.jsx(an,{icon:t.jsx(Ae,{className:"w-6 h-6 text-green-500 mb-1"}),label:"Withdraw",disabled:x,onClick:d}),t.jsx(an,{icon:t.jsx(fa,{className:"w-6 h-6 text-blue-500 mb-1"}),label:"Transfer",onClick:()=>u("Transfer feature coming soon!")}),t.jsx(an,{icon:t.jsx(Ql,{className:"w-6 h-6 text-purple-500 mb-1"}),label:"Deposit",onClick:l})]})})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs(tt,{icon:t.jsx(br,{className:"w-8 h-8"}),title:"Badge & Tier",children:[t.jsx("div",{className:"text-center",children:t.jsx("p",{className:`font-extrabold text-3xl ${v.color}`,children:v.name})}),t.jsxs("div",{className:"mt-4",children:[t.jsxs("p",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary mb-2",children:["Progress to ",t.jsx("span",{className:"font-bold",children:k==null?void 0:k.name}),":"]}),t.jsx(su,{value:Math.min(100,w)}),t.jsxs("p",{className:"text-xs mt-2 text-right",children:[y," / ",k==null?void 0:k.referrals," Referrals"]})]}),t.jsx("button",{onClick:n,className:"w-full mt-4 text-sm font-semibold bg-brand-primary/10 dark:bg-brand-primary/20 text-brand-primary py-2 rounded-lg hover:bg-brand-primary/20 dark:hover:bg-brand-primary/30 transition-colors",children:"View Tier Benefits"})]}),t.jsxs(tt,{icon:t.jsx(ki,{className:"w-8 h-8"}),title:"How to Refer",children:[t.jsx("p",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary mb-3",children:"Share your unique link to earn bonuses."}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"text",readOnly:!0,value:j,className:"w-full text-sm bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border rounded-md px-3 py-2 focus:outline-none"}),t.jsx("button",{onClick:()=>{navigator.clipboard.writeText(j),f("Referral link copied to clipboard!")},className:"p-2 bg-light-card dark:bg-dark-card rounded-md hover:bg-light-border dark:hover:bg-dark-border",children:t.jsx(Wc,{className:"w-5 h-5"})})]})]})]})]})},kT=({walletData:n,userData:r,stats:s,onBoostListing:l})=>{const d=(n==null?void 0:n.swcBalance)||0,u=(n==null?void 0:n.credibilityScore)||0,f=(s==null?void 0:s.activeListings)>0;return t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 animate-fade-in",children:[t.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[t.jsxs(tt,{icon:t.jsx(Bn,{className:"w-8 h-8"}),title:"Landlord Wallet",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsxs("p",{className:"text-4xl font-bold",children:[d.toFixed(2)," ",t.jsx("span",{className:"text-2xl text-brand-primary",children:"SWC"})]}),t.jsxs("p",{className:"text-light-text-secondary dark:text-dark-text-secondary mt-1",children:["Credibility Score: ",u," |  ",(d*ma).toLocaleString()," / $",(d*ca).toFixed(2)]})]}),t.jsx("img",{src:(r==null?void 0:r.avatarUrl)||"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?q=80&w=256",alt:(r==null?void 0:r.fullName)||"User",className:"w-16 h-16 rounded-full object-cover border-4 border-light-card dark:border-dark-card shadow-lg"})]}),f&&d<30&&t.jsx("div",{className:"mt-3 bg-yellow-500/10 text-yellow-600 dark:text-yellow-400 text-xs font-semibold p-2 rounded-md border border-yellow-500/20",children:"Your listing bonus will be activated for withdrawal once your property is successfully rented out."})]}),t.jsxs(tt,{icon:t.jsx(Mr,{className:"w-8 h-8"}),title:"Landlord Benefits",children:[t.jsx("p",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary mb-4",children:"Leverage the ShelTrify ecosystem to maximize your property's potential and rewards."}),t.jsxs("ul",{className:"space-y-3 text-light-text-primary dark:text-dark-text-primary text-sm",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx(Ae,{className:"w-5 h-5 text-green-500 mt-0.5 flex-shrink-0"}),t.jsxs("div",{children:[t.jsx("span",{className:"font-semibold",children:"Listing Bonus:"})," Get an instant 30 SWC in your wallet upon your first successful property listing."]})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx(Ae,{className:"w-5 h-5 text-green-500 mt-0.5 flex-shrink-0"}),t.jsxs("div",{children:[t.jsx("span",{className:"font-semibold",children:"Boost Listings:"})," Use your SWC balance to boost your property's visibility and appear at the top of search results."]})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx(Ae,{className:"w-5 h-5 text-green-500 mt-0.5 flex-shrink-0"}),t.jsxs("div",{children:[t.jsx("span",{className:"font-semibold",children:"Rental Bonus:"})," Receive an additional 30 SWC when a boosted property is successfully rented out."]})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx(Ae,{className:"w-5 h-5 text-green-500 mt-0.5 flex-shrink-0"}),t.jsxs("div",{children:[t.jsx("span",{className:"font-semibold",children:"Exclusive Access:"})," Get alerts for property maintenance, invitations to ShelTrify Rental Fairs, and access to our community forum."]})]})]}),t.jsx("button",{onClick:l,className:"mt-6 bg-brand-secondary text-white font-semibold px-5 py-2 rounded-lg hover:opacity-90 transition-opacity",children:"Boost a Listing"})]})]}),t.jsxs("div",{className:"bg-light-bg dark:bg-dark-bg p-6 rounded-lg border border-light-border dark:border-dark-border text-center",children:[t.jsx("img",{src:(r==null?void 0:r.avatarUrl)||"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?q=80&w=256",alt:(r==null?void 0:r.fullName)||"User",className:"w-24 h-24 rounded-full mx-auto object-cover border-4 border-light-card dark:border-dark-card shadow-lg"}),t.jsx("h3",{className:"text-xl font-bold mt-3",children:(r==null?void 0:r.fullName)||"User"}),t.jsx("p",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary",children:"Verified Landlord"})]})]})},NT=({walletData:n,userData:r})=>{const f=(n==null?void 0:n.swcBalance)||0,p=new Date(new Date().setMonth(new Date().getMonth()+3)),y=Math.ceil((p.getTime()-new Date().getTime())/(1e3*60*60*24));return t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 animate-fade-in",children:[t.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[t.jsxs(tt,{icon:t.jsx(tg,{className:"w-8 h-8"}),title:"Save for Rent",children:[t.jsxs("div",{className:"p-4 bg-light-card dark:bg-dark-card rounded-lg border border-light-border dark:border-dark-border",children:[t.jsx("p",{className:"text-light-text-secondary dark:text-dark-text-secondary text-sm",children:"Your Savings"}),t.jsxs("p",{className:"text-3xl font-bold",children:["",0 .toLocaleString()]}),t.jsx(su,{value:0}),t.jsxs("p",{className:"text-xs text-right mt-1",children:["of ",3e5.toLocaleString()," goal"]})]}),t.jsxs("div",{className:"flex gap-4 mt-4",children:[t.jsx("button",{className:"w-full bg-brand-primary text-white font-semibold py-3 rounded-lg hover:bg-brand-secondary",children:"Save Weekly"}),t.jsx("button",{className:"w-full bg-brand-secondary text-white font-semibold py-3 rounded-lg hover:opacity-90",children:"Save Monthly"})]})]}),t.jsxs(tt,{icon:t.jsx(ur,{className:"w-8 h-8"}),title:"Benefits of Saving with ShelTrify",children:[t.jsx("p",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary mb-4",children:"Your savings do more than just sit in an account. We put them to work for you."}),t.jsxs("ul",{className:"space-y-3 text-sm",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx(Ae,{className:"w-5 h-5 text-green-500 mt-0.5 flex-shrink-0"}),t.jsxs("div",{children:[t.jsx("span",{className:"font-semibold",children:"Earn While You Save:"})," Your savings are used in trusted trades, and the profits are credited to your wallet as SWC."]})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx(Ae,{className:"w-5 h-5 text-green-500 mt-0.5 flex-shrink-0"}),t.jsxs("div",{children:[t.jsx("span",{className:"font-semibold",children:"Reduce Rent Burden:"})," The SWC you earn is converted to cash and added to your savings one month before rent is due, lowering your out-of-pocket expense."]})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx(Ae,{className:"w-5 h-5 text-green-500 mt-0.5 flex-shrink-0"}),t.jsxs("div",{children:[t.jsx("span",{className:"font-semibold",children:"Peace of Mind:"})," Avoid the stress and harassment that can come with rent deadlines. We help you stay ahead."]})]})]})]}),t.jsxs(tt,{icon:t.jsx(Kc,{className:"w-8 h-8"}),title:"Trading Profits",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-light-text-secondary dark:text-dark-text-secondary text-sm",children:"This Week's Profit"}),t.jsxs("p",{className:"text-2xl font-bold text-green-500",children:["+",0 .toFixed(2)," SWC"]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-light-text-secondary dark:text-dark-text-secondary text-sm",children:"Total Profit"}),t.jsxs("p",{className:"text-2xl font-bold",children:[f.toFixed(2)," SWC"]})]})]}),t.jsxs("p",{className:"text-xs text-light-text-secondary dark:text-dark-text-secondary mt-3",children:["This will be converted to cash one month before your rent is due (",y," days)."]})]})]}),t.jsxs("div",{className:"bg-light-bg dark:bg-dark-bg p-6 rounded-lg border border-light-border dark:border-dark-border text-center",children:[t.jsx("img",{src:(r==null?void 0:r.avatarUrl)||"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?q=80&w=256",alt:(r==null?void 0:r.fullName)||"User",className:"w-24 h-24 rounded-full mx-auto object-cover border-4 border-light-card dark:border-dark-card shadow-lg"}),t.jsx("h3",{className:"text-xl font-bold mt-3",children:(r==null?void 0:r.fullName)||"User"}),t.jsx("p",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary",children:"Verified Tenant"})]})]})},wT=({isOpen:n,onClose:r,opportunity:s,walletBalance:l,onSuccess:d})=>{const[u,f]=T.useState(""),[p,y]=T.useState(!1),{showError:x,showSuccess:b}=bt();if(T.useEffect(()=>{n&&s&&f(s.minInvestment.toString())},[n,s]),!n||!s)return null;const v=async()=>{const j=parseFloat(u);if(!u||j<=0){x("Please enter a valid amount");return}if(j<s.minInvestment){x(`Minimum investment is ${s.minInvestment.toLocaleString()}`);return}if(s.maxInvestment&&j>s.maxInvestment){x(`Maximum investment is ${s.maxInvestment.toLocaleString()}`);return}const P=j/ma;if(l<P){x(`Insufficient balance. You need ${P.toFixed(2)} SWC (${j.toLocaleString()}) to invest`);return}try{y(!0);const V=await Ol.invest(s.id,j);V.success?(b(`Successfully invested ${j.toLocaleString()}!`),d(),r()):x(V.message||"Failed to create investment")}catch(V){x(V.message||"Failed to create investment")}finally{y(!1)}},k=parseFloat(u)/ma||0,w=parseFloat(u)>=s.minInvestment&&l>=k;return t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",children:t.jsxs("div",{className:"relative bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border rounded-lg shadow-2xl w-full max-w-md p-6",children:[t.jsx("button",{onClick:r,className:"absolute top-4 right-4 text-light-text-secondary dark:text-dark-text-secondary hover:text-light-text-primary dark:hover:text-dark-text-primary",children:t.jsx(je,{className:"w-6 h-6"})}),t.jsxs("h2",{className:"text-2xl font-bold mb-4 text-light-text-primary dark:text-dark-text-primary",children:["Invest in ",s.title]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-light-bg dark:bg-dark-bg p-4 rounded-lg border border-light-border dark:border-dark-border",children:[t.jsx("p",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary mb-2",children:"Investment Details"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-light-text-secondary dark:text-dark-text-secondary",children:"Type:"}),t.jsx("span",{className:"font-semibold",children:s.type})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-light-text-secondary dark:text-dark-text-secondary",children:"Expected ROI:"}),t.jsxs("span",{className:"font-semibold text-green-500",children:[s.expectedROI,"%"]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-light-text-secondary dark:text-dark-text-secondary",children:"Duration:"}),t.jsx("span",{className:"font-semibold",children:s.duration})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-light-text-secondary dark:text-dark-text-secondary",children:"Min Investment:"}),t.jsxs("span",{className:"font-semibold",children:["",s.minInvestment.toLocaleString()]})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-light-text-primary dark:text-dark-text-primary mb-2",children:"Investment Amount (NGN)"}),t.jsx("input",{type:"number",value:u,onChange:j=>f(j.target.value),min:s.minInvestment,max:s.maxInvestment||void 0,step:"1000",className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-2 text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-brand-primary focus:outline-none"}),t.jsxs("p",{className:"text-xs text-light-text-secondary dark:text-dark-text-secondary mt-1",children:["Required: ",k.toFixed(2)," SWC | Available: ",l.toFixed(2)," SWC"]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:v,disabled:!w||p,className:"flex-1 bg-brand-primary text-white py-2 rounded-lg hover:bg-brand-secondary disabled:bg-brand-secondary/50 disabled:cursor-not-allowed transition-colors",children:p?"Processing...":"Confirm Investment"}),t.jsx("button",{onClick:r,className:"px-4 py-2 bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border text-light-text-primary dark:text-dark-text-primary rounded-lg hover:bg-light-border dark:hover:bg-dark-border",children:"Cancel"})]})]})]})})},ST=({walletData:n,userData:r,stats:s,onDeposit:l,onWithdraw:d,onInvest:u})=>{const[f,p]=T.useState(null),[y,x]=T.useState([]),[b,v]=T.useState(!0),{showError:k}=bt();T.useEffect(()=>{w()},[]);const w=async()=>{try{v(!0);const[M,ee]=await Promise.all([Ol.getStats(),Ol.getOpportunities()]);M.success&&p(M.data),ee.success&&x(ee.data)}catch(M){console.error("Failed to load investment data:",M),k("Failed to load investment data")}finally{v(!1)}},j=(n==null?void 0:n.swcBalance)||0,P=(f==null?void 0:f.totalInvestmentCapital)||0,V=(f==null?void 0:f.totalProfitGenerated)||0,$=(f==null?void 0:f.monthlyRentalReturns)||0,U=(f==null?void 0:f.activePropertiesInvestedIn)||0,D=(f==null?void 0:f.projectedAnnualROI)||0,A=new Date(new Date().setDate(new Date().getDate()+15)),I=[{month:"Jan 2024",profit:95e3,roi:1.9},{month:"Feb 2024",profit:11e4,roi:2.2},{month:"Mar 2024",profit:105e3,roi:2.1},{month:"Apr 2024",profit:12e4,roi:2.4},{month:"May 2024",profit:115e3,roi:2.3},{month:"Jun 2024",profit:125e3,roi:2.5}],q=Math.ceil((A.getTime()-new Date().getTime())/(1e3*60*60*24));return t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 animate-fade-in",children:[t.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(tt,{icon:t.jsx(tg,{className:"w-8 h-8"}),title:"Total Savings Balance",children:t.jsxs("div",{children:[t.jsxs("p",{className:"text-3xl font-bold text-brand-primary",children:[j.toFixed(2)," ",t.jsx("span",{className:"text-xl",children:"SWC"})]}),t.jsxs("p",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary mt-1",children:[" ",(j*ma).toLocaleString()," / $",(j*ca).toFixed(2)]})]})}),t.jsx(tt,{icon:t.jsx(ur,{className:"w-8 h-8"}),title:"Total Investment Capital",children:t.jsxs("div",{children:[t.jsxs("p",{className:"text-3xl font-bold",children:["",P.toLocaleString()]}),t.jsx("p",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary mt-1",children:"Active investments"})]})}),t.jsx(tt,{icon:t.jsx(Kc,{className:"w-8 h-8"}),title:"Total Profit Generated",children:t.jsxs("div",{children:[t.jsxs("p",{className:"text-3xl font-bold text-green-500",children:["",V.toLocaleString()]}),t.jsx("p",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary mt-1",children:"All-time returns"})]})}),t.jsx(tt,{icon:t.jsx(Mr,{className:"w-8 h-8"}),title:"Monthly Rental Returns",children:t.jsxs("div",{children:[t.jsxs("p",{className:"text-3xl font-bold text-brand-primary",children:["",$.toLocaleString()]}),t.jsx("p",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary mt-1",children:"Average monthly income"})]})})]}),t.jsx(tt,{icon:t.jsx(rg,{className:"w-8 h-8"}),title:"Investment Overview",children:t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"bg-light-bg dark:bg-dark-bg p-4 rounded-lg border border-light-border dark:border-dark-border",children:[t.jsx("p",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary",children:"Active Properties"}),t.jsx("p",{className:"text-2xl font-bold",children:U})]}),t.jsxs("div",{className:"bg-light-bg dark:bg-dark-bg p-4 rounded-lg border border-light-border dark:border-dark-border",children:[t.jsx("p",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary",children:"Projected Annual ROI"}),t.jsxs("p",{className:"text-2xl font-bold text-green-500",children:[D,"%"]})]}),t.jsx("div",{className:"bg-light-bg dark:bg-dark-bg p-4 rounded-lg border border-light-border dark:border-dark-border col-span-2",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary",children:"Next Payout Date"}),t.jsx("p",{className:"text-xl font-bold",children:A.toLocaleDateString("en-NG",{day:"numeric",month:"long",year:"numeric"})})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary",children:"Days Remaining"}),t.jsxs("p",{className:"text-xl font-bold text-brand-primary",children:[q," days"]})]})]})})]})}),t.jsx(tt,{icon:t.jsx(Ni,{className:"w-8 h-8"}),title:"Monthly Profit Summaries",children:t.jsx("div",{className:"space-y-3",children:I.map((M,ee)=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-light-bg dark:bg-dark-bg rounded-lg border border-light-border dark:border-dark-border",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-light-text-primary dark:text-dark-text-primary",children:M.month}),t.jsxs("p",{className:"text-xs text-light-text-secondary dark:text-dark-text-secondary",children:["ROI: ",M.roi,"%"]})]}),t.jsx("div",{className:"text-right",children:t.jsxs("p",{className:"font-bold text-green-500",children:["",M.profit.toLocaleString()]})})]},ee))})}),t.jsx(tt,{icon:t.jsx(ur,{className:"w-8 h-8"}),title:"New Investment Opportunities",children:b?t.jsx("div",{className:"text-center py-8 text-light-text-secondary dark:text-dark-text-secondary",children:"Loading opportunities..."}):y.length===0?t.jsx("div",{className:"text-center py-8 text-light-text-secondary dark:text-dark-text-secondary",children:"No investment opportunities available at the moment."}):t.jsx("div",{className:"space-y-4",children:y.map(M=>t.jsxs("div",{className:"p-4 bg-light-bg dark:bg-dark-bg rounded-lg border border-light-border dark:border-dark-border",children:[t.jsxs("div",{className:"flex items-start justify-between mb-2",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-light-text-primary dark:text-dark-text-primary",children:M.title}),t.jsx("p",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary",children:M.type})]}),t.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded ${M.status==="Open"?"bg-green-500/20 text-green-500":"bg-yellow-500/20 text-yellow-500"}`,children:M.status})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-3 mt-3 text-sm",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-light-text-secondary dark:text-dark-text-secondary",children:"Min Investment"}),t.jsxs("p",{className:"font-semibold",children:["",M.minInvestment.toLocaleString()]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-light-text-secondary dark:text-dark-text-secondary",children:"Expected ROI"}),t.jsxs("p",{className:"font-semibold text-green-500",children:[M.expectedROI,"%"]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-light-text-secondary dark:text-dark-text-secondary",children:"Duration"}),t.jsx("p",{className:"font-semibold",children:M.duration})]})]}),M.status==="Open"&&t.jsx("button",{onClick:()=>u(M),className:"mt-3 w-full bg-brand-primary text-white font-semibold py-2 rounded-lg hover:bg-brand-secondary transition-colors",children:"Invest Now"})]},M.id))})}),t.jsx(tt,{icon:t.jsx(Bn,{className:"w-8 h-8"}),title:"Wallet Actions",children:t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsx(an,{icon:t.jsx(Ql,{className:"w-6 h-6 text-green-500 mb-1"}),label:"Deposit",onClick:l}),t.jsx(an,{icon:t.jsx(fa,{className:"w-6 h-6 text-blue-500 mb-1"}),label:"Withdraw",onClick:d})]})})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-light-bg dark:bg-dark-bg p-6 rounded-lg border border-light-border dark:border-dark-border text-center",children:[t.jsx("img",{src:(r==null?void 0:r.avatarUrl)||"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?q=80&w=256",alt:(r==null?void 0:r.fullName)||"Investor",className:"w-24 h-24 rounded-full mx-auto object-cover border-4 border-light-card dark:border-dark-card shadow-lg"}),t.jsx("h3",{className:"text-xl font-bold mt-3 text-light-text-primary dark:text-dark-text-primary",children:(r==null?void 0:r.fullName)||"Investor"}),t.jsx("p",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary",children:"Verified Investor"}),(r==null?void 0:r.isPremium)&&t.jsx("span",{className:"inline-block mt-2 px-3 py-1 bg-yellow-500/20 text-yellow-600 dark:text-yellow-400 text-xs font-semibold rounded-full",children:"Premium Member"})]}),t.jsx(tt,{icon:t.jsx(Ae,{className:"w-8 h-8"}),title:"Investment Benefits",children:t.jsxs("ul",{className:"space-y-3 text-sm",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx(Ae,{className:"w-5 h-5 text-green-500 mt-0.5 flex-shrink-0"}),t.jsxs("div",{children:[t.jsx("span",{className:"font-semibold",children:"Property Acquisition & Resale:"})," Strategic investments in undervalued properties with high resale potential."]})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx(Ae,{className:"w-5 h-5 text-green-500 mt-0.5 flex-shrink-0"}),t.jsxs("div",{children:[t.jsx("span",{className:"font-semibold",children:"Land Trading:"})," High-potential land acquisitions in prime locations."]})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx(Ae,{className:"w-5 h-5 text-green-500 mt-0.5 flex-shrink-0"}),t.jsxs("div",{children:[t.jsx("span",{className:"font-semibold",children:"Monthly Returns:"})," Regular rental income from invested properties."]})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx(Ae,{className:"w-5 h-5 text-green-500 mt-0.5 flex-shrink-0"}),t.jsxs("div",{children:[t.jsx("span",{className:"font-semibold",children:"Transparent Reporting:"})," Detailed monthly profit summaries and ROI tracking."]})]})]})}),t.jsx(tt,{icon:t.jsx(ur,{className:"w-8 h-8"}),title:"Performance Summary",children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary",children:"Total ROI"}),t.jsxs("span",{className:"font-bold text-green-500",children:[(V/P*100).toFixed(2),"%"]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary",children:"Avg Monthly Return"}),t.jsxs("span",{className:"font-bold",children:["",$.toLocaleString()]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary",children:"Properties"}),t.jsx("span",{className:"font-bold",children:U})]})]})})]})]})},TT=()=>{const[n,r]=T.useState(11),s={NGN:n*ma,USD:n*ca,EUR:n*ca*.92,GBP:n*ca*.79};return t.jsx("section",{className:"my-16",children:t.jsx(tt,{icon:t.jsx(vv,{className:"w-8 h-8"}),title:"SWC Converter",children:t.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-center mt-4",children:[t.jsx("div",{children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("input",{type:"number",value:n,onChange:l=>r(parseFloat(l.target.value)||0),className:"w-full text-2xl font-bold bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border rounded-lg px-4 py-3 focus:ring-2 focus:ring-brand-primary focus:outline-none"}),t.jsx("span",{className:"text-xl font-bold text-brand-primary",children:"SWC"})]})}),t.jsx("div",{children:t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("div",{className:"bg-light-card dark:bg-dark-card p-3 rounded-md border border-light-border dark:border-dark-border",children:[t.jsx("p",{className:"text-xs text-light-text-secondary dark:text-dark-text-secondary",children:"NGN ()"}),t.jsx("p",{className:"font-semibold",children:s.NGN.toLocaleString("en-NG",{minimumFractionDigits:2,maximumFractionDigits:2})})]}),t.jsxs("div",{className:"bg-light-card dark:bg-dark-card p-3 rounded-md border border-light-border dark:border-dark-border",children:[t.jsx("p",{className:"text-xs text-light-text-secondary dark:text-dark-text-secondary",children:"USD ($)"}),t.jsx("p",{className:"font-semibold",children:s.USD.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})})]}),t.jsxs("div",{className:"bg-light-card dark:bg-dark-card p-3 rounded-md border border-light-border dark:border-dark-border",children:[t.jsx("p",{className:"text-xs text-light-text-secondary dark:text-dark-text-secondary",children:"EUR ()"}),t.jsx("p",{className:"font-semibold",children:s.EUR.toLocaleString("de-DE",{minimumFractionDigits:2,maximumFractionDigits:2})})]}),t.jsxs("div",{className:"bg-light-card dark:bg-dark-card p-3 rounded-md border border-light-border dark:border-dark-border",children:[t.jsx("p",{className:"text-xs text-light-text-secondary dark:text-dark-text-secondary",children:"GBP ()"}),t.jsx("p",{className:"font-semibold",children:s.GBP.toLocaleString("en-GB",{minimumFractionDigits:2,maximumFractionDigits:2})})]})]})})]})})})},jT=({isOpen:n,onClose:r,onSuccess:s})=>{const[l,d]=T.useState(""),[u,f]=T.useState(!1),{showError:p,showSuccess:y}=bt(),x=async()=>{if(!l||parseFloat(l)<=0){p("Please enter a valid amount");return}try{f(!0);const b=await ms.initialize(parseFloat(l),{type:"wallet_deposit"});b.success&&b.data.authorizationUrl?(y("Redirecting to payment gateway..."),window.location.href=b.data.authorizationUrl):p("Failed to initialize payment")}catch(b){p(b.message||"Failed to initialize payment")}finally{f(!1)}};return n?t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",children:t.jsxs("div",{className:"relative bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border rounded-lg shadow-2xl w-full max-w-md p-6",children:[t.jsx("button",{onClick:r,className:"absolute top-4 right-4 text-light-text-secondary dark:text-dark-text-secondary hover:text-light-text-primary dark:hover:text-light-text-primary",children:t.jsx(je,{className:"w-6 h-6"})}),t.jsx("h2",{className:"text-2xl font-bold mb-4 text-light-text-primary dark:text-dark-text-primary",children:"Deposit Funds"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-light-text-primary dark:text-dark-text-primary mb-2",children:"Amount (NGN)"}),t.jsx("input",{type:"number",value:l,onChange:b=>d(b.target.value),placeholder:"Enter amount",className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-2 text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-brand-primary focus:outline-none"}),t.jsx("p",{className:"text-xs text-light-text-secondary dark:text-dark-text-secondary mt-1",children:"1 NGN = 1 SWC"})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:x,disabled:u||!l,className:"flex-1 bg-brand-primary text-white py-2 rounded-lg hover:bg-brand-secondary disabled:bg-brand-secondary/50 disabled:cursor-not-allowed",children:u?"Processing...":"Proceed to Payment"}),t.jsx("button",{onClick:r,className:"px-4 py-2 bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border text-light-text-primary dark:text-dark-text-primary rounded-lg hover:bg-light-border dark:hover:bg-dark-border",children:"Cancel"})]})]})]})}):null},CT=({isOpen:n,onClose:r,onSuccess:s,walletBalance:l})=>{const[d,u]=T.useState(""),[f,p]=T.useState(""),[y,x]=T.useState(""),[b,v]=T.useState(""),[k,w]=T.useState([]),[j,P]=T.useState(!1),[V,$]=T.useState(!1),{showError:U,showSuccess:D,showInfo:A}=bt();T.useEffect(()=>{n&&I()},[n]);const I=async()=>{try{$(!0);const M=await ms.getBanks();M.success&&w(M.data||[])}catch(M){console.error("Failed to load banks:",M)}finally{$(!1)}},q=async()=>{if(!d||parseFloat(d)<=0){U("Please enter a valid amount");return}if(parseFloat(d)>l){U("Insufficient balance");return}if(!f||!y||!b){U("Please fill all bank details");return}try{P(!0);const M=await ms.withdraw({amount:parseFloat(d),bankCode:f,accountNumber:y,accountName:b});M.success?(D(`Withdrawal request submitted successfully! ${(parseFloat(d)*90).toLocaleString()} will be transferred to your account after processing.`),s(),r()):U(M.message||"Withdrawal failed")}catch(M){U(M.message||"Withdrawal failed")}finally{P(!1)}};return n?t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",children:t.jsxs("div",{className:"relative bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border rounded-lg shadow-2xl w-full max-w-md p-6 max-h-[90vh] overflow-y-auto",children:[t.jsx("button",{onClick:r,className:"absolute top-4 right-4 text-light-text-secondary dark:text-dark-text-secondary hover:text-light-text-primary dark:hover:text-dark-text-primary",children:t.jsx(je,{className:"w-6 h-6"})}),t.jsx("h2",{className:"text-2xl font-bold mb-4 text-light-text-primary dark:text-dark-text-primary",children:"Withdraw Funds"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-light-text-primary dark:text-dark-text-primary mb-2",children:"Amount (SWC)"}),t.jsx("input",{type:"number",value:d,onChange:M=>u(M.target.value),placeholder:"Enter amount",max:l,className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-2 text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-brand-primary focus:outline-none"}),t.jsxs("p",{className:"text-xs text-light-text-secondary dark:text-dark-text-secondary mt-1",children:["Available: ",l.toFixed(2)," SWC ( ",(l*90).toLocaleString(),")"]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-light-text-primary dark:text-dark-text-primary mb-2",children:"Bank"}),V?t.jsx("div",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary",children:"Loading banks..."}):t.jsxs("select",{value:f,onChange:M=>p(M.target.value),className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-2 text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-brand-primary focus:outline-none",children:[t.jsx("option",{value:"",children:"Select Bank"}),k.map(M=>t.jsx("option",{value:M.code,children:M.name},M.code))]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-light-text-primary dark:text-dark-text-primary mb-2",children:"Account Number"}),t.jsx("input",{type:"text",value:y,onChange:M=>x(M.target.value),placeholder:"Enter account number",className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-2 text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-brand-primary focus:outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-light-text-primary dark:text-dark-text-primary mb-2",children:"Account Name"}),t.jsx("input",{type:"text",value:b,onChange:M=>v(M.target.value),placeholder:"Enter account name",className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-2 text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-brand-primary focus:outline-none"})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:q,disabled:j||!d||!f||!y||!b,className:"flex-1 bg-brand-primary text-white py-2 rounded-lg hover:bg-brand-secondary disabled:bg-brand-secondary/50 disabled:cursor-not-allowed",children:j?"Processing...":"Withdraw"}),t.jsx("button",{onClick:r,className:"px-4 py-2 bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border text-light-text-primary dark:text-dark-text-primary rounded-lg hover:bg-light-border dark:hover:bg-dark-border",children:"Cancel"})]})]})]})}):null},ET=({isOpen:n,onClose:r,onSuccess:s,walletBalance:l,userId:d})=>{const[u,f]=T.useState([]),[p,y]=T.useState(""),[x,b]=T.useState(30),[v,k]=T.useState(!1),[w,j]=T.useState(!1),P=10,{showError:V,showSuccess:$}=bt();T.useEffect(()=>{n&&U()},[n,d]);const U=async()=>{try{j(!0);const A=await Si.getMyListings();if(A.success){const I=(A.data||[]).filter(q=>q.isActive);f(I)}}catch(A){console.error("Failed to load listings:",A)}finally{j(!1)}},D=async()=>{if(!p){V("Please select a listing to boost");return}if(l<P){V(`Insufficient SWC balance. You need ${P} SWC to boost a listing.`);return}try{k(!0);const A=await Si.boost(p,x);A.success?($(`Listing boosted successfully for ${x} days!`),s(),r()):V(A.message||"Failed to boost listing")}catch(A){V(A.message||"Failed to boost listing")}finally{k(!1)}};return n?t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",children:t.jsxs("div",{className:"relative bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border rounded-lg shadow-2xl w-full max-w-md p-6 max-h-[90vh] overflow-y-auto",children:[t.jsx("button",{onClick:r,className:"absolute top-4 right-4 text-light-text-secondary dark:text-dark-text-secondary hover:text-light-text-primary dark:hover:text-dark-text-primary",children:t.jsx(je,{className:"w-6 h-6"})}),t.jsx("h2",{className:"text-2xl font-bold mb-4 text-light-text-primary dark:text-dark-text-primary",children:"Boost a Listing"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-light-text-primary dark:text-dark-text-primary mb-2",children:"Select Listing"}),w?t.jsx("div",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary",children:"Loading listings..."}):u.length===0?t.jsx("div",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary p-3 bg-light-bg dark:bg-dark-bg rounded-lg",children:"No active listings found. Create a listing first."}):t.jsxs("select",{value:p,onChange:A=>y(A.target.value),className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-2 text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-brand-primary focus:outline-none",children:[t.jsx("option",{value:"",children:"Select a listing"}),u.map(A=>t.jsxs("option",{value:A.id,children:[A.title," - ",A.location," ",A.isBoosted?"(Already Boosted)":""]},A.id))]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-light-text-primary dark:text-dark-text-primary mb-2",children:"Duration (days)"}),t.jsx("input",{type:"number",value:x,onChange:A=>b(parseInt(A.target.value)||30),min:1,max:90,className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-2 text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-brand-primary focus:outline-none"}),t.jsx("p",{className:"text-xs text-light-text-secondary dark:text-dark-text-secondary mt-1",children:"Boost duration: 1-90 days (default: 30 days)"})]}),t.jsxs("div",{className:"p-4 bg-light-bg dark:bg-dark-bg rounded-lg border border-light-border dark:border-dark-border",children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("span",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary",children:"Boost Cost:"}),t.jsxs("span",{className:"font-bold text-brand-primary",children:[P," SWC"]})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary",children:"Your Balance:"}),t.jsxs("span",{className:`font-semibold ${l>=P?"text-green-500":"text-red-500"}`,children:[l.toFixed(2)," SWC"]})]}),l<P&&t.jsx("p",{className:"text-xs text-red-500 mt-2",children:"Insufficient balance. Please deposit more SWC."})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:D,disabled:v||!p||l<P||u.length===0,className:"flex-1 bg-brand-primary text-white py-2 rounded-lg hover:bg-brand-secondary disabled:bg-brand-secondary/50 disabled:cursor-not-allowed",children:v?"Boosting...":`Boost for ${x} days`}),t.jsx("button",{onClick:r,className:"px-4 py-2 bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border text-light-text-primary dark:text-dark-text-primary rounded-lg hover:bg-light-border dark:hover:bg-dark-border",children:"Cancel"})]})]})]})}):null},AT=({onClose:n})=>{const r=[{name:"Bronze",color:"border-yellow-600/50",iconColor:"text-yellow-600",requirements:["2+ successful referrals"],benefits:["Activate your full wallet, including your sign-up bonus, making it available for withdrawal."]},{name:"Silver",color:"border-gray-400/50",iconColor:"text-gray-400",requirements:["10+ referrals","250 Credibility Score"],benefits:["Your profile/listings get a 10% higher ranking in search results, increasing your visibility.","Receive a special Silver badge on your profile to build trust with users."]},{name:"Gold",color:"border-yellow-400/50",iconColor:"text-yellow-400",requirements:["20+ referrals","500 Credibility Score"],benefits:["Enjoy a 20% higher search ranking, putting you ahead of the competition.","Gain priority access to property leads and inquiries from seekers.","Unlock access to advanced wallet features and analytics."]},{name:"Platinum",color:"border-cyan-400/50",iconColor:"text-cyan-400",requirements:["50+ referrals","750 Credibility Score"],benefits:["Achieve top-tier, 40% priority placement in all search results.","Unlock exclusive Partnership Opportunities with the ShelTrify team.","Receive an elite Platinum badge, signifying you as a top-tier trusted partner on the platform."]}];return t.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70 animate-fade-in-fast",children:[t.jsx("style",{children:".animate-fade-in-fast { animation: fadeIn 0.3s ease-out; }"}),t.jsxs("div",{className:"relative bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border rounded-lg shadow-2xl w-full max-w-4xl max-h-[90vh] p-6 md:p-8 text-light-text-primary dark:text-dark-text-primary flex flex-col",children:[t.jsx("button",{onClick:n,className:"absolute top-4 right-4 text-light-text-secondary dark:text-dark-text-secondary hover:text-light-text-primary dark:hover:text-dark-text-primary",children:t.jsx(je,{className:"w-6 h-6"})}),t.jsxs("div",{className:"text-center mb-6",children:[t.jsx("h2",{className:"text-3xl font-bold",children:"Tier Benefits & Migration"}),t.jsx("p",{className:"text-light-text-secondary dark:text-dark-text-secondary mt-1",children:"Understand your growth path and the rewards for your contributions."})]}),t.jsx("div",{className:"overflow-y-auto pr-4 -mr-4",children:t.jsx("div",{className:"relative flex flex-col gap-4",children:r.map((s,l)=>t.jsxs(zt.Fragment,{children:[t.jsxs("div",{className:`bg-light-bg dark:bg-dark-bg border-l-4 ${s.color} p-5 rounded-lg`,children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(br,{className:`w-8 h-8 ${s.iconColor}`}),t.jsxs("h3",{className:`text-2xl font-bold ${s.iconColor}`,children:[s.name," Tier"]})]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mt-4",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold mb-2",children:"Requirements to Reach"}),t.jsx("ul",{className:"space-y-1 text-sm text-light-text-secondary dark:text-dark-text-secondary",children:s.requirements.map(d=>t.jsxs("li",{children:[" ",d]},d))})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold mb-2",children:"Benefits Unlocked"}),t.jsx("ul",{className:"space-y-2 text-sm",children:s.benefits.map(d=>t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx(Ae,{className:"w-4 h-4 text-green-500 mt-0.5 flex-shrink-0"}),t.jsx("span",{children:d})]},d))})]})]})]}),l<r.length-1&&t.jsxs("div",{className:"h-8 flex justify-center items-center",children:[t.jsx("div",{className:"w-px h-full bg-light-border dark:bg-dark-border"}),t.jsx(Ql,{className:"w-6 h-6 text-light-text-secondary dark:text-dark-text-secondary absolute bg-light-card dark:bg-dark-card"})]})]},s.name))})})]})]})},_T=({isAuthenticated:n,currentUser:r})=>{const[s,l]=T.useState("agent"),[d,u]=T.useState(!1),[f,p]=T.useState(!1),[y,x]=T.useState(!1),[b,v]=T.useState(!1),[k,w]=T.useState(!1),[j,P]=T.useState(null),[V,$]=T.useState(null),[U,D]=T.useState(null),[A,I]=T.useState(!0),[q,M]=T.useState(null);T.useEffect(()=>{if(!n||!r){I(!1);return}const re=async()=>{try{I(!0),console.log("Loading wallet data for user:",r==null?void 0:r.id);const Y=await qn.getStats();if(console.log("Dashboard API response:",Y),Y.success){console.log("Wallet stats:",Y.data.stats),console.log("SWC Balance:",Y.data.stats.swcBalance||Y.data.stats.walletBalance),$(Y.data.stats),D(Y.data.stats);const W={AGENT:"agent",REFERRER:"referrer",LANDLORD:"landlord",SEEKER:"tenant",TENANT:"tenant",INVESTOR:"investor"}[r.role]||"agent";l(W)}else console.error("Failed to load wallet data:",Y.message),M(Y.message||"Failed to load wallet data")}catch(Y){console.error("Error loading wallet data:",Y),M(Y.message||"Failed to load wallet data")}finally{I(!1)}};re();const ce=()=>{console.log("Wallet update event received, reloading data..."),re()},se=()=>{document.visibilityState==="visible"&&re()},oe=new URLSearchParams(window.location.search);return(oe.get("reference")||oe.get("trxref"))&&setTimeout(()=>{re()},2e3),window.addEventListener("walletUpdated",ce),document.addEventListener("visibilitychange",se),window.addEventListener("focus",re),()=>{window.removeEventListener("walletUpdated",ce),document.removeEventListener("visibilitychange",se),window.removeEventListener("focus",re)}},[n,r]);const F=(()=>{const re=[{id:"agent",label:"Agent",roles:["AGENT"]},{id:"referrer",label:"Referrer",roles:["REFERRER"]},{id:"landlord",label:"Landlord",roles:["LANDLORD"]},{id:"tenant",label:"Tenant",roles:["SEEKER","TENANT"]},{id:"investor",label:"Investor",roles:["INVESTOR"]}];return r?re.map(ce=>({...ce,isActive:ce.roles.includes(r.role),disabled:!ce.roles.includes(r.role)})):re})(),z=()=>{if(A)return t.jsx("div",{className:"text-center py-12 text-light-text-secondary dark:text-dark-text-secondary",children:"Loading wallet data..."});if(q)return t.jsx("div",{className:"text-center py-12 text-red-500",children:q});if(!n||!r)return t.jsx("div",{className:"text-center py-12 text-light-text-secondary dark:text-dark-text-secondary",children:"Please sign in to view your wallet."});switch(s){case"agent":return t.jsx(bT,{onOpenBadgeModal:()=>u(!0),walletData:V,userData:r,onDeposit:()=>p(!0),onWithdraw:()=>x(!0)});case"referrer":return t.jsx(vT,{onOpenBadgeModal:()=>u(!0),walletData:V,userData:r,onDeposit:()=>p(!0),onWithdraw:()=>x(!0)});case"landlord":return t.jsx(kT,{walletData:V,userData:r,stats:U,onBoostListing:()=>v(!0)});case"tenant":return t.jsx(NT,{walletData:V,userData:r});case"investor":return t.jsx(ST,{walletData:V,userData:r,stats:U,onDeposit:()=>p(!0),onWithdraw:()=>x(!0),onInvest:re=>{P(re),w(!0)}});default:return null}};return t.jsxs("div",{className:"max-w-6xl mx-auto",children:[t.jsxs("header",{className:"text-center mb-10",children:[t.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold text-light-text-primary dark:text-dark-text-primary",children:"ShelTrify Wallet"}),t.jsx("p",{className:"mt-2 text-lg text-light-text-secondary dark:text-dark-text-secondary",children:"Your hub for earnings, savings, and rewards across the ShelTrify ecosystem."})]}),t.jsx("div",{className:"mb-8 border-b border-light-border dark:border-dark-border",children:t.jsx("nav",{className:"-mb-px flex space-x-2 md:space-x-6 overflow-x-auto","aria-label":"Tabs",children:F.map(re=>{const ce=re.disabled||!1,se=s===re.id;return t.jsxs("button",{onClick:()=>{ce||l(re.id)},disabled:ce,className:`${se?"border-brand-primary text-brand-primary":ce?"border-transparent text-light-text-secondary/50 dark:text-dark-text-secondary/50 cursor-not-allowed opacity-50":"border-transparent text-light-text-secondary dark:text-dark-text-secondary hover:text-light-text-primary dark:hover:text-dark-text-primary hover:border-gray-300 dark:hover:border-gray-700"} whitespace-nowrap py-4 px-3 md:px-4 border-b-2 font-medium text-sm transition-colors ${ce?"":"cursor-pointer"}`,title:ce?`Available for ${re.roles.join(", ")} only`:"",children:[re.label,ce&&t.jsx("span",{className:"ml-1 text-xs",children:""})]},re.id)})})}),z(),t.jsx(TT,{}),d&&t.jsx(AT,{onClose:()=>u(!1)}),f&&t.jsx(jT,{isOpen:f,onClose:()=>p(!1),onSuccess:()=>{r&&qn.getStats().then(re=>{re.success&&($(re.data.stats),D(re.data.stats))})}}),y&&t.jsx(CT,{isOpen:y,onClose:()=>x(!1),walletBalance:(V==null?void 0:V.swcBalance)||0,onSuccess:()=>{r&&qn.getStats().then(re=>{re.success&&($(re.data.stats),D(re.data.stats))})}}),b&&r&&t.jsx(ET,{isOpen:b,onClose:()=>v(!1),walletBalance:(V==null?void 0:V.swcBalance)||0,userId:r.id,onSuccess:()=>{r&&qn.getStats().then(re=>{re.success&&($(re.data.stats),D(re.data.stats))})}}),k&&j&&t.jsx(wT,{isOpen:k,onClose:()=>{w(!1),P(null)},opportunity:j,walletBalance:(V==null?void 0:V.swcBalance)||0,onSuccess:()=>{r&&qn.getStats().then(re=>{re.success&&($(re.data.stats),D(re.data.stats))})}})]})},MT=[{id:1,name:"Babatunde Adekunle",phone:"0801-234-5678",image:"https://images.unsplash.com/photo-1539571696357-5a69c17a67c6?q=80&w=256"},{id:2,name:"Musa Ibrahim",phone:"0802-345-6789",image:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?q=80&w=256"},{id:3,name:"Chinedu Okoro",phone:"0803-456-7890",image:"https://images.unsplash.com/photo-1566753323558-f4e0952af115?q=80&w=256"},{id:4,name:"Suleiman Bello",phone:"0804-567-8901",image:"https://images.unsplash.com/photo-1614283233556-f35b7c841523?q=80&w=256"},{id:5,name:"Femi Adeboye",phone:"0806-789-0123",image:"https://images.unsplash.com/photo-1560250097-0b93528c311a?q=80&w=256"},{id:6,name:"Ahmed Garba",phone:"0807-890-1234",image:"https://images.unsplash.com/photo-1580489944761-15a19d654956?q=80&w=256"}],RT=({product:n,category:r,onAddToCart:s})=>{const[l,d]=T.useState(!1),{showSuccess:u,showError:f}=bt(),p=n.type==="service",y=r==="homesForSale"||r==="landForSale",x=n.id||n.productId,b=k=>k>=1e6?`${(k/1e6).toFixed(2)}M`:`${k.toLocaleString()}`,v=async()=>{if(!(!x||p)){d(!0);try{s?await s(x):(await _r.add(x),u("Added to cart!"))}catch(k){f(k.message||"Failed to add to cart. Please login first.")}finally{d(!1)}}};return t.jsxs("div",{className:"flex-shrink-0 w-80 bg-dark-card border border-dark-border rounded-lg overflow-hidden snap-start group",children:[t.jsxs("div",{className:"relative overflow-hidden aspect-[4/3]",children:[t.jsx("img",{src:n.image||n.imageUrl,alt:n.name,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-110"}),n.discount&&!y&&typeof n.discount=="number"&&t.jsxs("div",{className:"absolute top-2 right-2 bg-red-600 text-white text-xs font-bold px-2 py-1 rounded-full",children:["-",n.discount,"%"]})]}),t.jsxs("div",{className:"p-4",children:[t.jsx("h3",{className:"font-bold text-dark-text-primary truncate",children:n.name}),t.jsx("div",{className:"flex items-baseline gap-2 mt-2",children:y?t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"text-xl font-bold text-brand-primary",children:b(n.price)}),n.oldPrice&&t.jsx("p",{className:"text-sm text-dark-text-secondary line-through",children:b(n.oldPrice)})]}):t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"text-xl font-bold text-brand-primary",children:b(n.price)}),n.oldPrice&&t.jsx("p",{className:"text-sm text-dark-text-secondary line-through",children:b(n.oldPrice)})]})}),n.discount&&t.jsx("p",{className:"text-xs text-dark-text-secondary h-4",children:y||p?n.discount:""}),t.jsx("button",{onClick:v,disabled:l||p,className:`w-full mt-3 flex items-center justify-center gap-2 px-4 py-2 font-semibold text-sm rounded-md transition-colors ${p?"bg-brand-secondary text-white hover:bg-opacity-90":"bg-brand-primary text-white hover:bg-brand-secondary"} disabled:opacity-50 disabled:cursor-not-allowed`,children:p?"Get Quote":l?"Adding...":t.jsxs(t.Fragment,{children:[t.jsx(fs,{className:"w-4 h-4"})," Add to Cart"]})})]})]})},IT=({driver:n})=>{const s=`tel:${n.phone.replace(/[^\d+]/g,"")}`;return t.jsxs("div",{className:"flex-shrink-0 w-80 bg-dark-card border border-dark-border rounded-lg overflow-hidden snap-start group",children:[t.jsx("div",{className:"relative overflow-hidden aspect-[4/3]",children:t.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-110"})}),t.jsxs("div",{className:"p-4 text-center",children:[t.jsx("h3",{className:"font-bold text-dark-text-primary text-lg",children:n.name}),t.jsx("p",{className:"text-sm text-dark-text-secondary mt-1",children:n.phone}),t.jsxs("a",{href:s,className:"w-full mt-3 flex items-center justify-center gap-2 px-4 py-2 font-semibold text-sm rounded-md transition-colors bg-brand-secondary text-white hover:bg-opacity-90",children:[t.jsx(Vc,{className:"w-4 h-4"})," Contact Driver"]})]})]})},pi=({title:n,products:r,categoryKey:s,onAddToCart:l})=>{const d=T.useRef(null),u=f=>{if(d.current){const p=f==="left"?-336:336;d.current.scrollBy({left:p,behavior:"smooth"})}};return t.jsxs("section",{className:"mb-12",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-dark-text-primary",children:n}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>u("left"),className:"p-2 bg-dark-card border border-dark-border rounded-full hover:bg-dark-border transition-colors",children:t.jsx(zn,{className:"w-6 h-6"})}),t.jsx("button",{onClick:()=>u("right"),className:"p-2 bg-dark-card border border-dark-border rounded-full hover:bg-dark-border transition-colors",children:t.jsx(Gn,{className:"w-6 h-6"})})]})]}),t.jsx("div",{ref:d,className:"flex gap-4 overflow-x-auto pb-4 scrollbar-hide snap-x snap-mandatory",children:r.map(f=>t.jsx(RT,{product:f,category:s,onAddToCart:l},f.id||f.productId))})]})},PT=({title:n,drivers:r})=>{const s=T.useRef(null),l=d=>{if(s.current){const u=d==="left"?-336:336;s.current.scrollBy({left:u,behavior:"smooth"})}};return t.jsxs("section",{className:"mb-12",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-dark-text-primary",children:n}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>l("left"),className:"p-2 bg-dark-card border border-dark-border rounded-full hover:bg-dark-border transition-colors",children:t.jsx(zn,{className:"w-6 h-6"})}),t.jsx("button",{onClick:()=>l("right"),className:"p-2 bg-dark-card border border-dark-border rounded-full hover:bg-dark-border transition-colors",children:t.jsx(Gn,{className:"w-6 h-6"})})]})]}),t.jsx("div",{ref:s,className:"flex gap-4 overflow-x-auto pb-4 scrollbar-hide snap-x snap-mandatory",children:r.map(d=>t.jsx(IT,{driver:d},d.id))})]})},LT=({onProductCreated:n})=>{const{showSuccess:r,showError:s}=bt(),[l,d]=T.useState({name:"",description:"",price:"",category:"HOME_ELECTRONICS"}),[u,f]=T.useState(null),[p,y]=T.useState(null),[x,b]=T.useState(!1),[v,k]=T.useState(null),w=T.useRef(null),j=V=>{var U;const $=(U=V.target.files)==null?void 0:U[0];if($){if($.size>20*1024*1024){s("Image size must be less than 20MB");return}f($);const D=new FileReader;D.onloadend=()=>y(D.result),D.readAsDataURL($)}},P=async V=>{var $;V.preventDefault(),k(null),b(!0);try{let U;if(u){const A=await Fn.uploadImage(u,!0);if(A.success&&(($=A.data)!=null&&$.url))U=A.data.url;else{k(A.message||"Failed to upload image"),b(!1);return}}(await $c.create({name:l.name,description:l.description||void 0,price:parseFloat(l.price),category:l.category,imageUrl:U})).success&&(r("Product submitted successfully! It will be reviewed by admin before going live."),d({name:"",description:"",price:"",category:"HOME_ELECTRONICS"}),f(null),y(null),w.current&&(w.current.value=""),n==null||n())}catch(U){const D=U.message||"Failed to create listing. Please login first.";k(D),s(D)}finally{b(!1)}};return t.jsx("section",{className:"mb-16 bg-dark-card border border-dark-border rounded-xl p-8",children:t.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-center",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-brand-primary to-cyan-400",children:"Sell on ShelTrify"}),t.jsx("p",{className:"mt-2 text-dark-text-secondary",children:"Have property, furniture, electronics, or building materials to sell? List them on our marketplace and reach thousands of potential buyers daily."})]}),t.jsxs("form",{onSubmit:P,className:"bg-dark-bg border border-dark-border rounded-lg p-6 space-y-4",children:[v&&t.jsx("div",{className:"p-3 bg-red-500/10 text-red-500 rounded-lg text-sm",children:v}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-dark-text-secondary",children:"What are you selling?"}),t.jsx("input",{type:"text",placeholder:"e.g., 3-Bedroom Bungalow, 6-Seater Sofa...",required:!0,value:l.name,onChange:V=>d({...l,name:V.target.value}),className:"w-full mt-1 bg-dark-card border border-dark-border rounded-md px-3 py-2 focus:ring-brand-primary focus:outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-dark-text-secondary",children:"Description (optional)"}),t.jsx("textarea",{placeholder:"Describe your product...",value:l.description,onChange:V=>d({...l,description:V.target.value}),className:"w-full mt-1 bg-dark-card border border-dark-border rounded-md px-3 py-2 focus:ring-brand-primary focus:outline-none",rows:2})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-dark-text-secondary",children:"Category"}),t.jsxs("select",{value:l.category,onChange:V=>d({...l,category:V.target.value}),className:"w-full mt-1 bg-dark-card border border-dark-border rounded-md px-3 py-2 focus:ring-brand-primary focus:outline-none",children:[t.jsx("option",{value:"HOME_ELECTRONICS",children:"Home Electronics"}),t.jsx("option",{value:"INTERIOR_DESIGN",children:"Interior Design"}),t.jsx("option",{value:"BUILDING_MATERIALS",children:"Building Materials"}),t.jsx("option",{value:"HOMES_FOR_SALE",children:"Homes for Sale"}),t.jsx("option",{value:"LAND_FOR_SALE",children:"Land for Sale"}),t.jsx("option",{value:"SERVICES",children:"Services"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-dark-text-secondary",children:"Price (NGN)"}),t.jsx("input",{type:"number",placeholder:"e.g., 150000",required:!0,min:"0",step:"0.01",value:l.price,onChange:V=>d({...l,price:V.target.value}),className:"w-full mt-1 bg-dark-card border border-dark-border rounded-md px-3 py-2 focus:ring-brand-primary focus:outline-none"})]}),t.jsx("input",{type:"file",ref:w,onChange:j,accept:"image/*",className:"hidden"}),t.jsxs("div",{children:[t.jsxs("button",{type:"button",onClick:()=>{var V;return(V=w.current)==null?void 0:V.click()},className:"w-full flex items-center justify-center gap-2 py-2 border border-dark-border rounded-md hover:bg-dark-border text-sm text-dark-text-primary",children:[t.jsx(Jc,{className:"w-5 h-5"})," ",p?"Change Image":"Upload Image"]}),t.jsx("p",{className:"text-xs text-dark-text-secondary mt-1",children:"Max size: 20MB | Formats: JPG, PNG, GIF, WebP"})]}),p&&t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:p,alt:"Preview",className:"w-full h-48 object-cover rounded-md border border-dark-border"}),t.jsx("button",{type:"button",onClick:()=>{f(null),y(null),w.current&&(w.current.value="")},className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1.5 hover:bg-red-600 transition-colors",children:""})]}),t.jsx("button",{type:"submit",disabled:x||!l.name||!l.price,className:"w-full bg-brand-primary text-white font-bold py-3 rounded-md hover:bg-brand-secondary transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:x?"Creating...":"Create Listing"})]})]})})},DT=({onCartUpdate:n})=>{const{showSuccess:r}=bt(),[s,l]=T.useState([]),[d,u]=T.useState(!0),[f,p]=T.useState(0);T.useEffect(()=>{y(),x()},[]);const y=async()=>{try{u(!0);const j=await $c.getAll({limit:100});j.success&&l(j.data.products)}catch(j){console.error("Failed to load products:",j),l([])}finally{u(!1)}},x=async()=>{try{if(localStorage.getItem("authToken")){const P=await _r.getAll();P.success&&p(P.data.itemCount||0)}}catch{}},b=async j=>{try{await _r.add(j),await x(),n&&n(),r("Added to cart!")}catch(P){throw P}},v=()=>{y()},k={HOMES_FOR_SALE:s.filter(j=>j.category==="HOMES_FOR_SALE"),LAND_FOR_SALE:s.filter(j=>j.category==="LAND_FOR_SALE"),BUILDING_MATERIALS:s.filter(j=>j.category==="BUILDING_MATERIALS"),HOME_ELECTRONICS:s.filter(j=>j.category==="HOME_ELECTRONICS"),INTERIOR_DESIGN:s.filter(j=>j.category==="INTERIOR_DESIGN")},w={homesForSale:k.HOMES_FOR_SALE.map(j=>({...j,image:j.imageUrl,id:j.id,price:j.price,oldPrice:j.oldPrice})),landForSale:k.LAND_FOR_SALE.map(j=>({...j,image:j.imageUrl,id:j.id,price:j.price,oldPrice:j.oldPrice})),tipperShield:k.BUILDING_MATERIALS.map(j=>({...j,image:j.imageUrl,id:j.id,type:"product",price:j.price,oldPrice:j.oldPrice})),homeElectronics:k.HOME_ELECTRONICS.map(j=>({...j,image:j.imageUrl,id:j.id,price:j.price,oldPrice:j.oldPrice})),interiorDesign:k.INTERIOR_DESIGN.map(j=>({...j,image:j.imageUrl,id:j.id,price:j.price,oldPrice:j.oldPrice}))};return t.jsxs("div",{className:"max-w-7xl mx-auto py-2",children:[t.jsxs("header",{className:"text-center mb-10",children:[t.jsxs("h1",{className:"text-4xl md:text-5xl font-extrabold text-dark-text-primary flex items-center justify-center gap-3",children:[t.jsx(Mr,{className:"w-12 h-12 text-brand-primary"}),"ShelTrify Marketplace"]}),t.jsx("p",{className:"mt-2 text-lg text-dark-text-secondary",children:"Your one-stop shop for everything home and construction."})]}),t.jsxs("div",{className:"relative h-64 md:h-80 rounded-xl overflow-hidden mb-12 shadow-lg",children:[t.jsx("img",{src:"https://images.unsplash.com/photo-1582407947304-fd86f028f716?q=80&w=1200",alt:"Modern building",className:"w-full h-full object-cover"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent flex items-end justify-center p-8",children:t.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white text-center drop-shadow-md",children:"Your Complete Home & Build Store"})})]}),t.jsx(LT,{onProductCreated:v}),d?t.jsx("div",{className:"text-center py-8 text-dark-text-secondary",children:"Loading products..."}):t.jsxs(t.Fragment,{children:[w.homesForSale.length>0&&t.jsx(pi,{title:"Latest Built Homes for Sale",products:w.homesForSale,categoryKey:"homesForSale",onAddToCart:b}),w.interiorDesign.length>0&&t.jsx(pi,{title:"Home Furniture for Sale",products:w.interiorDesign,categoryKey:"interiorDesign",onAddToCart:b}),w.landForSale.length>0&&t.jsx(pi,{title:"Land for Sale",products:w.landForSale,categoryKey:"landForSale",onAddToCart:b}),w.homeElectronics.length>0&&t.jsx(pi,{title:"Home Electronics",products:w.homeElectronics,categoryKey:"homeElectronics",onAddToCart:b}),w.tipperShield.length>0&&t.jsx(pi,{title:"Tipper Shield: Building Materials",products:w.tipperShield,categoryKey:"tipperShield",onAddToCart:b}),t.jsx(PT,{title:"Connect with Tipper Drivers",drivers:MT}),s.length===0&&!d&&t.jsxs("div",{className:"text-center py-12",children:[t.jsx(Mr,{className:"w-16 h-16 mx-auto text-dark-text-secondary mb-4"}),t.jsx("p",{className:"text-lg text-dark-text-secondary",children:"No products available yet."}),t.jsx("p",{className:"text-sm text-dark-text-secondary mt-2",children:"Be the first to list a product!"})]})]})]})},Hg=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,Lx=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,Dx=/\.(m3u8)($|\?)/i,UT=/\.(mpd)($|\?)/i,qT=/stream\.mux\.com\/(?!\w+\.m3u8)(\w+)/,VT=/(?:youtu\.be\/|youtube(?:-nocookie|education)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//,HT=/vimeo\.com\/(?!progressive_redirect).+/,FT=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?([^?]+)/,BT=/open\.spotify\.com\/(\w+)\/(\w+)/i,zT=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+|(videos?\/|\?video=)\d+)($|\?)/,GT=/tiktok\.com\/(?:player\/v1\/|share\/video\/|@[^/]+\/video\/)([0-9]+)/,vi=(n,r)=>{if(Array.isArray(n)){for(const s of n)if(typeof s=="string"&&vi(s,r)||vi(s.src,r))return!0;return!1}return r(n)},Ar={html:n=>vi(n,r=>Hg.test(r)||Lx.test(r)),hls:n=>vi(n,r=>Dx.test(r)),dash:n=>vi(n,r=>UT.test(r)),mux:n=>qT.test(n),youtube:n=>VT.test(n),vimeo:n=>HT.test(n)&&!Lx.test(n)&&!Dx.test(n),wistia:n=>FT.test(n),spotify:n=>BT.test(n),twitch:n=>zT.test(n),tiktok:n=>GT.test(n)},OT=zt.forwardRef((n,r)=>{const s=Hg.test(`${n.src}`)?"audio":"video";return zt.createElement(s,{...n,ref:r},n.children)});var YT=OT;const JT=[{key:"hls",name:"hls.js",canPlay:Ar.hls,canEnablePIP:()=>!0,player:T.lazy(()=>Bt(()=>import("./react-9xZRtzEE.js"),__vite__mapDeps([0,1,2])))},{key:"dash",name:"dash.js",canPlay:Ar.dash,canEnablePIP:()=>!0,player:T.lazy(()=>Bt(()=>import("./react-CQ_M7WYL.js"),__vite__mapDeps([3,1])))},{key:"mux",name:"Mux",canPlay:Ar.mux,canEnablePIP:()=>!0,player:T.lazy(()=>Bt(()=>import("./index-vbltAc-j.js"),__vite__mapDeps([4,2,1])))},{key:"youtube",name:"YouTube",canPlay:Ar.youtube,player:T.lazy(()=>Bt(()=>import("./react-DSKfOA5D.js"),[]))},{key:"vimeo",name:"Vimeo",canPlay:Ar.vimeo,player:T.lazy(()=>Bt(()=>import("./react-lZieUJBh.js"),[]))},{key:"wistia",name:"Wistia",canPlay:Ar.wistia,canEnablePIP:()=>!0,player:T.lazy(()=>Bt(()=>import("./react-DaT0SLLp.js"),[]))},{key:"spotify",name:"Spotify",canPlay:Ar.spotify,canEnablePIP:()=>!1,player:T.lazy(()=>Bt(()=>import("./react-DTa63ldc.js"),[]))},{key:"twitch",name:"Twitch",canPlay:Ar.twitch,canEnablePIP:()=>!1,player:T.lazy(()=>Bt(()=>import("./react-CgroESEu.js"),[]))},{key:"tiktok",name:"TikTok",canPlay:Ar.tiktok,canEnablePIP:()=>!1,player:T.lazy(()=>Bt(()=>import("./react-HgOt97xH.js"),[]))},{key:"html",name:"html",canPlay:Ar.html,canEnablePIP:()=>!0,player:YT}];var Uc=JT;const WT={width:"320px",height:"180px",volume:1,playbackRate:1,previewTabIndex:0,previewAriaLabel:"",oEmbedUrl:"https://noembed.com/embed?url={url}"},Fg=zt.forwardRef((n,r)=>{const{playing:s,pip:l}=n,d=n.activePlayer,u=T.useRef(null),f=T.useRef(!0);T.useEffect(()=>{var v,k;u.current&&(u.current.paused&&s===!0&&u.current.play(),!u.current.paused&&s===!1&&u.current.pause(),u.current.playbackRate=(v=n.playbackRate)!=null?v:1,u.current.volume=(k=n.volume)!=null?k:1)}),T.useEffect(()=>{var v,k,w,j,P;if(!(!u.current||!globalThis.document)){if(l&&!document.pictureInPictureElement)try{(k=(v=u.current).requestPictureInPicture)==null||k.call(v)}catch{}if(!l&&document.pictureInPictureElement)try{(j=(w=u.current).exitPictureInPicture)==null||j.call(w),(P=document.exitPictureInPicture)==null||P.call(document)}catch{}}},[l]);const p=v=>{var k,w;f.current=!0,(k=n.onReady)==null||k.call(n),(w=n.onLoadStart)==null||w.call(n,v)},y=v=>{var k,w;f.current&&(f.current=!1,(k=n.onStart)==null||k.call(n,v)),(w=n.onPlay)==null||w.call(n,v)};if(!d)return null;const x={},b=["onReady","onStart"];for(const v in n)v.startsWith("on")&&!b.includes(v)&&(x[v]=n[v]);return zt.createElement(d,{...x,style:n.style,className:n.className,slot:n.slot,ref:T.useCallback(v=>{u.current=v,typeof r=="function"?r(v):r!==null&&(r.current=v)},[r]),src:n.src,crossOrigin:n.crossOrigin,preload:n.preload,controls:n.controls,muted:n.muted,autoPlay:n.autoPlay,loop:n.loop,playsInline:n.playsInline,disableRemotePlayback:n.disableRemotePlayback,config:n.config,onLoadStart:p,onPlay:y},n.children)});Fg.displayName="Player";var KT=Fg;const $T=T.lazy(()=>Bt(()=>import("./Preview-xYVDmd1_.js"),[])),xi=[],XT=(n,r)=>{const s=d=>{for(const u of[...xi,...n])if(d&&u.canPlay(d))return u;return r||null},l=zt.forwardRef((d,u)=>{const f={...WT,...d},{src:p,slot:y,className:x,style:b,width:v,height:k,fallback:w,wrapper:j}=f,[P,V]=T.useState(!!f.light);T.useEffect(()=>{f.light?V(!0):V(!1)},[f.light]);const $=q=>{var M;V(!1),(M=f.onClickPreview)==null||M.call(f,q)},U=q=>{if(!q)return null;const{light:M,playIcon:ee,previewTabIndex:F,oEmbedUrl:z,previewAriaLabel:re}=f;return zt.createElement($T,{src:q,light:M,playIcon:ee,previewTabIndex:F,previewAriaLabel:re,oEmbedUrl:z,onClickPreview:$})},D=q=>{var M,ee;const F=s(q);if(!F)return null;const{style:z,width:re,height:ce,wrapper:se}=f,oe=(M=f.config)==null?void 0:M[F.key];return zt.createElement(KT,{...f,ref:u,activePlayer:(ee=F.player)!=null?ee:F,slot:se?void 0:y,className:se?void 0:x,style:se?{display:"block",width:"100%",height:"100%"}:{display:"block",width:re,height:ce,...z},config:oe})},A=j??Ux,I=w===!1?Ux:T.Suspense;return zt.createElement(A,{slot:y,className:x,style:{width:v,height:k,...b}},zt.createElement(I,{fallback:w},P?U(p):D(p)))});return l.displayName="ReactPlayer",l.addCustomPlayer=d=>{xi.push(d)},l.removeCustomPlayers=()=>{xi.length=0},l.canPlay=d=>{if(d){for(const u of[...xi,...n])if(u.canPlay(d))return!0}return!1},l.canEnablePIP=d=>{var u;if(d){for(const f of[...xi,...n])if(f.canPlay(d)&&((u=f.canEnablePIP)!=null&&u.call(f)))return!0}return!1},l},Ux=({children:n})=>n,QT=Uc[Uc.length-1];var Bg=XT(Uc,QT);const ZT=({feel:n,isVisible:r,onLike:s,onComment:l})=>{const{showSuccess:d}=bt(),[u,f]=T.useState(!1),[p,y]=T.useState(n.likes||0);T.useEffect(()=>{y(n.likes||0)},[n.likes]);const[x,b]=T.useState(!1),[v,k]=T.useState(""),[w,j]=T.useState([]),[P,V]=T.useState(!1),[$,U]=T.useState(!1),[D,A]=T.useState(!0),[I,q]=T.useState(!0),M=T.useRef(null),ee=async()=>{if(s){const Z=u;f(!Z),y(Z?Math.max(0,p-1):p+1);try{await s()}catch{f(Z),y(n.likes||0)}}},F=()=>{b(!0),z()},z=async()=>{V(!0);try{setTimeout(()=>{j([]),V(!1)},500)}catch{V(!1)}},re=async Z=>{Z.preventDefault(),!(!v.trim()||!l)&&(await l(v.trim()),k(""),setShowCommentModal(!1))},ce=Z=>Z>=1e6?(Z/1e6).toFixed(1)+"M":Z>=1e3?(Z/1e3).toFixed(1)+"K":Z,se=n.videoUrl&&(n.videoUrl.endsWith(".mp4")||n.videoUrl.endsWith(".webm")||n.videoUrl.endsWith(".mov")),Y=(Z=>{if(se)return null;const me=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,C=Z.match(me);return C&&C[2].length===11?C[2]:null})(n.videoUrl),_=n.user.fullName||n.user.email.split("@")[0],W=n.user.email.split("@")[0].toLowerCase(),Q=n.user.avatarUrl||"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?q=80&w=256";return t.jsxs("div",{"data-feels-video-card":!0,className:"relative w-full h-full bg-dark-card rounded-xl md:rounded-2xl overflow-hidden shadow-2xl border border-dark-border flex items-center justify-center",children:[t.jsx("div",{className:"absolute inset-0 w-full h-full flex items-center justify-center bg-black",children:r?t.jsxs(t.Fragment,{children:[t.jsx(Bg,{ref:M,url:n.videoUrl,playing:r&&$,muted:I,loop:!0,controls:!0,width:"100%",height:"100%",style:{position:"absolute",top:0,left:0},onError:Z=>{console.log("Video error:",Z),A(!0)},onReady:()=>{r&&(U(!0),A(!1))},onPlay:()=>{U(!0),A(!1)},onPause:()=>{U(!1),A(!0)},onStart:()=>{U(!0),A(!1)},onClickPreview:Z=>{U(!0),A(!1)},config:{youtube:{playerVars:{autoplay:r?1:0,mute:I?1:0,controls:1,rel:0,modestbranding:1}},file:{attributes:{controlsList:"nodownload",playsInline:!0,onError:Z=>{Z.preventDefault(),Z.stopPropagation()}}}},fallback:t.jsx("div",{className:"w-full h-full flex items-center justify-center text-white",children:"Loading video..."})}),D&&t.jsx("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center cursor-pointer z-10",onClick:Z=>{var me;if(Z.stopPropagation(),U(!0),A(!1),(me=M.current)!=null&&me.getInternalPlayer){const C=M.current.getInternalPlayer();C&&typeof C.play=="function"&&C.play().catch(H=>{console.log("Play failed:",H),A(!0)})}},children:t.jsx(cr,{className:"w-16 h-16 md:w-20 md:h-20 text-white/90 hover:text-white transition-opacity"})}),t.jsx("button",{onClick:Z=>{Z.stopPropagation(),q(!I)},className:"absolute top-4 left-4 z-20 p-2 bg-black/50 rounded-full hover:bg-black/70 transition-colors",title:I?"Unmute":"Mute",children:I?t.jsx(ag,{className:"w-5 h-5 text-white"}):t.jsx(ng,{className:"w-5 h-5 text-white"})})]}):t.jsxs(t.Fragment,{children:[se?t.jsx("video",{src:n.videoUrl,muted:!0,className:"w-full h-full object-contain"}):Y?t.jsx("img",{src:`https://i.ytimg.com/vi/${Y}/maxresdefault.jpg`,alt:n.caption||"Video",className:"w-full h-full object-contain"}):t.jsx("div",{className:"w-full h-full bg-dark-bg flex items-center justify-center",children:t.jsx(cr,{className:"w-20 h-20 text-white/50"})}),t.jsx("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center cursor-pointer group",children:t.jsx(cr,{className:"w-20 h-20 text-white/70 group-hover:text-white group-hover:scale-110 transition-all"})})]})}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-black/30 pointer-events-none"}),t.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-3 sm:p-4 text-white z-10 pointer-events-none",children:[t.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[t.jsx("img",{src:Q,alt:_,className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full border-2 border-white/80 object-cover flex-shrink-0"}),t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsxs("p",{className:"font-bold text-xs sm:text-sm truncate",children:["@",W]}),t.jsx("p",{className:"text-xs text-gray-300 truncate",children:n.music||"Original Audio"})]})]}),t.jsx("p",{className:"text-xs sm:text-sm mt-1.5 sm:mt-2 line-clamp-2 break-words",children:n.caption||"No caption"})]}),t.jsxs("div",{className:"absolute bottom-3 sm:bottom-4 right-2 sm:right-3 flex flex-col items-center gap-3 sm:gap-5 text-white z-10",children:[t.jsxs("button",{onClick:ee,className:"flex flex-col items-center group pointer-events-auto touch-manipulation",children:[t.jsx(Xl,{className:`w-7 h-7 sm:w-8 sm:h-8 transition-all active:scale-95 group-hover:scale-110 ${u?"text-red-500 fill-current":"fill-transparent stroke-white"}`}),t.jsx("span",{className:"text-xs font-semibold drop-shadow-md",children:ce(p)})]}),t.jsxs("button",{onClick:F,className:"flex flex-col items-center group pointer-events-auto touch-manipulation",children:[t.jsx(Bc,{className:"w-7 h-7 sm:w-8 sm:h-8 drop-shadow-md active:scale-95 group-hover:scale-110 transition-transform"}),t.jsx("span",{className:"text-xs font-semibold drop-shadow-md",children:ce(n.comments||0)})]}),t.jsxs("button",{onClick:Z=>{Z.stopPropagation(),navigator.share?navigator.share({title:n.caption||"Check out this Feels video",text:n.caption||"",url:window.location.href}).catch(()=>{}):(navigator.clipboard.writeText(window.location.href),d("Link copied to clipboard!"))},className:"flex flex-col items-center group pointer-events-auto touch-manipulation",children:[t.jsx(zc,{className:"w-7 h-7 sm:w-8 sm:h-8 drop-shadow-md active:scale-95 group-hover:scale-110 transition-transform"}),t.jsx("span",{className:"text-xs font-semibold drop-shadow-md",children:ce(n.shares||0)})]}),t.jsx("button",{onClick:Z=>{Z.stopPropagation(),d("Saved to bookmarks!")},className:"flex flex-col items-center group pointer-events-auto touch-manipulation",children:t.jsx(Yc,{className:"w-7 h-7 sm:w-8 sm:h-8 drop-shadow-md active:scale-95 group-hover:scale-110 transition-transform fill-transparent stroke-white"})})]}),x&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center sm:p-4 bg-black/70 backdrop-blur-sm",children:t.jsxs("div",{className:"relative bg-dark-card border border-dark-border rounded-t-2xl sm:rounded-lg shadow-2xl w-full sm:w-full sm:max-w-md h-[80vh] sm:h-auto sm:max-h-[80vh] flex flex-col",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-dark-border",children:[t.jsxs("h3",{className:"text-xl font-bold text-dark-text-primary",children:["Comments (",n.comments||0,")"]}),t.jsx("button",{onClick:()=>b(!1),className:"text-dark-text-secondary hover:text-dark-text-primary",children:t.jsx(je,{className:"w-6 h-6"})})]}),t.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:P?t.jsx("div",{className:"text-center py-8 text-dark-text-secondary",children:"Loading comments..."}):w.length===0?t.jsx("div",{className:"text-center py-8 text-dark-text-secondary",children:t.jsx("p",{children:"No comments yet. Be the first to comment!"})}):w.map((Z,me)=>{var C,H,X;return t.jsxs("div",{className:"flex gap-3",children:[t.jsx("img",{src:((C=Z.user)==null?void 0:C.avatarUrl)||"https://via.placeholder.com/40",alt:((H=Z.user)==null?void 0:H.name)||"User",className:"w-10 h-10 rounded-full flex-shrink-0"}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx("span",{className:"font-semibold text-sm text-dark-text-primary",children:((X=Z.user)==null?void 0:X.name)||"Anonymous"}),t.jsx("span",{className:"text-xs text-dark-text-secondary",children:new Date(Z.createdAt).toLocaleDateString()})]}),t.jsx("p",{className:"text-sm text-dark-text-secondary",children:Z.text}),t.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[t.jsxs("button",{className:"text-xs text-dark-text-secondary hover:text-brand-primary",children:["Like (",Z.likes||0,")"]}),t.jsx("button",{className:"text-xs text-dark-text-secondary hover:text-brand-primary",children:"Reply"})]})]})]},me)})}),t.jsx("div",{className:"p-4 border-t border-dark-border",children:t.jsxs("form",{onSubmit:re,className:"flex gap-2",children:[t.jsx("textarea",{value:v,onChange:Z=>k(Z.target.value),placeholder:"Add a comment...",rows:2,className:"flex-1 bg-dark-bg border border-dark-border rounded-lg px-4 py-2 text-dark-text-primary focus:ring-2 focus:ring-brand-primary focus:outline-none resize-none text-sm"}),t.jsx("button",{type:"submit",disabled:!v.trim(),className:"px-4 py-2 bg-brand-primary text-white rounded-lg hover:bg-brand-secondary disabled:opacity-50 disabled:cursor-not-allowed self-end",children:"Post"})]})})]})})]})},ej=({isOpen:n,onClose:r,isLoading:s,error:l,recommendations:d})=>n?t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm animate-fade-in-fast",children:t.jsxs("div",{className:"relative bg-dark-card border border-dark-border rounded-lg shadow-2xl w-full max-w-3xl p-6 text-dark-text-primary flex flex-col max-h-[90vh]",children:[t.jsx("button",{onClick:r,className:"absolute top-4 right-4 text-dark-text-secondary hover:text-dark-text-primary",children:t.jsx(je,{className:"w-6 h-6"})}),t.jsx("h2",{className:"text-2xl font-bold text-center mb-6",children:" Your Next Favorite 'Feels'"}),t.jsxs("div",{className:"flex-grow overflow-y-auto pr-2 -mr-2",children:[s&&t.jsx("div",{className:"flex justify-center items-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-primary"})}),l&&t.jsxs("div",{className:"text-center text-red-400 p-8 flex flex-col items-center",children:[t.jsx("p",{className:"font-semibold",children:"Oops! Something went wrong."}),t.jsx("p",{className:"text-sm",children:l})]}),!s&&!l&&d&&t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:d.map((u,f)=>t.jsxs("div",{className:"bg-dark-bg border border-dark-border rounded-lg p-4 flex flex-col group transition-all duration-300 hover:border-brand-primary/50 hover:scale-105",children:[t.jsxs("div",{className:"relative w-full h-32 mb-3",children:[t.jsx("img",{src:u.imageUrl,alt:u.title,className:"w-full h-full object-cover rounded-md"}),t.jsx("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:t.jsx(cr,{className:"w-12 h-12 text-white/80"})})]}),t.jsx("h3",{className:"font-bold text-sm text-dark-text-primary",children:u.title}),t.jsx("p",{className:"text-xs text-dark-text-secondary mt-1 flex-grow",children:u.caption}),t.jsx("button",{className:"w-full mt-4 bg-brand-primary text-white text-xs font-bold py-2 rounded-md hover:bg-brand-secondary transition-colors",children:"Create this Feel"})]},f))})]})]})}):null,tj=({isAuthenticated:n,isAdmin:r,currentUser:s})=>{const[l,d]=T.useState([]),[u,f]=T.useState(!0),[p,y]=T.useState(null),x=T.useRef(null),[b,v]=T.useState(!1),[k,w]=T.useState(!1),[j,P]=T.useState(null),[V,$]=T.useState(null),[U,D]=T.useState(!1),[A,I]=T.useState({caption:"",music:"",youtubeUrl:""}),[q,M]=T.useState(!1),[ee,F]=T.useState(!0);T.useEffect(()=>{z()},[]);const z=async()=>{try{f(!0);const _=await Vn.getAll();_.success&&_.data.length>0?(d(_.data),y(_.data[0].id)):d([])}catch(_){console.error("Failed to load videos:",_),d([])}finally{f(!1)}},re=async()=>{v(!0),w(!0),$(null),P(null);try{const _=l.map(Q=>({id:parseInt(Q.id)||0,author:{name:Q.user.fullName||Q.user.email.split("@")[0],handle:Q.user.email.split("@")[0].toLowerCase(),avatarUrl:Q.user.avatarUrl||"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?q=80&w=256"},videoUrl:Q.videoUrl,caption:Q.caption||"",music:Q.music||"Original Audio",likes:Q.likes,comments:0,shares:Q.shares,isLiked:!1})),W=await MS(_);P(W)}catch(_){$(_ instanceof Error?_.message:"An unknown error occurred.")}finally{w(!1)}},{showSuccess:ce,showError:se}=bt(),oe=_=>{const W=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,Q=_.match(W);return Q&&Q[2].length===11?Q[2]:null},Y=async()=>{if(!A.youtubeUrl.trim()){se("Please enter a YouTube link");return}const _=oe(A.youtubeUrl.trim());if(!_){se("Please enter a valid YouTube URL");return}const W=`https://www.youtube.com/watch?v=${_}`;try{M(!0);const Q=await Vn.create({videoUrl:W,caption:A.caption||void 0,music:A.music||void 0});Q.success?(D(!1),I({caption:"",music:"",youtubeUrl:""}),z(),ce("Video uploaded successfully!")):se(Q.message||"Failed to upload video")}catch(Q){const Z=Q.message||"Failed to upload video";se(Z)}finally{M(!1)}};return T.useEffect(()=>{if(l.length===0)return;const _=x.current;if(!_)return;const W=()=>{const Z=_.getBoundingClientRect(),me=Z.top+Z.height/2;let C=null,H=1/0;if(_.querySelectorAll("[data-id]").forEach(ie=>{const pe=ie.getBoundingClientRect(),J=pe.top+pe.height/2,he=Math.abs(J-me);he<H&&(H=he,C=ie)}),C){const ie=C.getAttribute("data-id");ie&&y(ie)}};_.addEventListener("scroll",W),W();const Q=Z=>{if(!_)return;const me=Z.target;if(!(me.tagName==="INPUT"||me.tagName==="TEXTAREA")){if(Z.key==="ArrowDown"||Z.key==="PageDown"){Z.preventDefault();const C=Array.from(_.querySelectorAll("[data-id]")),H=C.findIndex(X=>X.getAttribute("data-id")===p);H<C.length-1&&C[H+1].scrollIntoView({behavior:"smooth",block:"center"})}else if(Z.key==="ArrowUp"||Z.key==="PageUp"){Z.preventDefault();const C=Array.from(_.querySelectorAll("[data-id]")),H=C.findIndex(X=>X.getAttribute("data-id")===p);H>0&&C[H-1].scrollIntoView({behavior:"smooth",block:"center"})}}};return window.addEventListener("keydown",Q),()=>{_.removeEventListener("scroll",W),window.removeEventListener("keydown",Q)}},[l,p]),T.useEffect(()=>{if(ee){const _=setTimeout(()=>{F(!1)},5e3),W=()=>{F(!1)};return window.addEventListener("keydown",W),()=>{clearTimeout(_),window.removeEventListener("keydown",W)}}},[ee]),t.jsxs("div",{children:[ee&&window.innerWidth>=1024&&t.jsx("div",{className:"fixed bottom-6 left-1/2 transform -translate-x-1/2 z-50 animate-fade-in-fast",children:t.jsxs("div",{className:"bg-dark-card/95 backdrop-blur-sm border border-dark-border rounded-lg px-6 py-3 shadow-2xl flex items-center gap-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("kbd",{className:"px-2 py-1 bg-dark-bg border border-dark-border rounded text-xs font-mono text-dark-text-primary",children:""}),t.jsx("kbd",{className:"px-2 py-1 bg-dark-bg border border-dark-border rounded text-xs font-mono text-dark-text-primary",children:""})]}),t.jsx("span",{className:"text-sm text-dark-text-primary font-medium",children:"Use arrow keys to navigate between videos"}),t.jsx("button",{onClick:()=>F(!1),className:"ml-2 text-dark-text-secondary hover:text-dark-text-primary transition-colors","aria-label":"Dismiss",children:t.jsx(je,{className:"w-4 h-4"})})]})}),t.jsx("style",{children:`
                .scrollbar-hide::-webkit-scrollbar {
                    display: none;
                }
                .scrollbar-hide {
                    -ms-overflow-style: none;
                    scrollbar-width: none;
                }
                @keyframes fadeIn { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }
                .animate-fade-in-fast { animation: fadeIn 0.3s ease-out forwards; }
                
                /* Mobile-first smooth scrolling for video feed */
                [data-feels-container] {
                    scroll-snap-type: y mandatory;
                    -webkit-overflow-scrolling: touch;
                    overscroll-behavior: contain;
                    scroll-padding: 0;
                    scroll-behavior: smooth;
                }
                
                [data-feels-container] > * {
                    scroll-snap-align: start;
                    scroll-snap-stop: always;
                    min-height: 100%;
                }
                
                /* Mobile optimizations */
                @media (max-width: 640px) {
                    [data-feels-container] {
                        height: calc(100vh - 180px);
                        padding-bottom: env(safe-area-inset-bottom);
                    }
                    
                    [data-feels-container] > * {
                        height: calc(100vh - 180px);
                    }
                    
                    [data-feels-video-card] {
                        height: 100%;
                        width: 100%;
                        aspect-ratio: 9 / 16;
                    }
                }
                
                /* Tablet and up */
                @media (min-width: 641px) {
                    [data-feels-container] {
                        height: calc(100vh - 200px);
                    }
                    
                    [data-feels-container] > * {
                        height: calc(100vh - 200px);
                    }
                    
                    [data-feels-video-card] {
                        height: 100%;
                        width: 100%;
                        aspect-ratio: 9 / 16;
                    }
                }
                
                /* Desktop */
                @media (min-width: 1024px) {
                    [data-feels-container] {
                        height: calc(100vh - 150px);
                    }
                    
                    [data-feels-container] > * {
                        height: calc(100vh - 150px);
                    }
                    
                    [data-feels-video-card] {
                        height: 100%;
                        width: 100%;
                        aspect-ratio: 9 / 16;
                        max-width: 420px;
                    }
                }
            `}),t.jsxs("div",{className:"relative h-64 md:h-80 rounded-xl overflow-hidden mb-8 shadow-lg",children:[t.jsx("img",{src:"https://images.unsplash.com/photo-1582407947304-fd86f028f716?q=80&w=1200",alt:"Modern architecture",className:"w-full h-full object-cover"}),t.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-dark-bg via-dark-bg/50 to-transparent flex flex-col items-center justify-center p-8 text-center",children:[t.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold text-white text-transparent bg-clip-text bg-gradient-to-r from-white to-gray-300 drop-shadow-lg",children:"ShelTrify Feels"}),t.jsx("p",{className:"mt-2 text-lg text-gray-200 drop-shadow-md",children:"Your daily dose of real estate inspiration."}),t.jsxs("div",{className:"mt-4 flex gap-3",children:[n&&t.jsxs("button",{onClick:()=>D(!0),className:"inline-flex items-center gap-2 px-6 py-3 font-bold text-white bg-green-600 rounded-lg shadow-lg hover:bg-green-700 transition-all transform hover:scale-105",children:[t.jsx(wi,{className:"w-5 h-5"}),"Upload Video"]}),n&&t.jsx("button",{onClick:re,disabled:k,className:"inline-flex items-center gap-2 px-6 py-3 font-bold text-white bg-brand-primary rounded-lg shadow-lg shadow-brand-primary/20 hover:bg-brand-secondary transition-all transform hover:scale-105 disabled:bg-brand-secondary/50 disabled:cursor-wait",children:" Get AI-Powered Ideas"})]})]})]}),u?t.jsx("div",{className:"text-center py-12 text-dark-text-secondary",children:"Loading videos..."}):l.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx(cr,{className:"w-16 h-16 mx-auto text-dark-text-secondary mb-4"}),t.jsx("p",{className:"text-lg text-dark-text-secondary",children:"No videos available yet."}),n&&t.jsx("button",{onClick:()=>D(!0),className:"mt-4 px-6 py-2 bg-brand-primary text-white rounded-lg hover:bg-brand-secondary",children:"Upload First Video"})]}):t.jsx("div",{ref:x,"data-feels-container":!0,className:"relative w-full max-w-sm sm:max-w-md md:max-w-lg lg:max-w-xl mx-auto overflow-y-scroll snap-y snap-mandatory scrollbar-hide",children:l.map((_,W)=>t.jsx("div",{"data-id":_.id,className:"w-full flex-shrink-0 snap-start flex items-center justify-center px-2 sm:px-4",children:t.jsx(ZT,{feel:_,isVisible:p===_.id,onLike:async()=>{try{await Vn.like(_.id),z()}catch(Q){console.error("Failed to like video:",Q)}},onComment:async Q=>{try{await Vn.addComment(_.id,Q),z()}catch(Z){console.error("Failed to add comment:",Z)}}})},_.id))}),U&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-3 py-4 sm:p-4 bg-black/70 backdrop-blur-sm",children:t.jsxs("div",{className:"relative bg-dark-card border border-dark-border rounded-2xl shadow-2xl w-full max-w-md sm:max-w-lg p-4 sm:p-6 max-h-[90vh] overflow-y-auto",children:[t.jsx("button",{onClick:()=>D(!1),className:"absolute top-4 right-4 text-dark-text-secondary hover:text-dark-text-primary",children:t.jsx(je,{className:"w-6 h-6"})}),t.jsxs("div",{className:"mb-4",children:[t.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-dark-text-primary",children:"Upload Feels Video"}),t.jsxs("p",{className:"mt-1 text-xs sm:text-sm text-dark-text-secondary",children:["Short vertical videos work best. Maximum size ",t.jsx("span",{className:"font-semibold",children:"20MB"}),"."]})]}),t.jsxs("div",{className:"space-y-4 sm:space-y-5",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-xs sm:text-sm font-semibold text-dark-text-primary mb-2",children:["YouTube Link ",t.jsx("span",{className:"font-normal text-dark-text-secondary",children:"(required)"})]}),t.jsx("input",{type:"url",value:A.youtubeUrl,onChange:_=>I({...A,youtubeUrl:_.target.value}),placeholder:"https://www.youtube.com/watch?v=...",className:"w-full bg-dark-bg border border-dark-border rounded-lg px-3 sm:px-4 py-2 text-xs sm:text-sm text-dark-text-primary focus:ring-2 focus:ring-brand-primary focus:outline-none"}),t.jsx("p",{className:"mt-1 text-[11px] sm:text-xs text-dark-text-secondary",children:"Paste your YouTube video URL here"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-xs sm:text-sm font-semibold text-dark-text-primary mb-2",children:["Caption ",t.jsx("span",{className:"font-normal text-dark-text-secondary",children:"(optional)"})]}),t.jsx("textarea",{value:A.caption,onChange:_=>I({...A,caption:_.target.value}),placeholder:"Add a caption...",rows:3,className:"w-full bg-dark-bg border border-dark-border rounded-lg px-3 sm:px-4 py-2 text-xs sm:text-sm text-dark-text-primary focus:ring-2 focus:ring-brand-primary focus:outline-none"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-xs sm:text-sm font-semibold text-dark-text-primary mb-2",children:["Music / Credit ",t.jsx("span",{className:"font-normal text-dark-text-secondary",children:"(optional)"})]}),t.jsx("input",{type:"text",value:A.music,onChange:_=>I({...A,music:_.target.value}),placeholder:"Original Audio - @username",className:"w-full bg-dark-bg border border-dark-border rounded-lg px-3 sm:px-4 py-2 text-xs sm:text-sm text-dark-text-primary focus:ring-2 focus:ring-brand-primary focus:outline-none"})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3 pt-1",children:[t.jsx("button",{onClick:Y,disabled:q||!A.youtubeUrl.trim(),className:"flex-1 bg-brand-primary text-white py-2 rounded-lg text-sm font-semibold hover:bg-brand-secondary disabled:bg-brand-secondary/50 disabled:cursor-not-allowed",children:q?"Uploading...":"Upload"}),t.jsx("button",{onClick:()=>D(!1),className:"px-4 py-2 bg-dark-bg border border-dark-border text-dark-text-primary rounded-lg text-sm hover:bg-dark-border",children:"Cancel"})]})]})]})}),t.jsx(ej,{isOpen:b,onClose:()=>v(!1),isLoading:k,error:V,recommendations:j})]})},rj=({wahala:n,isVisible:r})=>{var re,ce,se;const{showSuccess:s}=bt(),[l,d]=T.useState(n.isLiked),[u,f]=T.useState(n.likes),[p,y]=T.useState(!0),[x,b]=T.useState(!1),[v,k]=T.useState(""),[w,j]=T.useState([]),[P,V]=T.useState(!1),[$,U]=T.useState(!1),[D,A]=T.useState(!0),I=T.useRef(null);T.useEffect(()=>{r&&videoRef.current&&videoRef.current.play().catch(oe=>{console.log("Autoplay prevented:",oe)})},[r]),T.useEffect(()=>{r&&videoRef.current&&videoRef.current.play().catch(oe=>{console.log("Autoplay prevented:",oe)})},[r]);const q=oe=>{oe.stopPropagation(),d(!l),f(l?u-1:u+1)},M=oe=>oe>=1e6?(oe/1e6).toFixed(1)+"M":oe>=1e3?(oe/1e3).toFixed(1)+"K":oe;n.videoUrl&&!n.videoUrl.startsWith("http")&&!n.videoUrl.includes(".mp4")&&n.videoUrl.includes(".webm");const F=(oe=>{var Y,_;return oe?oe.includes("youtube.com/watch?v=")?(Y=oe.split("v=")[1])==null?void 0:Y.split("&")[0]:oe.includes("youtu.be/")?(_=oe.split("youtu.be/")[1])==null?void 0:_.split("?")[0]:!oe.includes("http")&&!oe.includes(".mp4")&&!oe.includes(".webm")?oe:null:null})(n.videoUrl),z=n.videoUrl&&(n.videoUrl.endsWith(".mp4")||n.videoUrl.endsWith(".webm")||n.videoUrl.endsWith(".mov"));return t.jsxs("div",{className:"relative w-full h-full min-h-[500px] md:min-h-[600px] bg-dark-card rounded-2xl overflow-hidden flex-shrink-0 snap-center shadow-lg mx-auto",children:[r?t.jsxs(t.Fragment,{children:[t.jsx(Bg,{ref:I,url:n.videoUrl,playing:r&&$,muted:p,loop:!0,controls:!0,width:"100%",height:"100%",style:{position:"absolute",top:0,left:0},onError:oe=>{console.log("Video error:",oe),A(!0)},onReady:()=>{r&&(U(!0),A(!1))},onPlay:()=>{U(!0),A(!1)},onPause:()=>{U(!1),A(!0)},onStart:()=>{U(!0),A(!1)},onClickPreview:oe=>{U(!0),A(!1)},config:{youtube:{playerVars:{autoplay:r?1:0,mute:p?1:0,controls:1,rel:0,modestbranding:1}},file:{attributes:{controlsList:"nodownload",playsInline:!0,onError:oe=>{oe.preventDefault(),oe.stopPropagation()}}}},fallback:t.jsx("div",{className:"w-full h-full flex items-center justify-center text-white",children:"Loading video..."})}),D&&t.jsx("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center cursor-pointer z-10",onClick:oe=>{var Y;if(oe.stopPropagation(),U(!0),A(!1),(Y=I.current)!=null&&Y.getInternalPlayer){const _=I.current.getInternalPlayer();_&&typeof _.play=="function"&&_.play().catch(W=>{console.log("Play failed:",W),A(!0)})}},children:t.jsx(cr,{className:"w-16 h-16 md:w-20 md:h-20 text-white/90 hover:text-white transition-opacity"})})]}):t.jsxs(t.Fragment,{children:[F?t.jsx("img",{src:`https://i.ytimg.com/vi/${F}/hqdefault.jpg`,alt:n.caption,className:"w-full h-full object-cover"}):z?t.jsx("video",{src:n.videoUrl,muted:!0,playsInline:!0,className:"w-full h-full object-cover"}):t.jsx("div",{className:"w-full h-full bg-dark-bg flex items-center justify-center",children:t.jsx("p",{className:"text-white",children:"No preview"})}),t.jsx("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center cursor-pointer",children:t.jsx(cr,{className:"w-16 h-16 md:w-20 md:h-20 text-white/70"})})]}),r&&t.jsx("button",{onClick:oe=>{oe.stopPropagation(),y(!p)},className:"absolute top-4 right-4 z-20 p-2 bg-black/50 rounded-full hover:bg-black/70 transition-colors",title:p?"Unmute":"Mute",children:p?t.jsx(ag,{className:"w-5 h-5 text-white"}):t.jsx(ng,{className:"w-5 h-5 text-white"})}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-black/30 pointer-events-none"}),t.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-3 md:p-4 text-white z-10 pointer-events-none",children:[t.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[t.jsx("img",{src:((re=n.author)==null?void 0:re.avatarUrl)||"https://via.placeholder.com/256",alt:((ce=n.author)==null?void 0:ce.name)||"Anonymous",className:"w-8 h-8 md:w-10 md:h-10 rounded-full border-2 border-white/80 object-cover flex-shrink-0",onError:oe=>{oe.target.src="https://via.placeholder.com/256"}}),t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsxs("p",{className:"font-bold text-xs md:text-sm truncate",children:["@",((se=n.author)==null?void 0:se.handle)||"anonymous"]}),t.jsx("p",{className:"text-xs text-gray-300 truncate",children:n.music||"Original Audio"})]})]}),t.jsx("p",{className:"text-xs md:text-sm mt-2 line-clamp-2",children:n.caption||""})]}),t.jsxs("div",{className:"absolute bottom-3 md:bottom-4 right-2 flex flex-col items-center gap-3 md:gap-5 text-white z-10",children:[t.jsxs("button",{onClick:q,className:"flex flex-col items-center group pointer-events-auto touch-manipulation",children:[t.jsx(Xl,{className:`w-6 h-6 md:w-8 md:h-8 transition-all active:scale-95 group-hover:scale-110 ${l?"text-red-500 fill-current":"fill-transparent stroke-white"}`}),t.jsx("span",{className:"text-xs font-semibold drop-shadow-md",children:M(u)})]}),t.jsxs("button",{onClick:oe=>{oe.stopPropagation(),b(!0),loadComments()},className:"flex flex-col items-center group pointer-events-auto touch-manipulation",children:[t.jsx(Bc,{className:"w-6 h-6 md:w-8 md:h-8 drop-shadow-md active:scale-95 group-hover:scale-110 transition-transform"}),t.jsx("span",{className:"text-xs font-semibold drop-shadow-md",children:M(n.comments)})]}),t.jsxs("button",{onClick:oe=>{oe.stopPropagation(),navigator.share?navigator.share({title:n.caption||"Check out this Rental Wahala video",text:n.caption||"",url:window.location.href}).catch(()=>{}):navigator.clipboard.writeText(window.location.href)},className:"flex flex-col items-center group pointer-events-auto touch-manipulation",children:[t.jsx(zc,{className:"w-6 h-6 md:w-8 md:h-8 drop-shadow-md active:scale-95 group-hover:scale-110 transition-transform"}),t.jsx("span",{className:"text-xs font-semibold drop-shadow-md",children:M(n.shares||0)})]}),t.jsx("button",{onClick:oe=>{oe.stopPropagation(),s("Saved to bookmarks!")},className:"flex flex-col items-center group pointer-events-auto touch-manipulation",children:t.jsx(Yc,{className:"w-6 h-6 md:w-8 md:h-8 drop-shadow-md active:scale-95 group-hover:scale-110 transition-transform fill-transparent stroke-white"})})]}),x&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center sm:p-4 bg-black/70 backdrop-blur-sm",children:t.jsxs("div",{className:"relative bg-dark-card border border-dark-border rounded-t-2xl sm:rounded-lg shadow-2xl w-full sm:w-full sm:max-w-md h-[80vh] sm:h-auto sm:max-h-[80vh] flex flex-col",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-dark-border",children:[t.jsxs("h3",{className:"text-xl font-bold text-dark-text-primary",children:["Comments (",n.comments||0,")"]}),t.jsx("button",{onClick:()=>b(!1),className:"text-dark-text-secondary hover:text-dark-text-primary",children:t.jsx(je,{className:"w-6 h-6"})})]}),t.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:P?t.jsx("div",{className:"text-center py-8 text-dark-text-secondary",children:"Loading comments..."}):w.length===0?t.jsx("div",{className:"text-center py-8 text-dark-text-secondary",children:t.jsx("p",{children:"No comments yet. Be the first to comment!"})}):w.map((oe,Y)=>{var _,W,Q;return t.jsxs("div",{className:"flex gap-3",children:[t.jsx("img",{src:((_=oe.user)==null?void 0:_.avatarUrl)||"https://via.placeholder.com/40",alt:((W=oe.user)==null?void 0:W.name)||"User",className:"w-10 h-10 rounded-full flex-shrink-0"}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx("span",{className:"font-semibold text-sm text-dark-text-primary",children:((Q=oe.user)==null?void 0:Q.name)||"Anonymous"}),t.jsx("span",{className:"text-xs text-dark-text-secondary",children:new Date(oe.createdAt).toLocaleDateString()})]}),t.jsx("p",{className:"text-sm text-dark-text-secondary",children:oe.text}),t.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[t.jsxs("button",{className:"text-xs text-dark-text-secondary hover:text-brand-primary",children:["Like (",oe.likes||0,")"]}),t.jsx("button",{className:"text-xs text-dark-text-secondary hover:text-brand-primary",children:"Reply"})]})]})]},Y)})}),t.jsx("div",{className:"p-4 border-t border-dark-border",children:t.jsxs("form",{onSubmit:handleCommentSubmit,className:"flex gap-2",children:[t.jsx("textarea",{value:v,onChange:oe=>k(oe.target.value),placeholder:"Add a comment...",rows:2,className:"flex-1 bg-dark-bg border border-dark-border rounded-lg px-4 py-2 text-dark-text-primary focus:ring-2 focus:ring-brand-primary focus:outline-none resize-none text-sm"}),t.jsx("button",{type:"submit",disabled:!v.trim(),className:"px-4 py-2 bg-brand-primary text-white rounded-lg hover:bg-brand-secondary disabled:opacity-50 disabled:cursor-not-allowed self-end",children:"Post"})]})})]})})]})},nj=({isAuthenticated:n=!1,isAdmin:r=!1,currentUser:s})=>{const[l,d]=T.useState(null),[u,f]=T.useState([]),[p,y]=T.useState(!0),[x,b]=T.useState(!1),[v,k]=T.useState({caption:"",music:"",youtubeUrl:""}),[w,j]=T.useState(!1),P=T.useRef(null);T.useEffect(()=>{V()},[]);const V=async()=>{try{y(!0);const A=await jc.getAll();A.success&&f(A.data)}catch(A){console.error("Failed to load videos:",A)}finally{y(!1)}},$=A=>{const I=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,q=A.match(I);return q&&q[2].length===11?q[2]:null},U=async A=>{if(A.preventDefault(),!v.youtubeUrl.trim()){alert("Please enter a YouTube link");return}const I=$(v.youtubeUrl.trim());if(!I){alert("Please enter a valid YouTube URL");return}const q=`https://www.youtube.com/watch?v=${I}`;j(!0);try{(await jc.create({videoUrl:q,caption:v.caption||void 0,music:v.music||void 0})).success&&(alert(" Video uploaded successfully!"),b(!1),k({caption:"",music:"",youtubeUrl:""}),V())}catch(M){const ee=M.message||"Failed to upload video";alert(ee)}finally{j(!1)}};T.useEffect(()=>{var q;if(!n||!P.current)return;const A=new IntersectionObserver(M=>{M.forEach(ee=>{ee.isIntersecting&&d(Number(ee.target.getAttribute("data-id")))})},{root:P.current,threshold:.75}),I=(q=P.current)==null?void 0:q.childNodes;return I&&I.forEach(M=>A.observe(M)),()=>{I&&I.forEach(M=>A.unobserve(M))}},[n,u]);const D=A=>{var I,q;return A.user?{id:A.id||Date.now(),author:{name:A.user.fullName||((I=A.user.email)==null?void 0:I.split("@")[0])||"Anonymous",handle:((q=A.user.email)==null?void 0:q.split("@")[0])||"anonymous",avatarUrl:A.user.avatarUrl||"https://via.placeholder.com/256"},videoUrl:A.videoUrl||"",caption:A.caption||"",music:A.music||"Original Audio",likes:A.likes||0,comments:A.comments||0,shares:A.shares||0,isLiked:!1}:{id:A.id||Date.now(),author:{name:"Anonymous",handle:"anonymous",avatarUrl:"https://via.placeholder.com/256"},videoUrl:A.videoUrl||"",caption:A.caption||"",music:A.music||"Original Audio",likes:A.likes||0,comments:A.comments||0,shares:A.shares||0,isLiked:!1}};return t.jsxs("div",{className:"w-full overflow-x-hidden",children:[t.jsx("style",{children:`
                .scrollbar-hide::-webkit-scrollbar {
                    display: none;
                }
                .scrollbar-hide {
                    -ms-overflow-style: none;
                    scrollbar-width: none;
                }
            `}),t.jsxs("div",{className:"relative h-48 md:h-64 lg:h-80 rounded-xl overflow-hidden mb-6 md:mb-8 shadow-lg mx-2 md:mx-0",children:[t.jsx("img",{src:"https://images.unsplash.com/photo-1512917774080-9991f1c4c750?q=80&w=1200",alt:"Apartment building",className:"w-full h-full object-cover"}),t.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-dark-bg via-dark-bg/50 to-transparent flex flex-col items-center justify-center p-4 md:p-8 text-center",children:[t.jsx("h1",{className:"text-2xl md:text-4xl lg:text-5xl font-extrabold text-white drop-shadow-lg",children:"Rental Wahala Feeds"}),t.jsx("p",{className:"mt-2 text-sm md:text-lg text-gray-200 drop-shadow-md px-4",children:"The funniest and most relatable rental moments, captured on video."}),n&&t.jsxs("button",{onClick:()=>b(!0),className:"mt-4 px-4 md:px-6 py-2 bg-brand-primary text-white rounded-lg hover:bg-brand-secondary flex items-center gap-2 text-sm md:text-base",children:[t.jsx(wi,{className:"w-4 h-4 md:w-5 md:h-5"})," ",t.jsx("span",{className:"hidden sm:inline",children:"Upload Video"}),t.jsx("span",{className:"sm:hidden",children:"Upload"})]})]})]}),p?t.jsxs("div",{className:"text-center py-8",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-primary mx-auto"}),t.jsx("p",{className:"mt-4 text-light-text-secondary dark:text-dark-text-secondary",children:"Loading videos..."})]}):u.length===0?t.jsxs("div",{className:"text-center py-16",children:[t.jsx("p",{className:"text-light-text-secondary dark:text-dark-text-secondary mb-4",children:"No videos yet. Be the first to share!"}),n&&t.jsx("button",{onClick:()=>b(!0),className:"px-6 py-3 bg-brand-primary text-white rounded-lg hover:bg-brand-secondary",children:"Upload First Video"})]}):t.jsx("div",{ref:P,className:"relative w-full max-w-sm sm:max-w-md md:max-w-lg lg:max-w-xl mx-auto overflow-y-scroll snap-y snap-mandatory scrollbar-hide",style:{scrollBehavior:"smooth",height:"calc(100vh - 200px)"},children:u.map((A,I)=>{const q=D(A),M=q.id||I;return t.jsx("div",{"data-id":M,className:"w-full flex-shrink-0 snap-start flex items-center justify-center px-2 py-1 sm:px-4 sm:py-2",children:t.jsx(rj,{wahala:q,isVisible:l===M})},M)})}),x&&n&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-2 md:p-4 bg-black/60",children:t.jsxs("div",{className:"bg-dark-card border border-dark-border rounded-lg shadow-2xl w-full max-w-md p-4 md:p-6 max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h2",{className:"text-lg md:text-xl font-bold",children:"Upload Rental Wahala Video"}),t.jsx("button",{onClick:()=>b(!1),className:"p-1 hover:bg-dark-bg rounded",children:t.jsx(je,{className:"w-5 h-5 md:w-6 md:h-6"})})]}),t.jsxs("form",{onSubmit:U,className:"space-y-3 md:space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs md:text-sm font-medium mb-1",children:"YouTube Link (required)"}),t.jsx("input",{type:"url",value:v.youtubeUrl,onChange:A=>k({...v,youtubeUrl:A.target.value}),placeholder:"https://www.youtube.com/watch?v=...",className:"w-full bg-dark-bg border border-dark-border rounded-lg px-3 md:px-4 py-2 text-sm md:text-base focus:ring-2 focus:ring-brand-primary focus:outline-none"}),t.jsx("p",{className:"mt-1 text-xs text-dark-text-secondary",children:"Paste your YouTube video URL here"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs md:text-sm font-medium mb-1",children:"Caption (optional)"}),t.jsx("textarea",{value:v.caption,onChange:A=>k({...v,caption:A.target.value}),placeholder:"Enter caption...",rows:3,className:"w-full bg-dark-bg border border-dark-border rounded-lg px-3 md:px-4 py-2 text-sm md:text-base resize-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs md:text-sm font-medium mb-1",children:"Music (optional)"}),t.jsx("input",{type:"text",value:v.music,onChange:A=>k({...v,music:A.target.value}),placeholder:"e.g., Dramatic Sound - Nollywood FX",className:"w-full bg-dark-bg border border-dark-border rounded-lg px-3 md:px-4 py-2 text-sm md:text-base"})]}),t.jsxs("div",{className:"flex gap-2 md:gap-3",children:[t.jsx("button",{type:"button",onClick:()=>b(!1),className:"flex-1 px-3 md:px-4 py-2 text-sm md:text-base border border-dark-border rounded-lg hover:bg-dark-border",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:w||!v.youtubeUrl.trim(),className:"flex-1 px-3 md:px-4 py-2 text-sm md:text-base bg-brand-primary text-white rounded-lg hover:bg-brand-secondary disabled:opacity-50",children:w?"Uploading...":"Upload"})]})]})]})})]})},aj=({onClose:n})=>{var vs,ka,Na,ks,Ns,hr,ut,vt,Dr,wa,Ei,Ai,ws,un,Sa,Ur,qr,mn,Vr,lt,Ss;const{showSuccess:r,showError:s}=bt(),[l,d]=T.useState("dashboard"),[u,f]=T.useState(!1),[p,y]=T.useState("list"),[x,b]=T.useState(null),[v,k]=T.useState([]),[w,j]=T.useState([]),[P,V]=T.useState([]),[$,U]=T.useState([]),[D,A]=T.useState([]),[I,q]=T.useState(!1),[M,ee]=T.useState(null),[F,z]=T.useState(""),[re,ce]=T.useState("all"),[se,oe]=T.useState({videoUrl:"",caption:"",music:""}),[Y,_]=T.useState(!1),[W,Q]=T.useState(null),[Z,me]=T.useState(null),C=T.useRef(null),[H,X]=T.useState(null),[ie,pe]=T.useState({email:"",fullName:"",phone:"",role:"",isPremium:!1,isVerified:!1}),[J,he]=T.useState({title:"",description:"",price:"",location:"",bedrooms:"",propertyType:"",imageUrl:"",videoUrl:"",landlordName:"",landlordEmail:"",landlordPhone:""}),[de,fe]=T.useState(null),[be,He]=T.useState(null),[Ct,Et]=T.useState(null),[Re,qe]=T.useState(null);T.useRef(null),T.useRef(null);const[$e,gs]=T.useState(null),[Lt,dn]=T.useState(null),[nt,kr]=T.useState(null),[Ir,Yn]=T.useState([]),[Xe,pa]=T.useState(null),[Gt,Fe]=T.useState([]);T.useEffect(()=>{ct()},[]),T.useEffect(()=>{y("list"),l==="users"?Ke():l==="verifications"?ys():l==="accommodations"||l==="listings"?Ge():l==="feels"?Lr():l==="marketplace"?(fr(),At()):l==="analytics"?_t():l==="ai"?Nr():l==="system"?Mt():l==="transactions"?Rt():l==="content"&&ao()},[l,F,re]);const ct=async()=>{try{q(!0);const E=await xt.getStats();E.success&&b(E.data)}catch(E){ee(E.message||"Failed to load stats")}finally{q(!1)}},Ke=async()=>{try{q(!0);const E=await xt.getUsers({search:F||void 0,limit:100});E.success&&k(E.data.users)}catch(E){ee(E.message||"Failed to load users")}finally{q(!1)}},Ge=async()=>{try{q(!0);const E=await xt.getListings({search:F||void 0,limit:100,isActive:re==="all"?void 0:re==="active"});E.success&&j(E.data.listings)}catch(E){ee(E.message||"Failed to load listings")}finally{q(!1)}},fr=async()=>{try{const E=await xt.getPendingMarketplaceProducts();E.success&&U(E.data)}catch(E){console.error("Failed to load marketplace products:",E)}},At=async()=>{try{const E=await xt.getPendingMarketplaceProducts();E.success&&A(E.data)}catch(E){console.error("Failed to load pending products:",E)}},_t=async()=>{try{q(!0);const E=await xt.getAnalytics({period:30});E.success&&gs(E.data)}catch(E){ee(E.message||"Failed to load analytics")}finally{q(!1)}},Mt=async()=>{try{q(!0);const E=await xt.getSystemHealth();E.success&&kr(E.data)}catch(E){ee(E.message||"Failed to load system health")}finally{q(!1)}},Nr=async()=>{try{q(!0);const E=await xt.getAIStats();E.success&&dn(E.data)}catch(E){ee(E.message||"Failed to load AI stats")}finally{q(!1)}},Rt=async()=>{try{q(!0);const E=await xt.getTransactions({page:1,limit:50});E.success&&Yn(E.data.transactions||[])}catch(E){ee(E.message||"Failed to load transactions")}finally{q(!1)}},ao=async()=>{try{q(!0);const E=await xt.getContent();E.success&&pa(E.data)}catch(E){ee(E.message||"Failed to load content")}finally{q(!1)}},ys=async()=>{try{q(!0);const E=await xt.getPendingVerifications();E.success&&Fe(E.data.verifications||[])}catch(E){ee(E.message||"Failed to load pending verifications")}finally{q(!1)}},so=async E=>{try{const ge=await xt.approveVerification(E);ge.success?(r("Verification approved successfully!"),ys()):s(ge.message||"Failed to approve verification")}catch(ge){s(ge.message||"Failed to approve verification")}},xa=async(E,ge)=>{try{const at=await xt.rejectVerification(E,ge);at.success?(r("Verification rejected"),ys()):s(at.message||"Failed to reject verification")}catch(at){s(at.message||"Failed to reject verification")}},ga=async E=>{try{const ge=await xt.updateListing(E,{isActive:!0});ge.success?(r("Listing approved and activated successfully!"),Ge()):s(ge.message||"Failed to approve listing")}catch(ge){s(ge.message||"Failed to approve listing")}},ya=async E=>{try{const ge=await xt.updateListing(E,{isActive:!1});ge.success?(r("Listing deactivated successfully!"),Ge()):s(ge.message||"Failed to deactivate listing")}catch(ge){s(ge.message||"Failed to deactivate listing")}},Pr=async E=>{try{const ge=await xt.approveMarketplaceProduct(E);ge.success?(r("Product approved successfully!"),At(),fr()):s(ge.message||"Failed to approve product")}catch(ge){s(ge.message||"Failed to approve product")}},ba=async E=>{try{const ge=await xt.rejectMarketplaceProduct(E);ge.success?(r("Product rejected successfully!"),At(),fr()):s(ge.message||"Failed to reject product")}catch(ge){s(ge.message||"Failed to reject product")}},Lr=async()=>{try{q(!0);const E=await Vn.getAll();E.success&&V(E.data)}catch(E){ee(E.message||"Failed to load videos")}finally{q(!1)}},ji=async()=>{var E;if(!W){s("Please select a video file");return}try{_(!0);const ge=await Fn.uploadVideo(W);if(!ge.success||!((E=ge.data)!=null&&E.url)){s(ge.message||"Failed to upload video file");return}const at=await Vn.create({videoUrl:ge.data.url,caption:se.caption||void 0,music:se.music||void 0});at.success?(y("list"),oe({videoUrl:"",caption:"",music:""}),Q(null),me(null),C.current&&(C.current.value=""),Lr(),r("Video uploaded successfully!")):s(at.message||"Failed to create video")}catch(ge){s(ge.message||"Failed to upload video")}finally{_(!1)}},Ci=async E=>{if(window.confirm("Are you sure you want to delete this video?"))try{const ge=await Vn.delete(E);ge.success?(Lr(),r("Video deleted successfully!")):s(ge.message||"Failed to delete video")}catch(ge){s(ge.message||"Failed to delete video")}},bs=E=>{X(E),pe({email:E.email,fullName:E.fullName||"",phone:E.phone||"",role:E.role,isPremium:E.isPremium,isVerified:!1}),y("edit")},cn=async()=>{if(H)try{q(!0);const E=await xt.updateUser(H.id,ie);E.success?(r("User updated successfully!"),y("list"),X(null),Ke()):s(E.message||"Failed to update user")}catch(E){s(E.message||"Failed to update user")}finally{q(!1)}},io=async E=>{if(window.confirm("Are you sure you want to delete this user? This action cannot be undone."))try{q(!0);const ge=await xt.deleteUser(E);ge.success?(r("User deleted successfully!"),Ke()):s(ge.message||"Failed to delete user")}catch(ge){s(ge.message||"Failed to delete user")}finally{q(!1)}},Jn=E=>new Date(E).toLocaleDateString("en-NG",{year:"numeric",month:"short",day:"numeric"}),va=[{id:"dashboard",label:"Dashboard",icon:Ni},{id:"users",label:"Users",icon:ki},{id:"verifications",label:"Verifications",icon:gi,badge:Gt.length},{id:"accommodations",label:"Accommodations",icon:Mr},{id:"listings",label:"Listings",icon:Mr},{id:"feels",label:"Feels Videos",icon:us},{id:"marketplace",label:"Marketplace",icon:fs},{id:"analytics",label:"Analytics",icon:ur},{id:"ai",label:"AI Management",icon:Rr},{id:"system",label:"System",icon:Tv},{id:"transactions",label:"Transactions",icon:Zl},{id:"content",label:"Content",icon:Hx}];return t.jsxs("div",{className:"min-h-screen bg-light-bg dark:bg-dark-bg flex",children:[t.jsx("aside",{className:`fixed lg:static inset-y-0 left-0 z-30 w-64 bg-light-card dark:bg-dark-card border-r border-light-border dark:border-dark-border transform ${u?"translate-x-0":"-translate-x-full"} lg:translate-x-0 transition-transform duration-300 ease-in-out`,children:t.jsxs("div",{className:"flex flex-col h-full",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-light-border dark:border-dark-border",children:[t.jsx("h2",{className:"text-xl font-bold text-light-text-primary dark:text-dark-text-primary",children:"Admin Panel"}),t.jsx("button",{onClick:()=>f(!1),className:"lg:hidden text-light-text-secondary dark:text-dark-text-secondary hover:text-light-text-primary dark:hover:text-dark-text-primary",children:t.jsx(Fc,{className:"w-6 h-6"})})]}),t.jsx("nav",{className:"flex-1 overflow-y-auto p-4 space-y-1",children:va.map(E=>{const ge=E.icon;return t.jsxs("button",{onClick:()=>{d(E.id),f(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${l===E.id?"bg-brand-primary/10 text-brand-primary dark:bg-brand-primary/20":"text-light-text-secondary dark:text-dark-text-secondary hover:bg-light-bg dark:hover:bg-dark-bg"}`,children:[t.jsx(ge,{className:"w-5 h-5"}),t.jsx("span",{className:"font-medium",children:E.label}),E.badge&&E.badge>0&&t.jsx("span",{className:"ml-auto bg-red-500 text-white text-xs font-bold px-2 py-0.5 rounded-full",children:E.badge})]},E.id)})}),n&&t.jsx("div",{className:"p-4 border-t border-light-border dark:border-dark-border",children:t.jsxs("button",{onClick:n,className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-light-text-secondary dark:text-dark-text-secondary hover:bg-light-bg dark:hover:bg-dark-bg transition-colors",children:[t.jsx(je,{className:"w-5 h-5"}),t.jsx("span",{className:"font-medium",children:"Close Dashboard"})]})})]})}),u&&t.jsx("div",{className:"fixed inset-0 bg-black/50 z-20 lg:hidden",onClick:()=>f(!1)}),t.jsxs("main",{className:"flex-1 lg:ml-0 overflow-x-hidden",children:[t.jsx("div",{className:"sticky top-0 z-10 bg-light-card/95 dark:bg-dark-card/95 backdrop-blur-sm border-b border-light-border dark:border-dark-border lg:hidden",children:t.jsxs("div",{className:"px-4 py-3 flex items-center justify-between",children:[t.jsx("button",{onClick:()=>f(!0),className:"p-2 rounded-lg hover:bg-light-bg dark:hover:bg-dark-bg text-light-text-secondary dark:text-dark-text-secondary",children:t.jsx(yv,{className:"w-6 h-6"})}),t.jsx("h2",{className:"text-lg font-bold text-light-text-primary dark:text-dark-text-primary",children:((vs=va.find(E=>E.id===l))==null?void 0:vs.label)||"Admin Dashboard"}),n&&t.jsx("button",{onClick:n,className:"p-2 rounded-lg hover:bg-light-bg dark:hover:bg-dark-bg text-light-text-secondary dark:text-dark-text-secondary",children:t.jsx(je,{className:"w-5 h-5"})})]})}),t.jsxs("div",{className:"p-4 md:p-6 lg:p-8",children:[t.jsx("div",{className:"hidden lg:flex items-center justify-between mb-6",children:t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-light-text-primary dark:text-dark-text-primary",children:((ka=va.find(E=>E.id===l))==null?void 0:ka.label)||"Dashboard"}),t.jsxs("p",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary mt-1",children:[l==="dashboard"&&"Overview of your platform statistics",l==="users"&&"Manage all platform users",l==="verifications"&&"Review and approve landlord/agent verifications",l==="accommodations"&&"Upload and manage accommodation listings",l==="listings"&&"Manage all property listings",l==="feels"&&"Manage Feels video content",l==="marketplace"&&"Manage marketplace products",l==="analytics"&&"View platform analytics and insights",l==="ai"&&"AI system management and configuration",l==="system"&&"System health and monitoring",l==="transactions"&&"View all platform transactions",l==="content"&&"Manage platform content"]})]})}),M&&t.jsx("div",{className:"mb-4 p-4 bg-red-500/10 text-red-500 rounded-lg border border-red-500/20",children:M}),I&&t.jsx("div",{className:"text-center py-12 text-light-text-secondary dark:text-dark-text-secondary",children:"Loading..."}),l==="dashboard"&&x&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[t.jsxs("div",{className:"bg-light-bg dark:bg-dark-bg p-6 rounded-lg border border-light-border dark:border-dark-border",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx(ki,{className:"w-6 h-6 text-brand-primary"}),t.jsx("h3",{className:"font-semibold text-light-text-primary dark:text-dark-text-primary",children:"Total Users"})]}),t.jsx("p",{className:"text-3xl font-bold text-brand-primary",children:x.users.total}),t.jsxs("p",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary mt-1",children:[x.users.recent," new in last 30 days"]})]}),t.jsxs("div",{className:"bg-light-bg dark:bg-dark-bg p-6 rounded-lg border border-light-border dark:border-dark-border",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx(ur,{className:"w-6 h-6 text-green-500"}),t.jsx("h3",{className:"font-semibold text-light-text-primary dark:text-dark-text-primary",children:"Premium Users"})]}),t.jsx("p",{className:"text-3xl font-bold text-green-500",children:x.users.premium}),t.jsxs("p",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary mt-1",children:[(x.users.premium/x.users.total*100).toFixed(1),"% of total"]})]}),t.jsxs("div",{className:"bg-light-bg dark:bg-dark-bg p-6 rounded-lg border border-light-border dark:border-dark-border",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx(Mr,{className:"w-6 h-6 text-blue-500"}),t.jsx("h3",{className:"font-semibold text-light-text-primary dark:text-dark-text-primary",children:"Total Listings"})]}),t.jsx("p",{className:"text-3xl font-bold text-blue-500",children:x.listings.total}),t.jsxs("p",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary mt-1",children:[x.listings.active," active, ",x.listings.recent," new"]})]}),t.jsxs("div",{className:"bg-light-bg dark:bg-dark-bg p-6 rounded-lg border border-light-border dark:border-dark-border",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx(Rr,{className:"w-6 h-6 text-purple-500"}),t.jsx("h3",{className:"font-semibold text-light-text-primary dark:text-dark-text-primary",children:"Total Favorites"})]}),t.jsx("p",{className:"text-3xl font-bold text-purple-500",children:x.favorites.total}),t.jsx("p",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary mt-1",children:"Saved properties"})]})]}),l==="users"&&t.jsxs("div",{children:[t.jsx("div",{className:"mb-4",children:t.jsx("input",{type:"text",placeholder:"Search users by email or name...",value:F,onChange:E=>z(E.target.value),className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-2 focus:ring-2 focus:ring-brand-primary focus:outline-none"})}),t.jsxs("div",{className:"overflow-x-auto",children:[t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-light-border dark:border-dark-border",children:[t.jsx("th",{className:"text-left p-3 text-sm font-semibold text-light-text-primary dark:text-dark-text-primary",children:"Email"}),t.jsx("th",{className:"text-left p-3 text-sm font-semibold text-light-text-primary dark:text-dark-text-primary",children:"Name"}),t.jsx("th",{className:"text-left p-3 text-sm font-semibold text-light-text-primary dark:text-dark-text-primary",children:"Role"}),t.jsx("th",{className:"text-left p-3 text-sm font-semibold text-light-text-primary dark:text-dark-text-primary",children:"Premium"}),t.jsx("th",{className:"text-left p-3 text-sm font-semibold text-light-text-primary dark:text-dark-text-primary",children:"Listings"}),t.jsx("th",{className:"text-left p-3 text-sm font-semibold text-light-text-primary dark:text-dark-text-primary",children:"Joined"}),t.jsx("th",{className:"text-left p-3 text-sm font-semibold text-light-text-primary dark:text-dark-text-primary",children:"Actions"})]})}),t.jsx("tbody",{children:v.map(E=>{var ge;return t.jsxs("tr",{className:"border-b border-light-border dark:border-dark-border hover:bg-light-bg dark:hover:bg-dark-bg",children:[t.jsx("td",{className:"p-3 text-sm text-light-text-primary dark:text-dark-text-primary",children:E.email}),t.jsx("td",{className:"p-3 text-sm text-light-text-primary dark:text-dark-text-primary",children:E.fullName||"N/A"}),t.jsx("td",{className:"p-3 text-sm",children:t.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${E.role==="ADMIN"?"bg-red-500/20 text-red-500":E.role==="LANDLORD"?"bg-blue-500/20 text-blue-500":E.role==="AGENT"?"bg-green-500/20 text-green-500":"bg-gray-500/20 text-gray-500"}`,children:E.role})}),t.jsx("td",{className:"p-3 text-sm",children:E.isPremium?t.jsx("span",{className:"text-green-500 font-semibold",children:" Premium"}):t.jsx("span",{className:"text-light-text-secondary dark:text-dark-text-secondary",children:"Free"})}),t.jsx("td",{className:"p-3 text-sm text-light-text-primary dark:text-dark-text-primary",children:((ge=E._count)==null?void 0:ge.listings)||0}),t.jsx("td",{className:"p-3 text-sm text-light-text-secondary dark:text-dark-text-secondary",children:Jn(E.createdAt)}),t.jsx("td",{className:"p-3 text-sm",children:t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>bs(E),className:"p-1.5 text-blue-500 hover:bg-blue-500/10 rounded transition-colors",title:"Edit User",children:t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),t.jsx("button",{onClick:()=>io(E.id),className:"p-1.5 text-red-500 hover:bg-red-500/10 rounded transition-colors",title:"Delete User",children:t.jsx(Tc,{className:"w-5 h-5"})})]})})]},E.id)})})]}),v.length===0&&!I&&t.jsx("div",{className:"text-center py-8 text-light-text-secondary dark:text-dark-text-secondary",children:"No users found"})]})]}),l==="verifications"&&t.jsxs("div",{children:[t.jsxs("div",{className:"mb-6 bg-gradient-to-r from-brand-primary/10 to-cyan-400/10 dark:from-brand-primary/20 dark:to-cyan-400/20 border border-brand-primary/20 rounded-lg p-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-light-text-primary dark:text-dark-text-primary mb-2",children:" Verification Review"}),t.jsx("p",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary",children:"Review and approve verification documents submitted by landlords and agents before they can upload accommodations."})]}),Gt.length===0&&!I&&t.jsxs("div",{className:"text-center py-12 bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border rounded-lg",children:[t.jsx(gi,{className:"w-16 h-16 mx-auto text-light-text-secondary dark:text-dark-text-secondary mb-4"}),t.jsx("p",{className:"text-lg text-light-text-primary dark:text-dark-text-primary mb-2",children:"No pending verifications"}),t.jsx("p",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary",children:"All verification requests have been reviewed."})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Gt.map(E=>t.jsxs("div",{className:"bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border rounded-lg p-6",children:[t.jsx("div",{className:"flex items-start justify-between mb-4",children:t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-light-text-primary dark:text-dark-text-primary",children:E.fullName||E.email}),t.jsx("p",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary",children:E.email}),t.jsx("span",{className:`inline-block mt-2 px-3 py-1 rounded-full text-xs font-semibold ${E.role==="LANDLORD"?"bg-blue-500/20 text-blue-500":"bg-green-500/20 text-green-500"}`,children:E.role})]})}),t.jsxs("div",{className:"space-y-4 mb-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-light-text-secondary dark:text-dark-text-secondary mb-2",children:"Profile Photo"}),E.verificationPhotoUrl?t.jsx("img",{src:E.verificationPhotoUrl,alt:"Profile",className:"w-full h-48 object-cover rounded-lg border border-light-border dark:border-dark-border"}):t.jsx("div",{className:"w-full h-48 bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg flex items-center justify-center",children:t.jsx("span",{className:"text-light-text-secondary dark:text-dark-text-secondary",children:"No photo uploaded"})})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-xs font-semibold text-light-text-secondary dark:text-dark-text-secondary mb-2",children:["ID Document (",E.verificationIdType||"N/A",")"]}),E.verificationIdUrl?t.jsx("a",{href:E.verificationIdUrl,target:"_blank",rel:"noopener noreferrer",className:"block w-full h-48 border border-light-border dark:border-dark-border rounded-lg overflow-hidden hover:border-brand-primary transition-colors",children:t.jsx("img",{src:E.verificationIdUrl,alt:"ID Document",className:"w-full h-full object-contain"})}):t.jsx("div",{className:"w-full h-48 bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg flex items-center justify-center",children:t.jsx("span",{className:"text-light-text-secondary dark:text-dark-text-secondary",children:"No ID document uploaded"})})]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs("button",{onClick:()=>so(E.id),className:"flex-1 bg-green-500 text-white py-2 rounded-lg hover:bg-green-600 transition-colors font-semibold flex items-center justify-center gap-2",children:[t.jsx(Ae,{className:"w-5 h-5"}),"Approve"]}),t.jsxs("button",{onClick:()=>{const ge=prompt("Please provide a reason for rejection (optional):");ge!==null&&xa(E.id,ge||void 0)},className:"flex-1 bg-red-500 text-white py-2 rounded-lg hover:bg-red-600 transition-colors font-semibold flex items-center justify-center gap-2",children:[t.jsx(Hn,{className:"w-5 h-5"}),"Reject"]})]})]},E.id))})]}),(l==="accommodations"||l==="listings")&&t.jsxs("div",{children:[t.jsx("div",{className:"mb-6 bg-gradient-to-r from-brand-primary/10 to-cyan-400/10 dark:from-brand-primary/20 dark:to-cyan-400/20 border border-brand-primary/20 rounded-lg p-6",children:t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-light-text-primary dark:text-dark-text-primary mb-2",children:l==="accommodations"?" Accommodation Management":" Listings Management"}),t.jsx("p",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary",children:l==="accommodations"?"Upload and manage accommodation listings for seekers to find. This is separate from Marketplace products.":"Manage all property listings in the system."})]}),t.jsx("button",{onClick:()=>y("create"),className:"px-6 py-3 bg-brand-primary text-white rounded-lg hover:bg-brand-secondary transition-all font-semibold whitespace-nowrap shadow-lg shadow-brand-primary/20",children:"+ Upload New Accommodation"})]})}),t.jsxs("div",{className:"mb-4 flex gap-4",children:[t.jsx("input",{type:"text",placeholder:"Search accommodations by title, location...",value:F,onChange:E=>z(E.target.value),className:"flex-1 bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-2 focus:ring-2 focus:ring-brand-primary focus:outline-none"}),t.jsxs("select",{value:re,onChange:E=>ce(E.target.value),className:"bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-2 focus:ring-2 focus:ring-brand-primary focus:outline-none",children:[t.jsx("option",{value:"all",children:"All Accommodations"}),t.jsx("option",{value:"active",children:"Active Only"}),t.jsx("option",{value:"inactive",children:"Inactive Only"})]})]}),t.jsxs("div",{className:"overflow-x-auto",children:[t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-light-border dark:border-dark-border",children:[t.jsx("th",{className:"text-left p-3 text-sm font-semibold text-light-text-primary dark:text-dark-text-primary",children:"Title"}),t.jsx("th",{className:"text-left p-3 text-sm font-semibold text-light-text-primary dark:text-dark-text-primary",children:"Price"}),t.jsx("th",{className:"text-left p-3 text-sm font-semibold text-light-text-primary dark:text-dark-text-primary",children:"Location"}),t.jsx("th",{className:"text-left p-3 text-sm font-semibold text-light-text-primary dark:text-dark-text-primary",children:"Owner"}),t.jsx("th",{className:"text-left p-3 text-sm font-semibold text-light-text-primary dark:text-dark-text-primary",children:"Status"}),t.jsx("th",{className:"text-left p-3 text-sm font-semibold text-light-text-primary dark:text-dark-text-primary",children:"Created"}),t.jsx("th",{className:"text-left p-3 text-sm font-semibold text-light-text-primary dark:text-dark-text-primary",children:"Actions"})]})}),t.jsx("tbody",{children:w.map(E=>t.jsxs("tr",{className:"border-b border-light-border dark:border-dark-border hover:bg-light-bg dark:hover:bg-dark-bg",children:[t.jsx("td",{className:"p-3 text-sm text-light-text-primary dark:text-dark-text-primary font-semibold",children:E.title}),t.jsx("td",{className:"p-3 text-sm text-brand-primary font-bold",children:E.price}),t.jsx("td",{className:"p-3 text-sm text-light-text-primary dark:text-dark-text-primary",children:E.location}),t.jsx("td",{className:"p-3 text-sm text-light-text-primary dark:text-dark-text-primary",children:E.user.fullName||E.user.email}),t.jsx("td",{className:"p-3 text-sm",children:E.isActive?t.jsx("span",{className:"px-2 py-1 rounded text-xs font-semibold bg-green-500/20 text-green-500",children:"Active"}):t.jsx("span",{className:"px-2 py-1 rounded text-xs font-semibold bg-red-500/20 text-red-500",children:"Inactive"})}),t.jsx("td",{className:"p-3 text-sm text-light-text-secondary dark:text-dark-text-secondary",children:Jn(E.createdAt)}),t.jsx("td",{className:"p-3 text-sm",children:t.jsx("div",{className:"flex gap-2",children:E.isActive?t.jsx("button",{onClick:()=>ya(E.id),className:"p-1.5 text-red-500 hover:bg-red-500/10 rounded transition-colors",title:"Deactivate",children:t.jsx(Hn,{className:"w-5 h-5"})}):t.jsx("button",{onClick:()=>ga(E.id),className:"p-1.5 text-green-500 hover:bg-green-500/10 rounded transition-colors",title:"Approve & Activate",children:t.jsx(Ae,{className:"w-5 h-5"})})})})]},E.id))})]}),w.length===0&&!I&&t.jsx("div",{className:"text-center py-8 text-light-text-secondary dark:text-dark-text-secondary",children:"No listings found"})]})]}),l==="feels"&&t.jsxs("div",{children:[t.jsxs("div",{className:"mb-4 flex justify-between items-center",children:[t.jsx("h3",{className:"text-lg font-semibold text-light-text-primary dark:text-dark-text-primary",children:"Feels Videos"}),t.jsxs("button",{onClick:()=>y("upload"),className:"flex items-center gap-2 px-4 py-2 bg-brand-primary text-white rounded-lg hover:bg-brand-secondary transition-all",children:[t.jsx(wi,{className:"w-5 h-5"}),"Upload Video"]})]}),t.jsxs("div",{className:"overflow-x-auto",children:[t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-light-border dark:border-dark-border",children:[t.jsx("th",{className:"text-left p-3 text-sm font-semibold text-light-text-primary dark:text-dark-text-primary",children:"Video URL"}),t.jsx("th",{className:"text-left p-3 text-sm font-semibold text-light-text-primary dark:text-dark-text-primary",children:"Caption"}),t.jsx("th",{className:"text-left p-3 text-sm font-semibold text-light-text-primary dark:text-dark-text-primary",children:"Author"}),t.jsx("th",{className:"text-left p-3 text-sm font-semibold text-light-text-primary dark:text-dark-text-primary",children:"Likes"}),t.jsx("th",{className:"text-left p-3 text-sm font-semibold text-light-text-primary dark:text-dark-text-primary",children:"Created"}),t.jsx("th",{className:"text-left p-3 text-sm font-semibold text-light-text-primary dark:text-dark-text-primary",children:"Actions"})]})}),t.jsx("tbody",{children:P.map(E=>t.jsxs("tr",{className:"border-b border-light-border dark:border-dark-border hover:bg-light-bg dark:hover:bg-dark-bg",children:[t.jsx("td",{className:"p-3 text-sm",children:t.jsx("a",{href:E.videoUrl,target:"_blank",rel:"noopener noreferrer",className:"text-brand-primary hover:underline truncate block max-w-xs",children:E.videoUrl})}),t.jsx("td",{className:"p-3 text-sm text-light-text-primary dark:text-dark-text-primary max-w-xs truncate",children:E.caption||"No caption"}),t.jsx("td",{className:"p-3 text-sm text-light-text-primary dark:text-dark-text-primary",children:E.user.fullName||E.user.email.split("@")[0]}),t.jsx("td",{className:"p-3 text-sm text-light-text-primary dark:text-dark-text-primary",children:E.likes}),t.jsx("td",{className:"p-3 text-sm text-light-text-secondary dark:text-dark-text-secondary",children:Jn(E.createdAt)}),t.jsx("td",{className:"p-3 text-sm",children:t.jsx("button",{onClick:()=>Ci(E.id),className:"text-red-500 hover:text-red-700 transition-colors",title:"Delete video",children:t.jsx(Tc,{className:"w-5 h-5"})})})]},E.id))})]}),P.length===0&&!I&&t.jsx("div",{className:"text-center py-8 text-light-text-secondary dark:text-dark-text-secondary",children:"No videos found. Upload the first video!"})]})]}),l==="marketplace"&&t.jsx("div",{children:t.jsxs("div",{className:"mb-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-light-text-primary dark:text-dark-text-primary mb-2",children:["Pending Approvals (",D.length,")"]}),D.length===0?t.jsx("div",{className:"text-center py-8 text-light-text-secondary dark:text-dark-text-secondary bg-light-bg dark:bg-dark-bg rounded-lg border border-light-border dark:border-dark-border",children:"No pending products to approve"}):t.jsx("div",{className:"space-y-4",children:D.map(E=>t.jsx("div",{className:"bg-light-bg dark:bg-dark-bg p-4 rounded-lg border border-light-border dark:border-dark-border",children:t.jsxs("div",{className:"flex gap-4",children:[E.imageUrl&&t.jsx("img",{src:E.imageUrl,alt:E.name,className:"w-24 h-24 object-cover rounded-lg"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-semibold text-light-text-primary dark:text-dark-text-primary mb-1",children:E.name}),t.jsx("p",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary mb-2 line-clamp-2",children:E.description||"No description"}),t.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[t.jsxs("span",{className:"text-brand-primary font-bold",children:["",E.price.toLocaleString()]}),t.jsxs("span",{className:"text-light-text-secondary dark:text-dark-text-secondary",children:["Category: ",E.category]}),t.jsxs("span",{className:"text-light-text-secondary dark:text-dark-text-secondary",children:["By: ",E.user.fullName||E.user.email]})]})]}),t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsxs("button",{onClick:()=>Pr(E.id),className:"flex items-center gap-2 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors text-sm font-semibold",children:[t.jsx(Ae,{className:"w-4 h-4"}),"Approve"]}),t.jsxs("button",{onClick:()=>ba(E.id),className:"flex items-center gap-2 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors text-sm font-semibold",children:[t.jsx(Hn,{className:"w-4 h-4"}),"Reject"]})]})]})},E.id))})]})}),l==="analytics"&&t.jsx("div",{children:t.jsxs("div",{className:"mb-6",children:[t.jsx("h3",{className:"text-xl font-bold text-light-text-primary dark:text-dark-text-primary mb-4",children:"Analytics Dashboard"}),$e&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[t.jsxs("div",{className:"bg-light-bg dark:bg-dark-bg p-4 rounded-lg border border-light-border dark:border-dark-border",children:[t.jsx("p",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary mb-1",children:"Total Revenue"}),t.jsxs("p",{className:"text-2xl font-bold text-brand-primary",children:["",((ks=(Na=$e.revenue)==null?void 0:Na.total)==null?void 0:ks.toLocaleString())||"0"]})]}),t.jsxs("div",{className:"bg-light-bg dark:bg-dark-bg p-4 rounded-lg border border-light-border dark:border-dark-border",children:[t.jsx("p",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary mb-1",children:"Transactions"}),t.jsx("p",{className:"text-2xl font-bold text-brand-primary",children:((Ns=$e.revenue)==null?void 0:Ns.transactions)||0})]}),t.jsxs("div",{className:"bg-light-bg dark:bg-dark-bg p-4 rounded-lg border border-light-border dark:border-dark-border",children:[t.jsx("p",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary mb-1",children:"Top Locations"}),t.jsx("p",{className:"text-2xl font-bold text-brand-primary",children:((hr=$e.topLocations)==null?void 0:hr.length)||0})]}),t.jsxs("div",{className:"bg-light-bg dark:bg-dark-bg p-4 rounded-lg border border-light-border dark:border-dark-border",children:[t.jsx("p",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary mb-1",children:"User Roles"}),t.jsx("p",{className:"text-2xl font-bold text-brand-primary",children:((ut=$e.roleDistribution)==null?void 0:ut.length)||0})]})]}),($e==null?void 0:$e.topLocations)&&$e.topLocations.length>0&&t.jsxs("div",{className:"bg-light-bg dark:bg-dark-bg p-4 rounded-lg border border-light-border dark:border-dark-border",children:[t.jsx("h4",{className:"font-semibold text-light-text-primary dark:text-dark-text-primary mb-3",children:"Top Locations"}),t.jsx("div",{className:"space-y-2",children:$e.topLocations.slice(0,10).map((E,ge)=>t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-light-text-primary dark:text-dark-text-primary",children:E.location}),t.jsxs("span",{className:"text-brand-primary font-semibold",children:[E._count.id," listings"]})]},ge))})]})]})}),l==="ai"&&t.jsx("div",{children:t.jsxs("div",{className:"mb-6",children:[t.jsx("h3",{className:"text-xl font-bold text-light-text-primary dark:text-dark-text-primary mb-4",children:"AI Management"}),Lt&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-light-bg dark:bg-dark-bg p-6 rounded-lg border border-light-border dark:border-dark-border",children:[t.jsx("h4",{className:"font-semibold text-light-text-primary dark:text-dark-text-primary mb-4",children:"AI Status"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-light-text-secondary dark:text-dark-text-secondary",children:"Status:"}),t.jsx("span",{className:`font-semibold ${Lt.status==="active"?"text-green-500":"text-red-500"}`,children:Lt.status||"Unknown"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-light-text-secondary dark:text-dark-text-secondary",children:"Model:"}),t.jsx("span",{className:"font-semibold text-light-text-primary dark:text-dark-text-primary",children:Lt.model||"N/A"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-light-text-secondary dark:text-dark-text-secondary",children:"AI Enabled:"}),t.jsx("span",{className:`font-semibold ${Lt.aiEnabled?"text-green-500":"text-red-500"}`,children:Lt.aiEnabled?"Yes":"No"})]})]})]}),t.jsxs("div",{className:"bg-light-bg dark:bg-dark-bg p-6 rounded-lg border border-light-border dark:border-dark-border",children:[t.jsx("h4",{className:"font-semibold text-light-text-primary dark:text-dark-text-primary mb-4",children:"Available Data"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-light-text-secondary dark:text-dark-text-secondary",children:"Listings:"}),t.jsx("span",{className:"font-semibold text-brand-primary",children:((vt=Lt.availableData)==null?void 0:vt.listings)||0})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-light-text-secondary dark:text-dark-text-secondary",children:"Last Updated:"}),t.jsx("span",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary",children:(Dr=Lt.availableData)!=null&&Dr.lastUpdated?new Date(Lt.availableData.lastUpdated).toLocaleString():"N/A"})]})]})]})]})]})}),l==="system"&&t.jsx("div",{children:t.jsxs("div",{className:"mb-6",children:[t.jsx("h3",{className:"text-xl font-bold text-light-text-primary dark:text-dark-text-primary mb-4",children:"System Health & Monitoring"}),nt&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[t.jsxs("div",{className:"bg-light-bg dark:bg-dark-bg p-6 rounded-lg border border-light-border dark:border-dark-border",children:[t.jsx("h4",{className:"font-semibold text-light-text-primary dark:text-dark-text-primary mb-4",children:"Database"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-light-text-secondary dark:text-dark-text-secondary",children:"Status:"}),t.jsx("span",{className:`font-semibold ${((wa=nt.database)==null?void 0:wa.status)==="healthy"?"text-green-500":"text-yellow-500"}`,children:((Ei=nt.database)==null?void 0:Ei.status)||"Unknown"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-light-text-secondary dark:text-dark-text-secondary",children:"Latency:"}),t.jsxs("span",{className:"font-semibold text-light-text-primary dark:text-dark-text-primary",children:[((Ai=nt.database)==null?void 0:Ai.latency)||0,"ms"]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-light-text-secondary dark:text-dark-text-secondary",children:"Connected:"}),t.jsx("span",{className:`font-semibold ${(ws=nt.database)!=null&&ws.connected?"text-green-500":"text-red-500"}`,children:(un=nt.database)!=null&&un.connected?"Yes":"No"})]})]})]}),t.jsxs("div",{className:"bg-light-bg dark:bg-dark-bg p-6 rounded-lg border border-light-border dark:border-dark-border",children:[t.jsx("h4",{className:"font-semibold text-light-text-primary dark:text-dark-text-primary mb-4",children:"System Metrics"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-light-text-secondary dark:text-dark-text-secondary",children:"Uptime:"}),t.jsx("span",{className:"font-semibold text-light-text-primary dark:text-dark-text-primary",children:(Sa=nt.system)!=null&&Sa.uptime?Math.floor(nt.system.uptime/3600)+"h":"N/A"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-light-text-secondary dark:text-dark-text-secondary",children:"Node Version:"}),t.jsx("span",{className:"font-semibold text-light-text-primary dark:text-dark-text-primary",children:((Ur=nt.system)==null?void 0:Ur.nodeVersion)||"N/A"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-light-text-secondary dark:text-dark-text-secondary",children:"Memory:"}),t.jsx("span",{className:"font-semibold text-light-text-primary dark:text-dark-text-primary",children:(qr=nt.system)!=null&&qr.memory?Math.round(nt.system.memory.heapUsed/1024/1024)+"MB":"N/A"})]})]})]}),nt.metrics&&t.jsxs("div",{className:"bg-light-bg dark:bg-dark-bg p-6 rounded-lg border border-light-border dark:border-dark-border col-span-1 md:col-span-2",children:[t.jsx("h4",{className:"font-semibold text-light-text-primary dark:text-dark-text-primary mb-4",children:"Platform Metrics"}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary",children:"Total Users"}),t.jsx("p",{className:"text-2xl font-bold text-brand-primary",children:nt.metrics.totalUsers||0})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary",children:"Total Listings"}),t.jsx("p",{className:"text-2xl font-bold text-brand-primary",children:nt.metrics.totalListings||0})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary",children:"Active Listings"}),t.jsx("p",{className:"text-2xl font-bold text-brand-primary",children:nt.metrics.activeListings||0})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary",children:"Pending Products"}),t.jsx("p",{className:"text-2xl font-bold text-brand-primary",children:nt.metrics.pendingProducts||0})]})]})]})]})]})}),l==="transactions"&&t.jsx("div",{children:t.jsxs("div",{className:"mb-6",children:[t.jsx("h3",{className:"text-xl font-bold text-light-text-primary dark:text-dark-text-primary mb-4",children:"Transaction Management"}),Ir.length>0?t.jsx("div",{className:"overflow-x-auto -mx-4 px-4 md:mx-0 md:px-0",children:t.jsxs("table",{className:"w-full min-w-[600px]",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-light-border dark:border-dark-border",children:[t.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-light-text-primary dark:text-dark-text-primary",children:"User"}),t.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-light-text-primary dark:text-dark-text-primary",children:"Amount"}),t.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-light-text-primary dark:text-dark-text-primary",children:"Type"}),t.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-light-text-primary dark:text-dark-text-primary",children:"Status"}),t.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-light-text-primary dark:text-dark-text-primary",children:"Date"})]})}),t.jsx("tbody",{children:Ir.map(E=>{var ge,at,wr;return t.jsxs("tr",{className:"border-b border-light-border dark:border-dark-border",children:[t.jsx("td",{className:"py-3 px-4 text-sm text-light-text-primary dark:text-dark-text-primary",children:((ge=E.user)==null?void 0:ge.fullName)||((at=E.user)==null?void 0:at.email)||"N/A"}),t.jsxs("td",{className:"py-3 px-4 text-sm text-light-text-primary dark:text-dark-text-primary",children:["",((wr=E.amount)==null?void 0:wr.toLocaleString())||"0"]}),t.jsx("td",{className:"py-3 px-4 text-sm text-light-text-primary dark:text-dark-text-primary",children:E.type||"N/A"}),t.jsx("td",{className:"py-3 px-4",children:t.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${E.status==="completed"?"bg-green-500/20 text-green-500":E.status==="pending"?"bg-yellow-500/20 text-yellow-500":"bg-red-500/20 text-red-500"}`,children:E.status||"Unknown"})}),t.jsx("td",{className:"py-3 px-4 text-sm text-light-text-secondary dark:text-dark-text-secondary",children:E.createdAt?Jn(E.createdAt):"N/A"})]},E.id)})})]})}):t.jsx("p",{className:"text-light-text-secondary dark:text-dark-text-secondary",children:"No transactions found"})]})}),l==="content"&&t.jsx("div",{children:t.jsxs("div",{className:"mb-6",children:[t.jsx("h3",{className:"text-xl font-bold text-light-text-primary dark:text-dark-text-primary mb-4",children:"Content Management"}),Xe&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"bg-light-bg dark:bg-dark-bg p-6 rounded-lg border border-light-border dark:border-dark-border",children:[t.jsx("p",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary mb-2",children:"Listings"}),t.jsx("p",{className:"text-3xl font-bold text-brand-primary",children:((mn=Xe.content)==null?void 0:mn.listings)||0})]}),t.jsxs("div",{className:"bg-light-bg dark:bg-dark-bg p-6 rounded-lg border border-light-border dark:border-dark-border",children:[t.jsx("p",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary mb-2",children:"Posts"}),t.jsx("p",{className:"text-3xl font-bold text-brand-primary",children:((Vr=Xe.content)==null?void 0:Vr.posts)||0})]}),t.jsxs("div",{className:"bg-light-bg dark:bg-dark-bg p-6 rounded-lg border border-light-border dark:border-dark-border",children:[t.jsx("p",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary mb-2",children:"Videos"}),t.jsx("p",{className:"text-3xl font-bold text-brand-primary",children:((lt=Xe.content)==null?void 0:lt.videos)||0})]}),t.jsxs("div",{className:"bg-light-bg dark:bg-dark-bg p-6 rounded-lg border border-light-border dark:border-dark-border",children:[t.jsx("p",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary mb-2",children:"Stories"}),t.jsx("p",{className:"text-3xl font-bold text-brand-primary",children:((Ss=Xe.content)==null?void 0:Ss.stories)||0})]})]})]})})]})]}),p==="edit"&&l==="users"&&H&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm overflow-y-auto",children:t.jsxs("div",{className:"relative bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border rounded-lg shadow-2xl w-full max-w-2xl p-6 my-8",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-light-text-primary dark:text-dark-text-primary",children:"Edit User"}),t.jsx("button",{onClick:()=>{y("list"),X(null)},className:"text-light-text-secondary dark:text-dark-text-secondary hover:text-light-text-primary dark:hover:text-dark-text-primary",children:t.jsx(je,{className:"w-6 h-6"})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-light-text-primary dark:text-dark-text-primary mb-2",children:"Email"}),t.jsx("input",{type:"email",value:ie.email,onChange:E=>pe({...ie,email:E.target.value}),className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-2 text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-brand-primary focus:outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-light-text-primary dark:text-dark-text-primary mb-2",children:"Full Name"}),t.jsx("input",{type:"text",value:ie.fullName,onChange:E=>pe({...ie,fullName:E.target.value}),className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-2 text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-brand-primary focus:outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-light-text-primary dark:text-dark-text-primary mb-2",children:"Role"}),t.jsxs("select",{value:ie.role,onChange:E=>pe({...ie,role:E.target.value}),className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-2 text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-brand-primary focus:outline-none",children:[t.jsx("option",{value:"SEEKER",children:"Seeker"}),t.jsx("option",{value:"LANDLORD",children:"Landlord"}),t.jsx("option",{value:"AGENT",children:"Agent"}),t.jsx("option",{value:"REFERRER",children:"Referrer"}),t.jsx("option",{value:"TENANT",children:"Tenant"}),t.jsx("option",{value:"INVESTOR",children:"Investor"}),t.jsx("option",{value:"ARTISAN",children:"Artisan"}),t.jsx("option",{value:"ADMIN",children:"Admin"})]})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("label",{className:"flex items-center gap-2 text-sm text-light-text-primary dark:text-dark-text-primary",children:[t.jsx("input",{type:"checkbox",checked:ie.isPremium,onChange:E=>pe({...ie,isPremium:E.target.checked}),className:"w-4 h-4"}),"Premium User"]}),t.jsxs("label",{className:"flex items-center gap-2 text-sm text-light-text-primary dark:text-dark-text-primary",children:[t.jsx("input",{type:"checkbox",checked:ie.isVerified,onChange:E=>pe({...ie,isVerified:E.target.checked}),className:"w-4 h-4"}),"Verified"]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:cn,disabled:I||!ie.email.trim(),className:"flex-1 bg-brand-primary text-white py-2 rounded-lg hover:bg-brand-secondary disabled:bg-brand-secondary/50 disabled:cursor-not-allowed",children:I?"Saving...":"Save Changes"}),t.jsx("button",{onClick:()=>{y("list"),X(null)},className:"px-4 py-2 bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border text-light-text-primary dark:text-dark-text-primary rounded-lg hover:bg-light-border dark:hover:bg-dark-border",children:"Cancel"})]})]})]})}),p==="create"&&(l==="accommodations"||l==="listings")&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm overflow-y-auto",children:t.jsxs("div",{className:"relative bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border rounded-lg shadow-2xl w-full max-w-2xl p-6 my-8",children:[t.jsx("button",{onClick:()=>y("list"),className:"absolute top-4 right-4 text-light-text-secondary dark:text-dark-text-secondary hover:text-light-text-primary dark:hover:text-dark-text-primary",children:t.jsx(je,{className:"w-6 h-6"})}),t.jsx("h2",{className:"text-2xl font-bold mb-2 text-light-text-primary dark:text-dark-text-primary",children:"Create New Accommodation Listing"}),t.jsx("p",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary mb-4",children:"Upload accommodation listings for seekers to find. This is separate from Marketplace products."}),t.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto pr-2",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-light-text-primary dark:text-dark-text-primary mb-2",children:"Title *"}),t.jsx("input",{type:"text",value:J.title,onChange:E=>he({...J,title:E.target.value}),placeholder:"e.g., Beautiful 3 Bedroom Apartment",className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-2 text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-brand-primary focus:outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-light-text-primary dark:text-dark-text-primary mb-2",children:"Description"}),t.jsx("textarea",{value:J.description,onChange:E=>he({...J,description:E.target.value}),placeholder:"Describe the property...",rows:3,className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-2 text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-brand-primary focus:outline-none"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-light-text-primary dark:text-dark-text-primary mb-2",children:"Price *"}),t.jsx("input",{type:"text",value:J.price,onChange:E=>he({...J,price:E.target.value}),placeholder:"2.5M/year",className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-2 text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-brand-primary focus:outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-light-text-primary dark:text-dark-text-primary mb-2",children:"Location *"}),t.jsx("input",{type:"text",value:J.location,onChange:E=>he({...J,location:E.target.value}),placeholder:"Lagos, Ikeja",className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-2 text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-brand-primary focus:outline-none"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-light-text-primary dark:text-dark-text-primary mb-2",children:"Bedrooms"}),t.jsx("input",{type:"number",value:J.bedrooms,onChange:E=>he({...J,bedrooms:E.target.value}),placeholder:"3",className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-2 text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-brand-primary focus:outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-light-text-primary dark:text-dark-text-primary mb-2",children:"Property Type"}),t.jsxs("select",{value:J.propertyType,onChange:E=>he({...J,propertyType:E.target.value}),className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-2 text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-brand-primary focus:outline-none",children:[t.jsx("option",{value:"",children:"Select type"}),t.jsx("option",{value:"RESIDENTIAL_HOUSE",children:"Residential House"}),t.jsx("option",{value:"HOTEL",children:"Hotel"}),t.jsx("option",{value:"OFFICE_SPACE",children:"Office Space"}),t.jsx("option",{value:"APARTMENT",children:"Apartment"}),t.jsx("option",{value:"DUPLEX",children:"Duplex"}),t.jsx("option",{value:"BUNGALOW",children:"Bungalow"}),t.jsx("option",{value:"SELF_CONTAIN",children:"Self Contain"}),t.jsx("option",{value:"OTHER",children:"Other"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-light-text-primary dark:text-dark-text-primary mb-2",children:"Image URL"}),t.jsx("input",{type:"url",value:J.imageUrl,onChange:E=>he({...J,imageUrl:E.target.value}),placeholder:"https://...",className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-2 text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-brand-primary focus:outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-light-text-primary dark:text-dark-text-primary mb-2",children:"Video URL"}),t.jsx("input",{type:"url",value:J.videoUrl,onChange:E=>he({...J,videoUrl:E.target.value}),placeholder:"https://...",className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-2 text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-brand-primary focus:outline-none"})]})]}),t.jsxs("div",{className:"border-t border-light-border dark:border-dark-border pt-4 mt-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-light-text-primary dark:text-dark-text-primary mb-4",children:"Landlord Contact Information"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-light-text-primary dark:text-dark-text-primary mb-2",children:"Landlord Name"}),t.jsx("input",{type:"text",value:J.landlordName,onChange:E=>he({...J,landlordName:E.target.value}),placeholder:"John Doe",className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-2 text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-brand-primary focus:outline-none"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-light-text-primary dark:text-dark-text-primary mb-2",children:"Landlord Email"}),t.jsx("input",{type:"email",value:J.landlordEmail,onChange:E=>he({...J,landlordEmail:E.target.value}),placeholder:"landlord@example.com",className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-2 text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-brand-primary focus:outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-light-text-primary dark:text-dark-text-primary mb-2",children:"Landlord Phone"}),t.jsx("input",{type:"tel",value:J.landlordPhone,onChange:E=>he({...J,landlordPhone:E.target.value}),placeholder:"+234 800 000 0000",className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-2 text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-brand-primary focus:outline-none"})]})]})]})]}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("button",{onClick:async()=>{var E,ge,at,wr,fn,hn;if(!J.title||!J.price||!J.location){s("Please fill in all required fields (Title, Price, Location)");return}try{q(!0);const It={title:J.title,description:J.description||void 0,price:J.price,location:J.location,bedrooms:J.bedrooms?parseInt(J.bedrooms):void 0,propertyType:J.propertyType||void 0,imageUrl:J.imageUrl||void 0,videoUrl:J.videoUrl||void 0,landlordName:J.landlordName||void 0,landlordEmail:J.landlordEmail||void 0,landlordPhone:J.landlordPhone||void 0},Sr=await Si.create(It);Sr.success?(r("Listing created successfully!"),y("list"),he({title:"",description:"",price:"",location:"",bedrooms:"",propertyType:"",imageUrl:"",videoUrl:"",landlordName:"",landlordEmail:"",landlordPhone:""}),Ge()):s(Sr.message||"Failed to create listing")}catch(It){((ge=(E=It.response)==null?void 0:E.data)==null?void 0:ge.code)==="VERIFICATION_PENDING"?s("Your verification is pending. Please wait for admin approval before creating listings."):((wr=(at=It.response)==null?void 0:at.data)==null?void 0:wr.code)==="VERIFICATION_REJECTED"?s("Your verification was rejected. Please submit new verification documents in your profile."):((hn=(fn=It.response)==null?void 0:fn.data)==null?void 0:hn.code)==="VERIFICATION_REQUIRED"?s("You must submit verification documents (profile photo and ID) before creating listings. Please complete verification in your profile first."):s(It.message||"Failed to create listing")}finally{q(!1)}},disabled:I,className:"flex-1 bg-brand-primary text-white py-2 rounded-lg hover:bg-brand-secondary disabled:bg-brand-secondary/50 disabled:cursor-not-allowed",children:I?"Creating...":"Create Listing"}),t.jsx("button",{onClick:()=>{y("list"),he({title:"",description:"",price:"",location:"",bedrooms:"",propertyType:"",imageUrl:"",videoUrl:"",landlordName:"",landlordEmail:"",landlordPhone:""})},className:"px-4 py-2 bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border text-light-text-primary dark:text-dark-text-primary rounded-lg hover:bg-light-border dark:hover:bg-dark-border",children:"Cancel"})]})]})]})}),p==="upload"&&l==="feels"&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",children:t.jsxs("div",{className:"relative bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border rounded-lg shadow-2xl w-full max-w-md p-6",children:[t.jsx("button",{onClick:()=>y("list"),className:"absolute top-4 right-4 text-light-text-secondary dark:text-dark-text-secondary hover:text-light-text-primary dark:hover:text-dark-text-primary",children:t.jsx(je,{className:"w-6 h-6"})}),t.jsx("h2",{className:"text-2xl font-bold mb-4 text-light-text-primary dark:text-dark-text-primary",children:"Upload Feels Video"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-light-text-primary dark:text-dark-text-primary mb-2",children:"Video URL (YouTube)"}),t.jsx("input",{type:"text",value:se.videoUrl,onChange:E=>oe({...se,videoUrl:E.target.value}),placeholder:"https://www.youtube.com/watch?v=...",className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-2 text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-brand-primary focus:outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-light-text-primary dark:text-dark-text-primary mb-2",children:"Caption (optional)"}),t.jsx("textarea",{value:se.caption,onChange:E=>oe({...se,caption:E.target.value}),placeholder:"Add a caption...",rows:3,className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-2 text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-brand-primary focus:outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-light-text-primary dark:text-dark-text-primary mb-2",children:"Music/Credit (optional)"}),t.jsx("input",{type:"text",value:se.music,onChange:E=>oe({...se,music:E.target.value}),placeholder:"Original Audio - @username",className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-2 text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-brand-primary focus:outline-none"})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:ji,disabled:Y||!W,className:"flex-1 bg-brand-primary text-white py-2 rounded-lg hover:bg-brand-secondary disabled:bg-brand-secondary/50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:Y?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),t.jsx("span",{children:"Uploading..."})]}):t.jsxs(t.Fragment,{children:[t.jsx(wi,{className:"w-5 h-5"}),t.jsx("span",{children:"Upload Video"})]})}),t.jsx("button",{onClick:()=>{y("list"),Q(null),me(null),oe({videoUrl:"",caption:"",music:""}),C.current&&(C.current.value="")},className:"px-4 py-2 bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border text-light-text-primary dark:text-dark-text-primary rounded-lg hover:bg-light-border dark:hover:bg-dark-border",children:"Cancel"})]})]})]})}),p==="edit"&&activeTab==="users"&&H&&t.jsx("div",{className:"bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border rounded-lg shadow-lg p-6 mb-6",children:t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-light-text-primary dark:text-dark-text-primary",children:"Edit User"}),t.jsx("button",{onClick:()=>{y("list"),X(null)},className:"text-light-text-secondary dark:text-dark-text-secondary hover:text-light-text-primary dark:hover:text-dark-text-primary",children:t.jsx(je,{className:"w-6 h-6"})}),t.jsx("h2",{className:"text-2xl font-bold mb-4 text-light-text-primary dark:text-dark-text-primary",children:"Edit User"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-light-text-primary dark:text-dark-text-primary mb-2",children:"Email"}),t.jsx("input",{type:"email",value:ie.email,onChange:E=>pe({...ie,email:E.target.value}),className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-2 text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-brand-primary focus:outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-light-text-primary dark:text-dark-text-primary mb-2",children:"Full Name"}),t.jsx("input",{type:"text",value:ie.fullName,onChange:E=>pe({...ie,fullName:E.target.value}),className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-2 text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-brand-primary focus:outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-light-text-primary dark:text-dark-text-primary mb-2",children:"Role"}),t.jsxs("select",{value:ie.role,onChange:E=>pe({...ie,role:E.target.value}),className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-2 text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-brand-primary focus:outline-none",children:[t.jsx("option",{value:"SEEKER",children:"Seeker"}),t.jsx("option",{value:"LANDLORD",children:"Landlord"}),t.jsx("option",{value:"AGENT",children:"Agent"}),t.jsx("option",{value:"REFERRER",children:"Referrer"}),t.jsx("option",{value:"TENANT",children:"Tenant"}),t.jsx("option",{value:"INVESTOR",children:"Investor"}),t.jsx("option",{value:"ARTISAN",children:"Artisan"}),t.jsx("option",{value:"ADMIN",children:"Admin"})]})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("label",{className:"flex items-center gap-2 text-sm text-light-text-primary dark:text-dark-text-primary",children:[t.jsx("input",{type:"checkbox",checked:ie.isPremium,onChange:E=>pe({...ie,isPremium:E.target.checked}),className:"w-4 h-4"}),"Premium User"]}),t.jsxs("label",{className:"flex items-center gap-2 text-sm text-light-text-primary dark:text-dark-text-primary",children:[t.jsx("input",{type:"checkbox",checked:ie.isVerified,onChange:E=>pe({...ie,isVerified:E.target.checked}),className:"w-4 h-4"}),"Verified"]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:cn,disabled:I||!ie.email.trim(),className:"flex-1 bg-brand-primary text-white py-2 rounded-lg hover:bg-brand-secondary disabled:bg-brand-secondary/50 disabled:cursor-not-allowed",children:I?"Saving...":"Save Changes"}),t.jsx("button",{onClick:()=>{y("list"),X(null)},className:"px-4 py-2 bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border text-light-text-primary dark:text-dark-text-primary rounded-lg hover:bg-light-border dark:hover:bg-dark-border",children:"Cancel"})]})]})]})}),p==="create"&&(l==="accommodations"||l==="listings")&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm overflow-y-auto",children:t.jsxs("div",{className:"relative bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border rounded-lg shadow-2xl w-full max-w-2xl p-6 my-8",children:[t.jsx("button",{onClick:()=>y("list"),className:"absolute top-4 right-4 text-light-text-secondary dark:text-dark-text-secondary hover:text-light-text-primary dark:hover:text-dark-text-primary",children:t.jsx(je,{className:"w-6 h-6"})}),t.jsx("h2",{className:"text-2xl font-bold mb-2 text-light-text-primary dark:text-dark-text-primary",children:"Create New Accommodation Listing"}),t.jsx("p",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary mb-4",children:"Upload accommodation listings for seekers to find. This is separate from Marketplace products."}),t.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto pr-2",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-light-text-primary dark:text-dark-text-primary mb-2",children:"Title *"}),t.jsx("input",{type:"text",value:J.title,onChange:E=>he({...J,title:E.target.value}),placeholder:"e.g., Beautiful 3 Bedroom Apartment",className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-2 text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-brand-primary focus:outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-light-text-primary dark:text-dark-text-primary mb-2",children:"Description"}),t.jsx("textarea",{value:J.description,onChange:E=>he({...J,description:E.target.value}),placeholder:"Describe the property...",rows:3,className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-2 text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-brand-primary focus:outline-none"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-light-text-primary dark:text-dark-text-primary mb-2",children:"Price *"}),t.jsx("input",{type:"text",value:J.price,onChange:E=>he({...J,price:E.target.value}),placeholder:"2.5M/year",className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-2 text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-brand-primary focus:outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-light-text-primary dark:text-dark-text-primary mb-2",children:"Location *"}),t.jsx("input",{type:"text",value:J.location,onChange:E=>he({...J,location:E.target.value}),placeholder:"Lagos, Ikeja",className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-2 text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-brand-primary focus:outline-none"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-light-text-primary dark:text-dark-text-primary mb-2",children:"Bedrooms"}),t.jsx("input",{type:"number",value:J.bedrooms,onChange:E=>he({...J,bedrooms:E.target.value}),placeholder:"3",className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-2 text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-brand-primary focus:outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-light-text-primary dark:text-dark-text-primary mb-2",children:"Property Type"}),t.jsxs("select",{value:J.propertyType,onChange:E=>he({...J,propertyType:E.target.value}),className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-2 text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-brand-primary focus:outline-none",children:[t.jsx("option",{value:"",children:"Select type"}),t.jsx("option",{value:"RESIDENTIAL_HOUSE",children:"Residential House"}),t.jsx("option",{value:"HOTEL",children:"Hotel"}),t.jsx("option",{value:"OFFICE_SPACE",children:"Office Space"}),t.jsx("option",{value:"APARTMENT",children:"Apartment"}),t.jsx("option",{value:"DUPLEX",children:"Duplex"}),t.jsx("option",{value:"BUNGALOW",children:"Bungalow"}),t.jsx("option",{value:"SELF_CONTAIN",children:"Self Contain"}),t.jsx("option",{value:"OTHER",children:"Other"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-light-text-primary dark:text-dark-text-primary mb-2",children:"Image URL"}),t.jsx("input",{type:"url",value:J.imageUrl,onChange:E=>he({...J,imageUrl:E.target.value}),placeholder:"https://...",className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-2 text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-brand-primary focus:outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-light-text-primary dark:text-dark-text-primary mb-2",children:"Video URL"}),t.jsx("input",{type:"url",value:J.videoUrl,onChange:E=>he({...J,videoUrl:E.target.value}),placeholder:"https://...",className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-2 text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-brand-primary focus:outline-none"})]})]}),t.jsxs("div",{className:"border-t border-light-border dark:border-dark-border pt-4 mt-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-light-text-primary dark:text-dark-text-primary mb-4",children:"Landlord Contact Information"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-light-text-primary dark:text-dark-text-primary mb-2",children:"Landlord Name"}),t.jsx("input",{type:"text",value:J.landlordName,onChange:E=>he({...J,landlordName:E.target.value}),placeholder:"John Doe",className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-2 text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-brand-primary focus:outline-none"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-light-text-primary dark:text-dark-text-primary mb-2",children:"Landlord Email"}),t.jsx("input",{type:"email",value:J.landlordEmail,onChange:E=>he({...J,landlordEmail:E.target.value}),placeholder:"landlord@example.com",className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-2 text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-brand-primary focus:outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-light-text-primary dark:text-dark-text-primary mb-2",children:"Landlord Phone"}),t.jsx("input",{type:"tel",value:J.landlordPhone,onChange:E=>he({...J,landlordPhone:E.target.value}),placeholder:"+234 800 000 0000",className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-2 text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-brand-primary focus:outline-none"})]})]})]})]}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("button",{onClick:async()=>{var E,ge,at,wr,fn,hn;if(!J.title||!J.price||!J.location){s("Please fill in all required fields (Title, Price, Location)");return}try{q(!0);const It={title:J.title,description:J.description||void 0,price:J.price,location:J.location,bedrooms:J.bedrooms?parseInt(J.bedrooms):void 0,propertyType:J.propertyType||void 0,imageUrl:J.imageUrl||void 0,videoUrl:J.videoUrl||void 0,landlordName:J.landlordName||void 0,landlordEmail:J.landlordEmail||void 0,landlordPhone:J.landlordPhone||void 0},Sr=await Si.create(It);Sr.success?(r("Listing created successfully!"),y("list"),he({title:"",description:"",price:"",location:"",bedrooms:"",propertyType:"",imageUrl:"",videoUrl:"",landlordName:"",landlordEmail:"",landlordPhone:""}),Ge()):s(Sr.message||"Failed to create listing")}catch(It){((ge=(E=It.response)==null?void 0:E.data)==null?void 0:ge.code)==="VERIFICATION_PENDING"?s("Your verification is pending. Please wait for admin approval before creating listings."):((wr=(at=It.response)==null?void 0:at.data)==null?void 0:wr.code)==="VERIFICATION_REJECTED"?s("Your verification was rejected. Please submit new verification documents in your profile."):((hn=(fn=It.response)==null?void 0:fn.data)==null?void 0:hn.code)==="VERIFICATION_REQUIRED"?s("You must submit verification documents (profile photo and ID) before creating listings. Please complete verification in your profile first."):s(It.message||"Failed to create listing")}finally{q(!1)}},disabled:I,className:"flex-1 bg-brand-primary text-white py-2 rounded-lg hover:bg-brand-secondary disabled:bg-brand-secondary/50 disabled:cursor-not-allowed",children:I?"Creating...":"Create Listing"}),t.jsx("button",{onClick:()=>{y("list"),he({title:"",description:"",price:"",location:"",bedrooms:"",propertyType:"",imageUrl:"",videoUrl:"",landlordName:"",landlordEmail:"",landlordPhone:""})},className:"px-4 py-2 bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border text-light-text-primary dark:text-dark-text-primary rounded-lg hover:bg-light-border dark:hover:bg-dark-border",children:"Cancel"})]})]})]})}),p==="upload"&&l==="feels"&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",children:t.jsxs("div",{className:"relative bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border rounded-lg shadow-2xl w-full max-w-md p-6",children:[t.jsx("button",{onClick:()=>y("list"),className:"absolute top-4 right-4 text-light-text-secondary dark:text-dark-text-secondary hover:text-light-text-primary dark:hover:text-dark-text-primary",children:t.jsx(je,{className:"w-6 h-6"})}),t.jsx("h2",{className:"text-2xl font-bold mb-4 text-light-text-primary dark:text-dark-text-primary",children:"Upload Feels Video"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-light-text-primary dark:text-dark-text-primary mb-2",children:"Video URL (YouTube)"}),t.jsx("input",{type:"text",value:se.videoUrl,onChange:E=>oe({...se,videoUrl:E.target.value}),placeholder:"https://www.youtube.com/watch?v=...",className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-2 text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-brand-primary focus:outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-light-text-primary dark:text-dark-text-primary mb-2",children:"Caption (optional)"}),t.jsx("textarea",{value:se.caption,onChange:E=>oe({...se,caption:E.target.value}),placeholder:"Add a caption...",rows:3,className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-2 text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-brand-primary focus:outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-light-text-primary dark:text-dark-text-primary mb-2",children:"Music/Credit (optional)"}),t.jsx("input",{type:"text",value:se.music,onChange:E=>oe({...se,music:E.target.value}),placeholder:"Original Audio - @username",className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-2 text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-brand-primary focus:outline-none"})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:ji,disabled:Y||!se.videoUrl.trim(),className:"flex-1 bg-brand-primary text-white py-2 rounded-lg hover:bg-brand-secondary disabled:bg-brand-secondary/50 disabled:cursor-not-allowed",children:Y?"Uploading...":"Upload Video"}),t.jsx("button",{onClick:()=>y("list"),className:"px-4 py-2 bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border text-light-text-primary dark:text-dark-text-primary rounded-lg hover:bg-light-border dark:hover:bg-dark-border",children:"Cancel"})]})]})]})})]})},sj=({onClose:n,user:r})=>{const[s,l]=T.useState(null),[d,u]=T.useState(null),[f,p]=T.useState(!0),[y,x]=T.useState("overview");T.useEffect(()=>{b()},[]);const b=async()=>{try{p(!0);const[w,j]=await Promise.all([qn.getStats(),qn.getEarnings()]);w.success&&l(w.data),j.success&&u(j.data)}catch(w){console.error("Failed to load dashboard data:",w)}finally{p(!1)}},v=w=>w>=1e6?`${(w/1e6).toFixed(2)}M`:`${w.toLocaleString()}`,k=w=>({SEEKER:"Seeker/Tenant",LANDLORD:"Landlord",AGENT:"CC/Agent",REFERRER:"Referrer",TENANT:"Tenant",INVESTOR:"Investor",ARTISAN:"Local Artisan",ADMIN:"Administrator"})[w]||w;return f?t.jsx("div",{className:"min-h-screen bg-light-bg dark:bg-dark-bg flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-primary mx-auto"}),t.jsx("p",{className:"mt-4 text-light-text-secondary dark:text-dark-text-secondary",children:"Loading dashboard..."})]})}):t.jsxs("div",{className:"min-h-screen bg-light-bg dark:bg-dark-bg",children:[t.jsx("div",{className:"sticky top-0 z-10 bg-light-card/95 dark:bg-dark-card/95 backdrop-blur-sm border-b border-light-border dark:border-dark-border lg:hidden",children:t.jsxs("div",{className:"container mx-auto px-4 py-3 flex items-center justify-between",children:[t.jsx("h2",{className:"text-lg font-bold text-light-text-primary dark:text-dark-text-primary",children:"My Dashboard"}),n&&t.jsx("button",{onClick:n,className:"p-2 rounded-full hover:bg-light-border dark:hover:bg-dark-border text-light-text-secondary dark:text-dark-text-secondary","aria-label":"Close",children:t.jsx(je,{className:"w-5 h-5"})})]})}),t.jsxs("div",{className:"container mx-auto px-4 py-6 md:py-12 max-w-6xl",children:[t.jsxs("div",{className:"hidden lg:flex items-center justify-between mb-6 pb-4 border-b border-light-border dark:border-dark-border",children:[t.jsx("h2",{className:"text-3xl font-bold text-light-text-primary dark:text-dark-text-primary",children:"My Dashboard"}),n&&t.jsx("button",{onClick:n,className:"text-light-text-secondary dark:text-dark-text-secondary hover:text-light-text-primary dark:hover:text-dark-text-primary",children:t.jsx(je,{className:"w-6 h-6"})})]}),t.jsxs("div",{className:"bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border rounded-lg shadow-lg p-4 md:p-6 text-light-text-primary dark:text-dark-text-primary",children:[t.jsx("div",{className:"border-b border-light-border dark:border-dark-border p-6",children:t.jsxs("div",{className:"flex items-center gap-4",children:[r!=null&&r.avatarUrl?t.jsx("img",{src:r.avatarUrl,alt:r.fullName,className:"w-16 h-16 rounded-full object-cover"}):t.jsx("div",{className:"w-16 h-16 rounded-full bg-brand-primary/10 flex items-center justify-center",children:t.jsx(Rr,{className:"w-8 h-8 text-brand-primary"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold",children:(r==null?void 0:r.fullName)||"User Dashboard"}),t.jsxs("p",{className:"text-light-text-secondary dark:text-dark-text-secondary",children:[k((r==null?void 0:r.role)||"SEEKER"),"  ",r==null?void 0:r.email]})]})]})}),t.jsxs("div",{className:"flex border-b border-light-border dark:border-dark-border",children:[t.jsx("button",{onClick:()=>x("overview"),className:`px-6 py-3 font-semibold text-sm ${y==="overview"?"text-brand-primary border-b-2 border-brand-primary":"text-light-text-secondary dark:text-dark-text-secondary"}`,children:"Overview"}),t.jsx("button",{onClick:()=>x("listings"),className:`px-6 py-3 font-semibold text-sm ${y==="listings"?"text-brand-primary border-b-2 border-brand-primary":"text-light-text-secondary dark:text-dark-text-secondary"}`,children:"Listings"}),t.jsx("button",{onClick:()=>x("marketplace"),className:`px-6 py-3 font-semibold text-sm ${y==="marketplace"?"text-brand-primary border-b-2 border-brand-primary":"text-light-text-secondary dark:text-dark-text-secondary"}`,children:"Marketplace"}),t.jsx("button",{onClick:()=>x("earnings"),className:`px-6 py-3 font-semibold text-sm ${y==="earnings"?"text-brand-primary border-b-2 border-brand-primary":"text-light-text-secondary dark:text-dark-text-secondary"}`,children:"Earnings"})]}),t.jsxs("div",{className:"p-6 max-h-[60vh] overflow-y-auto",children:[y==="overview"&&s&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsx("div",{className:"bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-3 bg-green-500/10 rounded-lg",children:t.jsx(ur,{className:"w-6 h-6 text-green-500"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-light-text-secondary dark:text-dark-text-secondary",children:"Total Earnings"}),t.jsx("p",{className:"text-xl font-bold",children:v(s.stats.totalEarnings)})]})]})}),t.jsx("div",{className:"bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-3 bg-blue-500/10 rounded-lg",children:t.jsx(Mr,{className:"w-6 h-6 text-blue-500"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-light-text-secondary dark:text-dark-text-secondary",children:"Active Listings"}),t.jsx("p",{className:"text-xl font-bold",children:s.stats.activeListings})]})]})}),t.jsx("div",{className:"bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-3 bg-purple-500/10 rounded-lg",children:t.jsx(Bn,{className:"w-6 h-6 text-purple-500"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-light-text-secondary dark:text-dark-text-secondary",children:"Wallet Balance"}),t.jsxs("p",{className:"text-xl font-bold",children:[s.stats.walletBalance," SWC"]})]})]})})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg p-4 text-center",children:[t.jsx("p",{className:"text-2xl font-bold",children:s.stats.totalSales}),t.jsx("p",{className:"text-xs text-light-text-secondary dark:text-dark-text-secondary mt-1",children:"Total Sales"})]}),t.jsxs("div",{className:"bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg p-4 text-center",children:[t.jsx("p",{className:"text-2xl font-bold",children:s.stats.referrals}),t.jsx("p",{className:"text-xs text-light-text-secondary dark:text-dark-text-secondary mt-1",children:"Referrals"})]}),t.jsxs("div",{className:"bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg p-4 text-center",children:[t.jsx("p",{className:"text-2xl font-bold",children:s.stats.credibilityScore}),t.jsx("p",{className:"text-xs text-light-text-secondary dark:text-dark-text-secondary mt-1",children:"Credibility"})]}),t.jsxs("div",{className:"bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg p-4 text-center",children:[t.jsx("p",{className:"text-2xl font-bold capitalize",children:s.stats.tier}),t.jsx("p",{className:"text-xs text-light-text-secondary dark:text-dark-text-secondary mt-1",children:"Tier"})]})]}),(r==null?void 0:r.role)==="ARTISAN"&&s.user.artisanService&&t.jsxs("div",{className:"bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg p-4",children:[t.jsx("h3",{className:"font-bold mb-2",children:"Artisan Profile"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("p",{children:[t.jsx("span",{className:"font-semibold",children:"Service:"})," ",s.user.artisanService]}),s.user.artisanLocation&&t.jsxs("p",{children:[t.jsx("span",{className:"font-semibold",children:"Location:"})," ",s.user.artisanLocation]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(br,{className:"w-4 h-4 text-yellow-500"}),t.jsx("span",{className:"font-semibold",children:"Rating:"})," ",s.user.artisanRating.toFixed(1),"/5.0"]})]})]})]}),y==="listings"&&s&&t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-bold",children:"Your Property Listings"}),s.listings.length>0?t.jsx("div",{className:"space-y-3",children:s.listings.map(w=>t.jsx("div",{className:"bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg p-4",children:t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold",children:w.title}),t.jsx("p",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary",children:w.location}),t.jsx("p",{className:"text-brand-primary font-semibold mt-1",children:w.price})]}),t.jsx("span",{className:`px-2 py-1 rounded text-xs ${w.isActive?"bg-green-500/10 text-green-500":"bg-gray-500/10 text-gray-500"}`,children:w.isActive?"Active":"Inactive"})]})},w.id))}):t.jsxs("div",{className:"text-center py-8 text-light-text-secondary dark:text-dark-text-secondary",children:[t.jsx(Mr,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),t.jsx("p",{children:"No listings yet"})]})]}),y==="marketplace"&&s&&t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-bold",children:"Your Marketplace Products"}),s.marketplaceProducts.length>0?t.jsx("div",{className:"space-y-3",children:s.marketplaceProducts.map(w=>t.jsx("div",{className:"bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg p-4",children:t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold",children:w.name}),t.jsx("p",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary capitalize",children:w.category.replace("_"," ")}),t.jsxs("p",{className:"text-brand-primary font-semibold mt-1",children:["",w.price.toLocaleString()]})]}),t.jsx("span",{className:`px-2 py-1 rounded text-xs ${w.isActive?"bg-green-500/10 text-green-500":"bg-gray-500/10 text-gray-500"}`,children:w.isActive?"Active":"Inactive"})]})},w.id))}):t.jsxs("div",{className:"text-center py-8 text-light-text-secondary dark:text-dark-text-secondary",children:[t.jsx(fs,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),t.jsx("p",{children:"No marketplace products yet"})]})]}),y==="earnings"&&d&&t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-bold",children:"Earnings History"}),t.jsxs("div",{className:"bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg p-4",children:[t.jsxs("p",{className:"text-2xl font-bold mb-4",children:["Total: ",v(d.totalEarnings)]}),t.jsxs("p",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary mb-4",children:["Wallet Balance: ",d.walletBalance," SWC"]})]}),d.earningsHistory.length>0?t.jsx("div",{className:"space-y-2",children:d.earningsHistory.map(w=>t.jsx("div",{className:"bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg p-3",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold",children:w.description}),t.jsx("p",{className:"text-xs text-light-text-secondary dark:text-dark-text-secondary",children:new Date(w.date).toLocaleDateString()})]}),t.jsxs("p",{className:"font-bold text-green-500",children:["+",v(w.amount)]})]})},w.id))}):t.jsxs("div",{className:"text-center py-8 text-light-text-secondary dark:text-dark-text-secondary",children:[t.jsx(ur,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),t.jsx("p",{children:"No earnings history yet"})]})]})]})]})]})]})},ij=()=>{var f,p,y;const[n,r]=T.useState("verifying"),[s,l]=T.useState("Verifying your payment..."),[d,u]=T.useState(null);return T.useEffect(()=>{(async()=>{var k;const b=new URLSearchParams(window.location.search),v=b.get("reference")||b.get("trxref");if(!v){r("error"),l("No payment reference found"),setTimeout(()=>{window.location.href="/#wallet"},3e3);return}try{console.log("Verifying payment with reference:",v);const w=await ms.verify(v);if(console.log("Payment verification response:",w),w.success){if(r("success"),(w.data.type||(w.data.paystackData?(k=JSON.parse(w.data.paystackData).metadata)==null?void 0:k.type:null))==="marketplace_checkout")try{await _r.clear(),l("Payment verified successfully! Your order has been placed."),window.dispatchEvent(new CustomEvent("cartUpdated")),setTimeout(()=>{window.location.hash="#marketplace",window.scrollTo(0,0)},2e3)}catch(P){console.error("Failed to clear cart:",P),l("Payment verified successfully! Please clear your cart manually."),setTimeout(()=>{window.location.hash="#cart",window.scrollTo(0,0)},2e3)}else l("Payment verified successfully! Your wallet has been updated."),window.dispatchEvent(new CustomEvent("walletUpdated",{detail:w.data})),setTimeout(()=>{window.location.hash="#wallet",window.scrollTo(0,0)},2e3);u(w.data),window.history.replaceState({},document.title,window.location.pathname)}else r("error"),l(w.message||"Payment verification failed"),setTimeout(()=>{window.location.hash="#wallet",window.scrollTo(0,0)},2e3)}catch(w){console.error("Payment verification error:",w),r("error"),l(w.message||"Failed to verify payment. Please contact support."),setTimeout(()=>{window.location.hash="#wallet",window.scrollTo(0,0)},2e3)}})()},[]),t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-light-bg dark:bg-dark-bg p-4",children:t.jsxs("div",{className:"bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border rounded-lg shadow-2xl w-full max-w-md p-8 text-center",children:[n==="verifying"&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-brand-primary mx-auto mb-4"}),t.jsx("h2",{className:"text-2xl font-bold text-light-text-primary dark:text-dark-text-primary mb-2",children:"Verifying Payment"}),t.jsx("p",{className:"text-light-text-secondary dark:text-dark-text-secondary",children:s})]}),n==="success"&&t.jsxs(t.Fragment,{children:[t.jsx(Ae,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),t.jsx("h2",{className:"text-2xl font-bold text-green-500 mb-2",children:"Payment Successful!"}),t.jsx("p",{className:"text-light-text-secondary dark:text-dark-text-secondary mb-4",children:s}),d&&t.jsxs("div",{className:"bg-light-bg dark:bg-dark-bg rounded-lg p-4 mb-4 text-left",children:[t.jsxs("div",{className:"flex justify-between mb-2",children:[t.jsx("span",{className:"text-light-text-secondary dark:text-dark-text-secondary",children:"Amount:"}),t.jsxs("span",{className:"font-semibold",children:["",(f=d.amount)==null?void 0:f.toLocaleString()]})]}),t.jsxs("div",{className:"flex justify-between mb-2",children:[t.jsx("span",{className:"text-light-text-secondary dark:text-dark-text-secondary",children:"SWC Added:"}),t.jsxs("span",{className:"font-semibold text-brand-primary",children:[(p=d.swcAdded)==null?void 0:p.toFixed(2)," SWC"]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-light-text-secondary dark:text-dark-text-secondary",children:"New Balance:"}),t.jsxs("span",{className:"font-semibold",children:[(y=d.newBalance)==null?void 0:y.toFixed(2)," SWC"]})]})]}),t.jsx("p",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary",children:"Redirecting to wallet..."})]}),n==="error"&&t.jsxs(t.Fragment,{children:[t.jsx(Hn,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),t.jsx("h2",{className:"text-2xl font-bold text-red-500 mb-2",children:"Verification Failed"}),t.jsx("p",{className:"text-light-text-secondary dark:text-dark-text-secondary mb-4",children:s}),t.jsx("p",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary",children:"Redirecting to wallet..."})]}),t.jsx("button",{onClick:()=>{var b;((d==null?void 0:d.type)||(d!=null&&d.paystackData?(b=JSON.parse(d.paystackData).metadata)==null?void 0:b.type:null))==="marketplace_checkout"?window.location.hash="#marketplace":window.location.hash="#wallet",window.scrollTo(0,0)},className:"mt-6 w-full bg-brand-primary text-white py-2 rounded-lg hover:bg-brand-secondary transition-colors",children:(d==null?void 0:d.type)==="marketplace_checkout"?"Go to Marketplace":"Go to Wallet"})]})})},as=n=>n>=1e6?`${(n/1e6).toFixed(2)}M`:n>=1e3?`${(n/1e3).toFixed(0)}k`:`${n.toLocaleString()}`,lj=({currentUser:n,onCartUpdate:r})=>{const[s,l]=T.useState([]),[d,u]=T.useState(0),[f,p]=T.useState(!0),[y,x]=T.useState(null),[b,v]=T.useState(!1),[k,w]=T.useState(!1),[j,P]=T.useState(!1),[V,$]=T.useState({customerName:"",customerEmail:"",customerPhone:"",customerAddress:""}),{showSuccess:U,showError:D}=bt();T.useEffect(()=>{A()},[]);const A=async()=>{try{p(!0);const z=await _r.getAll();z.success&&(l(z.data.items||[]),u(z.data.total||0))}catch(z){console.error("Failed to load cart:",z),D("Failed to load cart items"),l([]),u(0)}finally{p(!1)}},I=async(z,re)=>{if(re<1){q(z);return}try{x(z);const ce=await _r.update(z,re);ce.success?(await A(),r&&r(),U("Cart updated")):D(ce.message||"Failed to update cart")}catch(ce){D(ce.message||"Failed to update cart")}finally{x(null)}},q=async z=>{try{x(z);const re=await _r.remove(z);re.success?(await A(),r&&r(),U("Item removed from cart")):D(re.message||"Failed to remove item")}catch(re){D(re.message||"Failed to remove item")}finally{x(null)}},M=async()=>{if(confirm("Are you sure you want to clear your cart?"))try{const z=await _r.clear();z.success?(await A(),r&&r(),U("Cart cleared")):D(z.message||"Failed to clear cart")}catch(z){D(z.message||"Failed to clear cart")}},ee=async()=>{if(s.length===0){D("Your cart is empty");return}try{w(!0);const z=await ms.initialize(d,{type:"marketplace_checkout",cartItems:s.map(re=>({productId:re.product.id,quantity:re.quantity,price:re.product.price}))});console.log("Payment initialization response:",z),z.success&&z.data&&z.data.authorizationUrl?(U("Redirecting to payment gateway..."),setTimeout(()=>{window.location.href=z.data.authorizationUrl},500)):(console.error("Payment initialization failed:",z),D(z.message||"Failed to initialize payment. Please try again."),w(!1))}catch(z){console.error("Payment initialization error:",z);const re=z.message||"";re.includes("Amount cannot be processed online")||re.includes("Watch your spending")||re.includes("amount limit")||re.includes("too large")?(P(!0),w(!1)):(D(z.message||"Failed to initialize payment. Please try again."),w(!1))}},F=async z=>{if(z.preventDefault(),!V.customerName||!V.customerEmail){D("Please fill in all required fields");return}try{w(!0);const re=await lg.createRequest({amount:d,cartItems:s.map(ce=>({productId:ce.product.id,quantity:ce.quantity,price:ce.product.price})),customerName:V.customerName,customerEmail:V.customerEmail,customerPhone:V.customerPhone||void 0,customerAddress:V.customerAddress||void 0});re.success?(U("Your request has been submitted! Our admin team will contact you shortly to process your transaction."),P(!1),$({customerName:"",customerEmail:"",customerPhone:"",customerAddress:""})):D(re.message||"Failed to submit request")}catch(re){D(re.message||"Failed to submit request")}finally{w(!1)}};return f?t.jsx("div",{className:"min-h-screen bg-light-bg dark:bg-dark-bg py-8 px-4",children:t.jsx("div",{className:"max-w-6xl mx-auto",children:t.jsxs("div",{className:"text-center py-20",children:[t.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-brand-primary"}),t.jsx("p",{className:"mt-4 text-light-text-secondary dark:text-dark-text-secondary",children:"Loading cart..."})]})})}):s.length===0?t.jsx("div",{className:"min-h-screen bg-light-bg dark:bg-dark-bg py-8 px-4",children:t.jsxs("div",{className:"max-w-6xl mx-auto",children:[t.jsx("h1",{className:"text-3xl font-bold text-light-text-primary dark:text-dark-text-primary mb-8",children:"Shopping Cart"}),t.jsxs("div",{className:"bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border rounded-lg p-12 text-center",children:[t.jsx(fs,{className:"w-24 h-24 mx-auto mb-4 text-light-text-secondary dark:text-dark-text-secondary opacity-50"}),t.jsx("h2",{className:"text-2xl font-bold text-light-text-primary dark:text-dark-text-primary mb-2",children:"Your cart is empty"}),t.jsx("p",{className:"text-light-text-secondary dark:text-dark-text-secondary mb-6",children:"Start adding items from the marketplace!"}),t.jsx("a",{href:"#marketplace",className:"inline-block bg-brand-primary text-white font-semibold px-6 py-3 rounded-lg hover:bg-brand-secondary transition-colors",children:"Browse Marketplace"})]})]})}):t.jsxs("div",{className:"min-h-screen bg-light-bg dark:bg-dark-bg py-8 px-4",children:[t.jsxs("div",{className:"max-w-6xl mx-auto",children:[t.jsxs("div",{className:"flex items-center justify-between mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-light-text-primary dark:text-dark-text-primary",children:"Shopping Cart"}),t.jsxs("button",{onClick:M,className:"text-red-500 hover:text-red-600 font-semibold flex items-center gap-2 transition-colors",children:[t.jsx(Tc,{className:"w-5 h-5"}),"Clear Cart"]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsx("div",{className:"lg:col-span-2 space-y-4",children:s.map(z=>t.jsxs("div",{className:"bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border rounded-lg p-4 flex gap-4",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx("img",{src:z.product.imageUrl||"https://images.unsplash.com/photo-1560472354-b33ff0c44a43?q=80&w=256",alt:z.product.name,className:"w-24 h-24 object-cover rounded-lg"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-start justify-between gap-4",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h3",{className:"font-bold text-light-text-primary dark:text-dark-text-primary truncate",children:z.product.name}),z.product.description&&t.jsx("p",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary mt-1 line-clamp-2",children:z.product.description}),z.product.user&&t.jsxs("p",{className:"text-xs text-light-text-secondary dark:text-dark-text-secondary mt-2",children:["Seller: ",z.product.user.fullName]}),t.jsx("p",{className:"text-xl font-bold text-brand-primary mt-2",children:as(z.product.price)})]}),t.jsx("button",{onClick:()=>q(z.product.id),disabled:y===z.product.id,className:"flex-shrink-0 text-light-text-secondary dark:text-dark-text-secondary hover:text-red-500 transition-colors disabled:opacity-50",children:t.jsx(Fc,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"flex items-center gap-3 mt-4",children:[t.jsx("span",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary",children:"Quantity:"}),t.jsxs("div",{className:"flex items-center gap-2 border border-light-border dark:border-dark-border rounded-lg",children:[t.jsx("button",{onClick:()=>I(z.product.id,z.quantity-1),disabled:y===z.product.id||z.quantity<=1,className:"p-2 hover:bg-light-bg dark:hover:bg-dark-bg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:t.jsx(Ev,{className:"w-4 h-4"})}),t.jsx("span",{className:"px-4 py-2 text-light-text-primary dark:text-dark-text-primary font-semibold min-w-[3rem] text-center",children:z.quantity}),t.jsx("button",{onClick:()=>I(z.product.id,z.quantity+1),disabled:y===z.product.id,className:"p-2 hover:bg-light-bg dark:hover:bg-dark-bg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:t.jsx(ig,{className:"w-4 h-4"})})]}),t.jsx("span",{className:"text-lg font-bold text-light-text-primary dark:text-dark-text-primary ml-auto",children:as(z.product.price*z.quantity)})]})]})]},z.id))}),t.jsx("div",{className:"lg:col-span-1",children:t.jsxs("div",{className:"bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border rounded-lg p-6 sticky top-4",children:[t.jsx("h2",{className:"text-xl font-bold text-light-text-primary dark:text-dark-text-primary mb-4",children:"Order Summary"}),t.jsxs("div",{className:"space-y-3 mb-6",children:[t.jsxs("div",{className:"flex justify-between text-light-text-secondary dark:text-dark-text-secondary",children:[t.jsxs("span",{children:["Subtotal (",s.reduce((z,re)=>z+re.quantity,0)," items)"]}),t.jsx("span",{children:as(d)})]}),t.jsxs("div",{className:"flex justify-between text-light-text-secondary dark:text-dark-text-secondary",children:[t.jsx("span",{children:"Shipping"}),t.jsx("span",{children:"To be calculated"})]}),t.jsxs("div",{className:"border-t border-light-border dark:border-dark-border pt-3 flex justify-between",children:[t.jsx("span",{className:"text-lg font-bold text-light-text-primary dark:text-dark-text-primary",children:"Total"}),t.jsx("span",{className:"text-lg font-bold text-brand-primary",children:as(d)})]})]}),t.jsx("button",{onClick:ee,disabled:k,className:"w-full bg-brand-primary text-white font-semibold py-3 rounded-lg hover:bg-brand-secondary transition-colors mb-4 disabled:bg-brand-secondary/50 disabled:cursor-not-allowed",children:k?"Processing...":"Proceed to Payment"}),t.jsx("a",{href:"#marketplace",className:"block text-center text-brand-primary hover:text-brand-secondary font-semibold transition-colors",children:"Continue Shopping"})]})})]})]}),j&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",children:t.jsxs("div",{className:"relative bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border rounded-lg shadow-2xl w-full max-w-md p-6 max-h-[90vh] overflow-y-auto",children:[t.jsx("button",{onClick:()=>P(!1),className:"absolute top-4 right-4 text-light-text-secondary dark:text-dark-text-secondary hover:text-light-text-primary dark:hover:text-dark-text-primary",children:t.jsx(je,{className:"w-6 h-6"})}),t.jsx("h2",{className:"text-2xl font-bold mb-4 text-light-text-primary dark:text-dark-text-primary",children:"Manual Processing Required"}),t.jsxs("p",{className:"text-light-text-secondary dark:text-dark-text-secondary mb-6",children:["This transaction amount (",as(d),") exceeds online payment limits. Please provide your details below and our admin team will contact you to process this transaction manually."]}),t.jsxs("form",{onSubmit:F,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-light-text-primary dark:text-dark-text-primary mb-2",children:["Full Name ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",value:V.customerName,onChange:z=>$({...V,customerName:z.target.value}),required:!0,className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-2 text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-brand-primary focus:outline-none",placeholder:"Enter your full name"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-light-text-primary dark:text-dark-text-primary mb-2",children:["Email Address ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"email",value:V.customerEmail,onChange:z=>$({...V,customerEmail:z.target.value}),required:!0,className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-2 text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-brand-primary focus:outline-none",placeholder:"Enter your email address"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-light-text-primary dark:text-dark-text-primary mb-2",children:"Phone Number"}),t.jsx("input",{type:"tel",value:V.customerPhone,onChange:z=>$({...V,customerPhone:z.target.value}),className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-2 text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-brand-primary focus:outline-none",placeholder:"Enter your phone number"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-light-text-primary dark:text-dark-text-primary mb-2",children:"Delivery Address"}),t.jsx("textarea",{value:V.customerAddress,onChange:z=>$({...V,customerAddress:z.target.value}),rows:3,className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-2 text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-brand-primary focus:outline-none",placeholder:"Enter your delivery address (if applicable)"})]}),t.jsxs("div",{className:"bg-light-bg dark:bg-dark-bg p-4 rounded-lg border border-light-border dark:border-dark-border",children:[t.jsx("p",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary mb-2",children:t.jsx("strong",{children:"Transaction Summary:"})}),t.jsxs("p",{className:"text-sm text-light-text-primary dark:text-dark-text-primary",children:["Total Amount: ",t.jsx("span",{className:"font-bold text-brand-primary",children:as(d)})]}),t.jsxs("p",{className:"text-sm text-light-text-primary dark:text-dark-text-primary",children:["Items: ",s.reduce((z,re)=>z+re.quantity,0)," item(s)"]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{type:"submit",disabled:k,className:"flex-1 bg-brand-primary text-white font-semibold py-3 rounded-lg hover:bg-brand-secondary transition-colors disabled:bg-brand-secondary/50 disabled:cursor-not-allowed",children:k?"Submitting...":"Submit Request"}),t.jsx("button",{type:"button",onClick:()=>P(!1),className:"px-4 py-3 bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border text-light-text-primary dark:text-dark-text-primary rounded-lg hover:bg-light-border dark:hover:bg-dark-border",children:"Cancel"})]})]})]})})]})},oj=({story:n,isActive:r,onNext:s,onPrevious:l,currentSlide:d,totalSlides:u})=>{const[f,p]=T.useState(!1),y=T.useRef(null),[x,b]=T.useState(0);T.useEffect(()=>{if(!r){b(0),p(!1);return}let k;return f&&(k=setInterval(()=>{b(w=>w>=100?(s(),0):w+.5)},100)),()=>{k&&clearInterval(k)}},[r,f,s]);const v=()=>{p(!f)};return t.jsxs("div",{className:`absolute inset-0 transition-opacity duration-500 ${r?"opacity-100 z-10":"opacity-0 z-0"}`,children:[t.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-black/20 z-20",children:t.jsx("div",{ref:y,className:"h-full bg-white transition-all duration-100",style:{width:`${x}%`}})}),t.jsxs("div",{className:"relative w-full h-full flex items-center justify-center bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900",children:[n.imageUrl&&t.jsxs("div",{className:"absolute inset-0",children:[t.jsx("img",{src:n.imageUrl,alt:n.title,className:"w-full h-full object-cover opacity-40",onError:k=>{k.target.style.display="none"}}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent"})]}),t.jsxs("div",{className:"relative z-10 w-full max-w-3xl px-4 sm:px-6 py-16 md:py-20 flex flex-col h-full",children:[t.jsxs("div",{className:"mb-4 sm:mb-6 flex items-center gap-3 text-white",children:[t.jsx("img",{src:n.author.avatarUrl||"https://via.placeholder.com/50",alt:n.author.name,className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full border-2 border-white object-cover",onError:k=>{k.target.src="https://via.placeholder.com/50"}}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("p",{className:"font-semibold text-sm sm:text-base truncate",children:n.author.name}),t.jsxs("p",{className:"text-xs sm:text-sm text-white/70 truncate",children:[n.category,"  ",n.readTime," min read"]})]})]}),t.jsxs("div",{className:"flex-1 min-h-0 overflow-y-auto pr-1 sm:pr-2 custom-scroll",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-bold mb-3 sm:mb-4 text-white",children:n.title}),t.jsx("p",{className:"text-sm sm:text-base md:text-lg text-white/90 leading-relaxed whitespace-pre-wrap break-words",children:n.content})]}),t.jsxs("div",{className:"mt-4 sm:mt-6 flex items-center gap-4 text-white",children:[t.jsx("button",{onClick:v,className:"p-3 bg-white/20 backdrop-blur-sm rounded-full hover:bg-white/30 transition-colors",children:f?t.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{d:"M6 4h4v16H6V4zm8 0h4v16h-4V4z"})}):t.jsx(cr,{className:"w-6 h-6 text-white"})}),t.jsx("span",{className:"text-white/70 text-sm",children:f?"Playing...":"Paused"})]})]}),t.jsx("button",{onClick:l,disabled:d===0,className:"absolute left-2 md:left-4 top-1/2 -translate-y-1/2 p-2 md:p-3 bg-black/10 hover:bg-black/20 backdrop-blur-md rounded-full transition-all disabled:opacity-20 disabled:cursor-not-allowed z-20 border border-white/20","aria-label":"Previous story",children:t.jsx(zn,{className:"w-5 h-5 md:w-6 md:h-6 text-white drop-shadow-lg"})}),t.jsx("button",{onClick:s,disabled:d===u-1,className:"absolute right-2 md:right-4 top-1/2 -translate-y-1/2 p-2 md:p-3 bg-black/10 hover:bg-black/20 backdrop-blur-md rounded-full transition-all disabled:opacity-20 disabled:cursor-not-allowed z-20 border border-white/20","aria-label":"Next story",children:t.jsx(Gn,{className:"w-5 h-5 md:w-6 md:h-6 text-white drop-shadow-lg"})}),t.jsx("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 flex gap-2 z-20",children:Array.from({length:u}).map((k,w)=>t.jsx("div",{className:`h-1 rounded-full transition-all ${w===d?"w-8 bg-white":"w-1 bg-white/50"}`},w))})]})]})},dj=({isAuthenticated:n,currentUser:r})=>{const[s,l]=T.useState([]),[d,u]=T.useState(!0),[f,p]=T.useState(0),[y,x]=T.useState(!1),[b,v]=T.useState(!1),[k,w]=T.useState(!1),[j,P]=T.useState({title:"",content:"",imageUrl:"",category:"General"}),[V,$]=T.useState(null),[U,D]=T.useState(null),A=T.useRef(null),I=T.useRef(null),{showSuccess:q,showError:M}=bt(),ee=()=>{p(C=>C<s.length-1?C+1:C)},F=()=>{p(C=>C>0?C-1:C)};T.useEffect(()=>{z()},[]);const z=async()=>{try{u(!0);const C=await Cc.getAll({limit:50});if(C.success&&C.data&&C.data.length>0){const H=C.data.map(X=>{var ie,pe,J,he,de,fe,be;return{id:X.id,title:X.title,content:X.content,imageUrl:X.imageUrl,videoUrl:X.videoUrl,author:{name:((ie=X.author)==null?void 0:ie.name)||((pe=X.user)==null?void 0:pe.fullName)||((he=(J=X.user)==null?void 0:J.email)==null?void 0:he.split("@")[0])||"Anonymous",avatarUrl:((de=X.author)==null?void 0:de.avatarUrl)||((fe=X.user)==null?void 0:fe.avatarUrl)||"https://via.placeholder.com/50"},category:X.category||"General",readTime:X.readTime||Math.max(1,Math.ceil((((be=X.content)==null?void 0:be.split(/\s+/))||[]).length/200))}});l(H)}else l([])}catch(C){console.error("Failed to load stories:",C),l([])}finally{u(!1)}},re=C=>{var ie;const H=(ie=C.target.files)==null?void 0:ie[0];if(!H)return;if(!H.type.startsWith("image/")){M("Please select an image file");return}if(H.size>5*1024*1024){M("Image size must be less than 5MB");return}$(H);const X=new FileReader;X.onloadend=()=>{D(X.result)},X.readAsDataURL(H)},ce=async C=>{var X,ie,pe;if(C.preventDefault(),!n){M("Please log in to share your story");return}if(!localStorage.getItem("authToken")){M("Please log in to share your story");return}if(!j.title.trim()||!j.content.trim()){M("Title and content are required");return}try{w(!0);let J=j.imageUrl;if(V)try{const de=await Fn.uploadImage(V,!0);if(de.success&&((X=de.data)!=null&&X.url))J=de.data.url;else{M(de.message||"Failed to upload image"),w(!1);return}}catch(de){console.error("Image upload error:",de),M(de.message||"Failed to upload image"),w(!1);return}const he=await Cc.create({title:j.title,content:j.content,imageUrl:J||void 0,category:j.category});he.success?(q("Story created successfully!"),v(!1),P({title:"",content:"",imageUrl:"",category:"General"}),$(null),D(null),A.current&&(A.current.value=""),z()):M(he.message||"Failed to create story")}catch(J){console.error("Create story error:",J),(ie=J.message)!=null&&ie.includes("token")||(pe=J.message)!=null&&pe.includes("Access token")?M("Your session has expired. Please log in again."):M(J.message||"Failed to create story")}finally{w(!1)}};T.useEffect(()=>{const C=H=>{H.key==="ArrowRight"?ee():H.key==="ArrowLeft"?F():H.key==="Escape"&&x(!1)};return window.addEventListener("keydown",C),()=>window.removeEventListener("keydown",C)},[f,s.length]);const[se,oe]=T.useState(null),[Y,_]=T.useState(null),W=50,Q=C=>{_(null),oe(C.targetTouches[0].clientX)},Z=C=>{_(C.targetTouches[0].clientX)},me=()=>{if(!se||!Y)return;const C=se-Y,H=C>W,X=C<-W;H?ee():X&&F()};return t.jsxs("div",{className:"min-h-screen bg-light-bg dark:bg-dark-bg",children:[t.jsxs("div",{className:"container mx-auto px-4 py-8",children:[t.jsxs("div",{className:"mb-8 flex items-center justify-between flex-wrap gap-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-4xl font-bold text-light-text-primary dark:text-dark-text-primary mb-2",children:"Global Tales"}),t.jsx("p",{className:"text-light-text-secondary dark:text-dark-text-secondary",children:"Real stories from real people in the real estate world"})]}),n&&t.jsxs("button",{onClick:()=>v(!0),className:"flex items-center gap-2 px-6 py-3 bg-brand-primary text-white rounded-lg hover:bg-brand-secondary transition-colors font-semibold",children:[t.jsx(ig,{className:"w-5 h-5"}),t.jsx("span",{children:"Share Your Story"})]})]}),d?t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-primary mx-auto"}),t.jsx("p",{className:"mt-4 text-light-text-secondary dark:text-dark-text-secondary",children:"Loading stories..."})]}):s.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx("p",{className:"text-light-text-secondary dark:text-dark-text-secondary mb-4",children:"No stories yet. Be the first to share your story!"}),n&&t.jsx("button",{onClick:()=>v(!0),className:"px-6 py-3 bg-brand-primary text-white rounded-lg hover:bg-brand-secondary transition-colors",children:"Share Your Story"})]}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:s.map((C,H)=>t.jsxs("div",{onClick:()=>{p(H),x(!0)},className:"bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border rounded-lg overflow-hidden cursor-pointer hover:shadow-lg transition-shadow",children:[C.imageUrl&&t.jsxs("div",{className:"relative h-48",children:[t.jsx("img",{src:C.imageUrl,alt:C.title,className:"w-full h-full object-cover",onError:X=>{X.target.style.display="none"}}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),t.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:t.jsx("span",{className:"text-xs bg-white/90 text-black px-2 py-1 rounded",children:C.category})})]}),t.jsxs("div",{className:"p-4",children:[t.jsx("h3",{className:"font-semibold text-light-text-primary dark:text-dark-text-primary mb-2",children:C.title}),t.jsx("p",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary line-clamp-2 mb-3",children:C.content}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("img",{src:C.author.avatarUrl||"https://via.placeholder.com/30",alt:C.author.name,onError:X=>{X.target.src="https://via.placeholder.com/30"},className:"w-6 h-6 rounded-full"}),t.jsx("span",{className:"text-xs text-light-text-secondary dark:text-dark-text-secondary",children:C.author.name})]}),t.jsxs("span",{className:"text-xs text-light-text-secondary dark:text-dark-text-secondary",children:[C.readTime," min"]})]})]})]},C.id))})]}),y&&t.jsxs("div",{ref:I,className:"fixed inset-0 z-50 bg-black",onTouchStart:Q,onTouchMove:Z,onTouchEnd:me,children:[t.jsx("button",{onClick:()=>x(!1),className:"absolute top-4 right-4 z-30 p-2 bg-white/20 backdrop-blur-sm rounded-full hover:bg-white/30 transition-colors",children:t.jsx(je,{className:"w-6 h-6 text-white"})}),t.jsx("div",{className:"relative w-full h-full",children:s.map((C,H)=>t.jsx(oj,{story:C,isActive:H===f,onNext:ee,onPrevious:F,currentSlide:f,totalSlides:s.length},C.id))})]}),b&&n&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",children:t.jsxs("div",{className:"relative bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border rounded-lg shadow-2xl w-full max-w-2xl p-6 max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h2",{className:"text-2xl font-bold text-light-text-primary dark:text-dark-text-primary",children:"Share Your Story"}),t.jsx("button",{onClick:()=>{v(!1),P({title:"",content:"",imageUrl:"",category:"General"})},className:"p-2 rounded-md hover:bg-light-border dark:hover:bg-dark-border",children:t.jsx(je,{className:"w-6 h-6 text-light-text-secondary dark:text-dark-text-secondary"})})]}),t.jsxs("form",{onSubmit:ce,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-light-text-primary dark:text-dark-text-primary mb-2",children:["Title ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",value:j.title,onChange:C=>P({...j,title:C.target.value}),placeholder:"Give your story a compelling title",className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-2 text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-brand-primary focus:outline-none",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-light-text-primary dark:text-dark-text-primary mb-2",children:"Category"}),t.jsxs("select",{value:j.category,onChange:C=>P({...j,category:C.target.value}),className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-2 text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-brand-primary focus:outline-none",children:[t.jsx("option",{value:"General",children:"General"}),t.jsx("option",{value:"Tenant Stories",children:"Tenant Stories"}),t.jsx("option",{value:"Success Stories",children:"Success Stories"}),t.jsx("option",{value:"Agent Stories",children:"Agent Stories"}),t.jsx("option",{value:"Investment",children:"Investment"}),t.jsx("option",{value:"Community",children:"Community"})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-light-text-primary dark:text-dark-text-primary mb-2",children:["Your Story ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("textarea",{value:j.content,onChange:C=>P({...j,content:C.target.value}),placeholder:"Share your real estate experience, tips, or journey...",rows:8,className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-2 text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-brand-primary focus:outline-none resize-y",required:!0}),t.jsxs("p",{className:"text-xs text-light-text-secondary dark:text-dark-text-secondary mt-1",children:[j.content.split(/\s+/).length," words (approximately ",Math.max(1,Math.ceil(j.content.split(/\s+/).length/200))," min read)"]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-light-text-primary dark:text-dark-text-primary mb-2",children:"Story Image (optional)"}),t.jsx("input",{ref:A,type:"file",accept:"image/*",onChange:re,className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-2 text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-brand-primary focus:outline-none file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-brand-primary file:text-white hover:file:bg-brand-secondary"}),t.jsx("p",{className:"text-xs text-light-text-secondary dark:text-dark-text-secondary mt-1",children:"Max size: 5MB | Formats: JPG, PNG, GIF, WebP"}),U&&t.jsx("div",{className:"mt-3 rounded-lg overflow-hidden border border-light-border dark:border-dark-border",children:t.jsx("img",{src:U,alt:"Preview",className:"w-full max-h-48 object-cover"})})]}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("button",{type:"button",onClick:()=>{v(!1),P({title:"",content:"",imageUrl:"",category:"General"}),$(null),D(null),A.current&&(A.current.value="")},className:"flex-1 px-4 py-2 bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border text-light-text-primary dark:text-dark-text-primary rounded-lg hover:bg-light-border dark:hover:bg-dark-border transition-colors",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:k||!j.title.trim()||!j.content.trim(),className:"flex-1 px-4 py-2 bg-brand-primary text-white rounded-lg hover:bg-brand-secondary disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-semibold flex items-center justify-center gap-2",children:k?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),t.jsx("span",{children:"Publishing..."})]}):t.jsxs(t.Fragment,{children:[t.jsx(wi,{className:"w-5 h-5"}),t.jsx("span",{children:"Publish Story"})]})})]})]})]})})]})},cj=({onClose:n})=>t.jsxs("div",{className:"min-h-screen bg-light-bg dark:bg-dark-bg",children:[t.jsx("div",{className:"sticky top-0 z-10 bg-light-card/95 dark:bg-dark-card/95 backdrop-blur-sm border-b border-light-border dark:border-dark-border lg:hidden",children:t.jsxs("div",{className:"container mx-auto px-4 py-3 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(yr,{className:"h-6 w-6 text-brand-primary"}),t.jsx("h1",{className:"text-lg font-bold text-light-text-primary dark:text-dark-text-primary",children:"About Us"})]}),n&&t.jsx("button",{onClick:n,className:"p-2 rounded-full hover:bg-light-border dark:hover:bg-dark-border text-light-text-secondary dark:text-dark-text-secondary","aria-label":"Close",children:t.jsx(je,{className:"w-5 h-5"})})]})}),t.jsxs("div",{className:"container mx-auto px-4 py-6 md:py-12 max-w-4xl",children:[t.jsxs("div",{className:"hidden lg:flex items-center gap-4 mb-8",children:[t.jsx(yr,{className:"h-12 w-12 text-brand-primary"}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-4xl font-bold text-light-text-primary dark:text-dark-text-primary",children:"About ShelTrify"}),t.jsx("p",{className:"text-light-text-secondary dark:text-dark-text-secondary mt-1",children:"First global one-stop superstore real estate ecosystem"})]})]}),t.jsxs("div",{className:"lg:hidden mb-6 text-center",children:[t.jsx(yr,{className:"h-10 w-10 text-brand-primary mx-auto mb-3"}),t.jsx("h1",{className:"text-2xl font-bold text-light-text-primary dark:text-dark-text-primary mb-1",children:"About ShelTrify"}),t.jsx("p",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary",children:"First global one-stop superstore real estate ecosystem"})]}),t.jsx("div",{className:"bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border rounded-lg p-6 md:p-8 shadow-lg",children:t.jsxs("div",{className:"prose prose-lg dark:prose-invert max-w-none",children:[t.jsxs("section",{className:"mb-8",children:[t.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-light-text-primary dark:text-dark-text-primary mb-4",children:"Our Mission"}),t.jsx("p",{className:"text-base md:text-lg text-light-text-secondary dark:text-dark-text-secondary leading-relaxed mb-4",children:"ShelTrify is a pioneering real estate technology company dedicated to creating a seamless, intelligent, and secure rental ecosystem. Our mission is to eliminate the friction and uncertainty of finding a home by leveraging advanced AI."}),t.jsx("p",{className:"text-base md:text-lg text-light-text-secondary dark:text-dark-text-secondary leading-relaxed",children:"We provide users with a personalized AI assistant, verified listings, and a suite of tools that cover every aspect of the rental journey, from discovery to payment."})]}),t.jsxs("section",{className:"mb-8",children:[t.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-light-text-primary dark:text-dark-text-primary mb-4",children:"What We Offer"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6",children:[t.jsxs("div",{className:"bg-light-bg dark:bg-dark-bg p-4 md:p-6 rounded-lg border border-light-border dark:border-dark-border",children:[t.jsx("h3",{className:"text-xl font-semibold text-light-text-primary dark:text-dark-text-primary mb-2",children:" AI-Powered Search"}),t.jsx("p",{className:"text-sm md:text-base text-light-text-secondary dark:text-dark-text-secondary",children:"Our intelligent assistant helps you find the perfect property based on your preferences, budget, and lifestyle."})]}),t.jsxs("div",{className:"bg-light-bg dark:bg-dark-bg p-4 md:p-6 rounded-lg border border-light-border dark:border-dark-border",children:[t.jsx("h3",{className:"text-xl font-semibold text-light-text-primary dark:text-dark-text-primary mb-2",children:" Verified Listings"}),t.jsx("p",{className:"text-sm md:text-base text-light-text-secondary dark:text-dark-text-secondary",children:"Every property is verified to ensure authenticity and quality, giving you peace of mind."})]}),t.jsxs("div",{className:"bg-light-bg dark:bg-dark-bg p-4 md:p-6 rounded-lg border border-light-border dark:border-dark-border",children:[t.jsx("h3",{className:"text-xl font-semibold text-light-text-primary dark:text-dark-text-primary mb-2",children:" Secure Payments"}),t.jsx("p",{className:"text-sm md:text-base text-light-text-secondary dark:text-dark-text-secondary",children:"Integrated payment system with escrow services to protect both tenants and landlords."})]}),t.jsxs("div",{className:"bg-light-bg dark:bg-dark-bg p-4 md:p-6 rounded-lg border border-light-border dark:border-dark-border",children:[t.jsx("h3",{className:"text-xl font-semibold text-light-text-primary dark:text-dark-text-primary mb-2",children:" Community Forum"}),t.jsx("p",{className:"text-sm md:text-base text-light-text-secondary dark:text-dark-text-secondary",children:"Connect with other users, share experiences, and get advice from the community."})]})]})]}),t.jsxs("section",{className:"mb-8",children:[t.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-light-text-primary dark:text-dark-text-primary mb-4",children:"Our Vision"}),t.jsx("p",{className:"text-base md:text-lg text-light-text-secondary dark:text-dark-text-secondary leading-relaxed",children:"To become the world's most trusted and comprehensive real estate platform, where finding a home is as simple as having a conversation. We envision a future where technology bridges the gap between property seekers and providers, making real estate transactions transparent, efficient, and accessible to everyone."})]}),t.jsxs("section",{children:[t.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-light-text-primary dark:text-dark-text-primary mb-4",children:"Why Choose ShelTrify?"}),t.jsxs("ul",{className:"space-y-3 text-base md:text-lg text-light-text-secondary dark:text-dark-text-secondary",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-brand-primary font-bold mt-1",children:""}),t.jsx("span",{children:"AI-driven property matching that understands your needs"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-brand-primary font-bold mt-1",children:""}),t.jsx("span",{children:"Comprehensive marketplace for all your home needs"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-brand-primary font-bold mt-1",children:""}),t.jsx("span",{children:"Secure payment processing with escrow protection"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-brand-primary font-bold mt-1",children:""}),t.jsx("span",{children:"Active community of real estate enthusiasts"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-brand-primary font-bold mt-1",children:""}),t.jsx("span",{children:"Mobile-first design for on-the-go access"})]})]})]})]})}),t.jsxs("div",{className:"mt-8 text-center",children:[t.jsx("p",{className:"text-base md:text-lg text-light-text-secondary dark:text-dark-text-secondary mb-4",children:"Ready to find your perfect home?"}),t.jsx("button",{onClick:n,className:"px-6 py-3 bg-brand-primary text-white rounded-lg hover:bg-brand-secondary transition-colors font-semibold text-base md:text-lg",children:"Get Started"})]})]})]}),uj=({onClose:n})=>{const[r,s]=T.useState({name:"",email:"",subject:"",message:""}),[l,d]=T.useState(!1),[u,f]=T.useState("idle"),p=async y=>{y.preventDefault(),d(!0),f("idle");try{(await fetch("https://sheltrify.vercel.app/api/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:r.name,email:r.email,subject:r.subject,message:r.message})})).ok?(f("success"),s({name:"",email:"",subject:"",message:""}),setTimeout(()=>f("idle"),3e3)):f("error")}catch(x){console.error("Contact form error:",x),f("error")}finally{d(!1)}};return t.jsxs("div",{className:"min-h-screen bg-light-bg dark:bg-dark-bg",children:[t.jsx("div",{className:"sticky top-0 z-10 bg-light-card/95 dark:bg-dark-card/95 backdrop-blur-sm border-b border-light-border dark:border-dark-border lg:hidden",children:t.jsxs("div",{className:"container mx-auto px-4 py-3 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(yr,{className:"h-6 w-6 text-brand-primary"}),t.jsx("h1",{className:"text-lg font-bold text-light-text-primary dark:text-dark-text-primary",children:"Contact Us"})]}),n&&t.jsx("button",{onClick:n,className:"p-2 rounded-full hover:bg-light-border dark:hover:bg-dark-border text-light-text-secondary dark:text-dark-text-secondary","aria-label":"Close",children:t.jsx(je,{className:"w-5 h-5"})})]})}),t.jsxs("div",{className:"container mx-auto px-4 py-6 md:py-12 max-w-4xl",children:[t.jsxs("div",{className:"hidden lg:flex items-center gap-4 mb-8",children:[t.jsx(yr,{className:"h-12 w-12 text-brand-primary"}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-4xl font-bold text-light-text-primary dark:text-dark-text-primary",children:"Contact Us"}),t.jsx("p",{className:"text-light-text-secondary dark:text-dark-text-secondary mt-1",children:"We're here to help!"})]})]}),t.jsxs("div",{className:"lg:hidden mb-6 text-center",children:[t.jsx(yr,{className:"h-10 w-10 text-brand-primary mx-auto mb-3"}),t.jsx("h1",{className:"text-2xl font-bold text-light-text-primary dark:text-dark-text-primary mb-1",children:"Contact Us"}),t.jsx("p",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary",children:"We're here to help!"})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 md:gap-8",children:[t.jsxs("div",{className:"space-y-4 md:space-y-6",children:[t.jsxs("div",{className:"bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border rounded-lg p-4 md:p-6",children:[t.jsx("h2",{className:"text-xl md:text-2xl font-bold text-light-text-primary dark:text-dark-text-primary mb-4 md:mb-6",children:"Get in Touch"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"flex-shrink-0 p-2 md:p-3 bg-brand-primary/10 dark:bg-brand-primary/20 rounded-lg",children:t.jsx(zx,{className:"w-5 h-5 md:w-6 md:h-6 text-brand-primary"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-light-text-primary dark:text-dark-text-primary mb-1 text-sm md:text-base",children:"Email"}),t.jsx("a",{href:"mailto:support@sheltrify.com",className:"text-brand-primary hover:underline break-all text-sm md:text-base",children:"support@sheltrify.com"}),t.jsx("p",{className:"text-xs md:text-sm text-light-text-secondary dark:text-dark-text-secondary mt-1",children:"General Support"})]})]}),t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"flex-shrink-0 p-2 md:p-3 bg-brand-primary/10 dark:bg-brand-primary/20 rounded-lg",children:t.jsx(Vc,{className:"w-5 h-5 md:w-6 md:h-6 text-brand-primary"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-light-text-primary dark:text-dark-text-primary mb-1 text-sm md:text-base",children:"Phone"}),t.jsx("a",{href:"tel:+2348081793776",className:"text-brand-primary hover:underline text-sm md:text-base",children:"+234 808 179 3776"}),t.jsx("p",{className:"text-xs md:text-sm text-light-text-secondary dark:text-dark-text-secondary mt-1",children:"Available 24/7"})]})]}),t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"flex-shrink-0 p-2 md:p-3 bg-brand-primary/10 dark:bg-brand-primary/20 rounded-lg",children:t.jsx($l,{className:"w-5 h-5 md:w-6 md:h-6 text-brand-primary"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-light-text-primary dark:text-dark-text-primary mb-1 text-sm md:text-base",children:"Address"}),t.jsx("p",{className:"text-light-text-secondary dark:text-dark-text-secondary text-sm md:text-base",children:"MAKURDI, BENUE STATE NIGERIA"})]})]})]})]}),t.jsxs("div",{className:"bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border rounded-lg p-4 md:p-6",children:[t.jsx("h3",{className:"font-semibold text-light-text-primary dark:text-dark-text-primary mb-3 text-base md:text-lg",children:"Other Contact Channels"}),t.jsxs("div",{className:"space-y-2 text-sm md:text-base text-light-text-secondary dark:text-dark-text-secondary",children:[t.jsxs("p",{children:[t.jsx("strong",{className:"text-light-text-primary dark:text-dark-text-primary",children:"Partnerships:"})," ",t.jsx("a",{href:"mailto:partnerships@sheltrify.com",className:"text-brand-primary hover:underline",children:"partnerships@sheltrify.com"})]}),t.jsxs("p",{children:[t.jsx("strong",{className:"text-light-text-primary dark:text-dark-text-primary",children:"Feedback:"})," ",t.jsx("a",{href:"mailto:feedback@sheltrify.com",className:"text-brand-primary hover:underline",children:"feedback@sheltrify.com"})]})]})]})]}),t.jsxs("div",{className:"bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border rounded-lg p-4 md:p-6",children:[t.jsx("h2",{className:"text-xl md:text-2xl font-bold text-light-text-primary dark:text-dark-text-primary mb-4 md:mb-6",children:"Send us a Message"}),t.jsxs("form",{onSubmit:p,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary mb-1",children:"Name *"}),t.jsx("input",{type:"text",required:!0,value:r.name,onChange:y=>s({...r,name:y.target.value}),className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-2 md:py-3 text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-brand-primary focus:outline-none text-sm md:text-base",placeholder:"Your name"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary mb-1",children:"Email *"}),t.jsx("input",{type:"email",required:!0,value:r.email,onChange:y=>s({...r,email:y.target.value}),className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-2 md:py-3 text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-brand-primary focus:outline-none text-sm md:text-base",placeholder:"your@email.com"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary mb-1",children:"Subject *"}),t.jsx("input",{type:"text",required:!0,value:r.subject,onChange:y=>s({...r,subject:y.target.value}),className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-2 md:py-3 text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-brand-primary focus:outline-none text-sm md:text-base",placeholder:"What's this about?"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary mb-1",children:"Message *"}),t.jsx("textarea",{required:!0,value:r.message,onChange:y=>s({...r,message:y.target.value}),rows:5,className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-2 md:py-3 text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-brand-primary focus:outline-none resize-none text-sm md:text-base",placeholder:"Tell us how we can help..."})]}),u==="success"&&t.jsx("div",{className:"p-3 bg-green-500/10 text-green-500 rounded-lg text-sm",children:"Message sent successfully! We'll get back to you soon."}),u==="error"&&t.jsx("div",{className:"p-3 bg-red-500/10 text-red-500 rounded-lg text-sm",children:"Failed to send message. Please try again."}),t.jsx("button",{type:"submit",disabled:l,className:"w-full bg-brand-primary text-white rounded-lg py-2 md:py-3 font-semibold hover:bg-brand-secondary transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-sm md:text-base",children:l?"Sending...":"Send Message"})]})]})]})]})]})},mj=({onClose:n,onPremiumUpgrade:r})=>{const[s,l]=T.useState(!1),[d,u]=T.useState("Card"),[f,p]=T.useState(!1),[y,x]=T.useState(!1),[b,v]=T.useState(null),{showSuccess:k,showError:w}=bt(),j=[{icon:t.jsx(ur,{className:"w-6 h-6"}),title:"Priority Property Alerts",description:"Be the first to know about new listings that match your preferences. Get instant notifications before properties go public."},{icon:t.jsx(br,{className:"w-6 h-6"}),title:"Advanced Search Filters",description:"Access exclusive filters including price history, neighborhood insights, and property analytics to make informed decisions."},{icon:t.jsx(ki,{className:"w-6 h-6"}),title:"Direct Landlord Contact",description:"Skip the wait and contact landlords directly. Get verified contact information for faster communication."},{icon:t.jsx(Sc,{className:"w-6 h-6"}),title:"Property Price Drop Notifications",description:"Get alerts when properties you're interested in reduce their prices. Never miss a great deal."},{icon:t.jsx(br,{className:"w-6 h-6"}),title:"Exclusive Listings Access",description:"Access premium-only listings that aren't available to free users. Find hidden gems in the market."},{icon:t.jsx(ur,{className:"w-6 h-6"}),title:"Dedicated Support",description:"Get priority customer support with faster response times and dedicated assistance for your property search."}];return t.jsxs("div",{className:"min-h-screen bg-light-bg dark:bg-dark-bg",children:[t.jsx("div",{className:"sticky top-0 z-10 bg-light-card/95 dark:bg-dark-card/95 backdrop-blur-sm border-b border-light-border dark:border-dark-border lg:hidden",children:t.jsxs("div",{className:"container mx-auto px-4 py-3 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(yr,{className:"h-6 w-6 text-brand-primary"}),t.jsx("h1",{className:"text-lg font-bold text-light-text-primary dark:text-dark-text-primary",children:"Premium Service"})]}),n&&t.jsx("button",{onClick:n,className:"p-2 rounded-full hover:bg-light-border dark:hover:bg-dark-border text-light-text-secondary dark:text-dark-text-secondary","aria-label":"Close",children:t.jsx(je,{className:"w-5 h-5"})})]})}),t.jsxs("div",{className:"container mx-auto px-4 py-6 md:py-12 max-w-5xl",children:[t.jsxs("div",{className:"text-center mb-8 md:mb-12",children:[t.jsxs("div",{className:"hidden lg:flex items-center justify-center gap-4 mb-6",children:[t.jsx(yr,{className:"h-16 w-16 text-brand-primary"}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-light-text-primary dark:text-dark-text-primary",children:" Premium Service"}),t.jsx("p",{className:"text-lg md:text-xl text-light-text-secondary dark:text-dark-text-secondary mt-2",children:"Unlock the ultimate rental advantage"})]})]}),t.jsxs("div",{className:"lg:hidden mb-6",children:[t.jsx(yr,{className:"h-12 w-12 text-brand-primary mx-auto mb-3"}),t.jsx("h1",{className:"text-3xl font-bold text-light-text-primary dark:text-dark-text-primary mb-2",children:" Premium Service"}),t.jsx("p",{className:"text-base text-light-text-secondary dark:text-dark-text-secondary",children:"Unlock the ultimate rental advantage"})]})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6 mb-8 md:mb-12",children:j.map((P,V)=>t.jsxs("div",{className:"bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border rounded-lg p-4 md:p-6 hover:shadow-lg transition-shadow",children:[t.jsx("div",{className:"text-brand-primary mb-3 md:mb-4",children:P.icon}),t.jsx("h3",{className:"text-lg md:text-xl font-semibold text-light-text-primary dark:text-dark-text-primary mb-2 md:mb-3",children:P.title}),t.jsx("p",{className:"text-sm md:text-base text-light-text-secondary dark:text-dark-text-secondary leading-relaxed",children:P.description})]},V))}),t.jsx("div",{className:"bg-gradient-to-br from-brand-primary/10 to-brand-secondary/10 dark:from-brand-primary/20 dark:to-brand-secondary/20 border border-brand-primary/20 rounded-lg p-6 md:p-8 mb-8",children:t.jsxs("div",{className:"text-center",children:[t.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-light-text-primary dark:text-dark-text-primary mb-4",children:"Simple, Transparent Pricing"}),t.jsx("div",{className:"flex flex-col md:flex-row items-center justify-center gap-4 md:gap-8",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-4xl md:text-5xl font-bold text-brand-primary mb-2",children:"$10 USD"}),t.jsx("div",{className:"text-sm md:text-base text-light-text-secondary dark:text-dark-text-secondary",children:"per month"})]})})]})}),t.jsxs("div",{className:"bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border rounded-lg p-6 md:p-8 text-center",children:[t.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-light-text-primary dark:text-dark-text-primary mb-4",children:"Ready to Upgrade?"}),t.jsx("p",{className:"text-base md:text-lg text-light-text-secondary dark:text-dark-text-secondary mb-6 md:mb-8 max-w-2xl mx-auto",children:"Join thousands of satisfied users who have found their perfect home faster with Premium. Upgrade now for just $10 USD/month!"}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[t.jsx("button",{onClick:()=>l(!0),className:"px-6 md:px-8 py-3 md:py-4 bg-brand-primary text-white rounded-lg hover:bg-brand-secondary transition-colors font-semibold text-base md:text-lg",children:"Upgrade to Premium"}),t.jsx("button",{onClick:n,className:"px-6 md:px-8 py-3 md:py-4 bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border text-light-text-primary dark:text-dark-text-primary rounded-lg hover:bg-light-border dark:hover:bg-dark-border transition-colors font-semibold text-base md:text-lg",children:"Learn More"})]})]}),t.jsxs("div",{className:"mt-8 md:mt-12",children:[t.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-light-text-primary dark:text-dark-text-primary mb-6 text-center",children:"Frequently Asked Questions"}),t.jsxs("div",{className:"space-y-4 max-w-3xl mx-auto",children:[t.jsxs("div",{className:"bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border rounded-lg p-4 md:p-6",children:[t.jsx("h3",{className:"font-semibold text-light-text-primary dark:text-dark-text-primary mb-2 text-base md:text-lg",children:"Can I cancel anytime?"}),t.jsx("p",{className:"text-sm md:text-base text-light-text-secondary dark:text-dark-text-secondary",children:"Yes, you can cancel your Premium subscription at any time. Your access will continue until the end of your billing period."})]}),t.jsxs("div",{className:"bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border rounded-lg p-4 md:p-6",children:[t.jsx("h3",{className:"font-semibold text-light-text-primary dark:text-dark-text-primary mb-2 text-base md:text-lg",children:"Is there a free trial?"}),t.jsx("p",{className:"text-sm md:text-base text-light-text-secondary dark:text-dark-text-secondary",children:"Premium is 2,000 per month. You can cancel anytime and your access will continue until the end of your billing period."})]}),t.jsxs("div",{className:"bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border rounded-lg p-4 md:p-6",children:[t.jsx("h3",{className:"font-semibold text-light-text-primary dark:text-dark-text-primary mb-2 text-base md:text-lg",children:"What payment methods do you accept?"}),t.jsx("p",{className:"text-sm md:text-base text-light-text-secondary dark:text-dark-text-secondary",children:"We accept all major credit/debit cards, bank transfers, and payments through the ShelTrify Wallet."})]})]})]})]}),s&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60",children:t.jsxs("div",{className:"relative bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border rounded-lg shadow-2xl w-full max-w-md p-8 text-light-text-primary dark:text-dark-text-primary",children:[t.jsx("button",{onClick:()=>l(!1),className:"absolute top-4 right-4 text-light-text-secondary dark:text-dark-text-secondary hover:text-light-text-primary dark:hover:text-dark-text-primary",children:t.jsx(je,{className:"w-6 h-6"})}),y?t.jsxs("div",{className:"text-center py-8",children:[t.jsx(Ae,{className:"w-16 h-16 text-green-500 mx-auto animate-bounce"}),t.jsx("h3",{className:"text-xl font-bold mt-4",children:"Payment Successful!"}),t.jsx("p",{className:"text-light-text-secondary dark:text-dark-text-secondary mt-1",children:"Your premium access is now active for 1 month."})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"text-center mb-6",children:[t.jsx(br,{className:"w-12 h-12 mx-auto text-yellow-400 p-2 bg-yellow-400/10 rounded-full"}),t.jsx("h2",{className:"text-2xl font-bold mt-3",children:"Upgrade to Premium"}),t.jsx("p",{className:"text-light-text-secondary dark:text-dark-text-secondary mt-1",children:"Get priority access and exclusive features."})]}),t.jsxs("div",{className:"mb-6 bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border p-4 rounded-lg text-center",children:[t.jsxs("p",{className:"text-3xl font-bold",children:["$10 USD",t.jsx("span",{className:"text-base font-medium text-light-text-secondary dark:text-dark-text-secondary",children:"/month"})]}),t.jsx("p",{className:"text-xs text-light-text-secondary dark:text-dark-text-secondary mt-1",children:"Billed monthly. Cancel anytime."}),t.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-2",children:[t.jsxs("button",{onClick:()=>u("Card"),className:`w-full flex items-center justify-center gap-2 font-semibold py-2.5 rounded-md transition-colors ${d==="Card"?"bg-brand-primary text-white":"bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border text-light-text-primary dark:text-dark-text-primary"}`,children:[t.jsx(Zl,{className:"w-4 h-4"})," Card"]}),t.jsxs("button",{onClick:()=>u("Transfer"),className:`w-full flex items-center justify-center gap-2 font-semibold py-2.5 rounded-md transition-colors ${d==="Transfer"?"bg-brand-primary text-white":"bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border text-light-text-primary dark:text-dark-text-primary"}`,children:[t.jsx(fa,{className:"w-4 h-4"})," Transfer"]})]})]}),d==="Card"&&t.jsxs("form",{onSubmit:async P=>{P.preventDefault(),p(!0),v(null);try{const V=await ls.upgradePremium();if(V.success)x(!0),k("Premium upgrade successful!"),setTimeout(()=>{l(!1),r&&r()},2e3);else throw new Error(V.message||"Payment failed")}catch(V){v(V.message||"Failed to process payment"),p(!1)}},className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Card Number"}),t.jsx("input",{type:"text",placeholder:"0000 0000 0000 0000",required:!0,className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-2 focus:ring-2 focus:ring-brand-primary focus:outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Card Holder Name"}),t.jsx("input",{type:"text",placeholder:"John Doe",required:!0,className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-2 focus:ring-2 focus:ring-brand-primary focus:outline-none"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Expiry Date"}),t.jsx("input",{type:"text",placeholder:"MM/YY",required:!0,className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-2 focus:ring-2 focus:ring-brand-primary focus:outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"CVV"}),t.jsx("input",{type:"text",placeholder:"123",required:!0,className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-2 focus:ring-2 focus:ring-brand-primary focus:outline-none"})]})]}),b&&t.jsx("div",{className:"p-3 bg-red-500/10 text-red-500 rounded-lg text-sm",children:b}),t.jsx("button",{type:"submit",disabled:f,className:"w-full mt-6 bg-brand-primary text-white rounded-lg py-3 font-bold hover:bg-brand-secondary transition-all flex items-center justify-center disabled:bg-brand-secondary",children:f?"Processing...":"Pay $10 USD Now"})]}),d==="Transfer"&&t.jsxs("div",{children:[t.jsxs("div",{className:"p-4 bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg space-y-2 text-sm mb-4",children:[t.jsx("p",{className:"font-semibold",children:"Bank Transfer Details"}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Bank:"})," ",t.jsx("strong",{children:"ShelTrify Bank PLC"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Account Number:"})," ",t.jsx("strong",{children:"0123456789"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Account Name:"})," ",t.jsx("strong",{children:"ShelTrify Technologies"})]}),t.jsx("p",{className:"text-xs text-light-text-secondary dark:text-dark-text-secondary pt-2",children:"Please use your email as payment reference. Your account will be upgraded upon confirmation."})]}),b&&t.jsx("div",{className:"p-3 bg-red-500/10 text-red-500 rounded-lg text-sm mb-4",children:b}),t.jsx("button",{onClick:async()=>{p(!0),v(null);try{const P=await ls.upgradePremium();if(P.success)x(!0),k("Premium upgrade successful!"),setTimeout(()=>{l(!1),r&&r()},2e3);else throw new Error(P.message||"Payment failed")}catch(P){v(P.message||"Failed to process payment"),p(!1)}},disabled:f,className:"w-full bg-brand-primary text-white rounded-lg py-3 font-bold hover:bg-brand-secondary transition-all flex items-center justify-center disabled:bg-brand-secondary",children:f?"Processing...":"Confirm Payment"})]})]})]})})]})},fj=({onClose:n,currentUser:r,onUserUpdate:s})=>{const[l,d]=T.useState(!1),[u,f]=T.useState(!1),[p,y]=T.useState({fullName:(r==null?void 0:r.fullName)||"",phone:(r==null?void 0:r.phone)||"",email:(r==null?void 0:r.email)||"",avatarUrl:(r==null?void 0:r.avatarUrl)||""}),[x,b]=T.useState((r==null?void 0:r.avatarUrl)||""),v=T.useRef(null),{showSuccess:k,showError:w}=bt(),[j,P]=T.useState(null),[V,$]=T.useState((r==null?void 0:r.verificationPhotoUrl)||null),[U,D]=T.useState(null),[A,I]=T.useState((r==null?void 0:r.verificationIdUrl)||null),[q,M]=T.useState((r==null?void 0:r.verificationIdType)||"NIN"),[ee,F]=T.useState(!1),z=T.useRef(null),re=T.useRef(null),ce=(r==null?void 0:r.role)==="LANDLORD"||(r==null?void 0:r.role)==="AGENT";T.useEffect(()=>{r&&(y({fullName:r.fullName||"",phone:r.phone||"",email:r.email||"",avatarUrl:r.avatarUrl||""}),b(r.avatarUrl||""),$(r.verificationPhotoUrl||null),I(r.verificationIdUrl||null),M(r.verificationIdType||"NIN"))},[r]);const se=async Q=>{var me,C;const Z=(me=Q.target.files)==null?void 0:me[0];if(Z){if(!Z.type.startsWith("image/")){w("Please select an image file");return}if(Z.size>5*1024*1024){w("Image size must be less than 5MB");return}try{f(!0);const H=new FileReader;H.onloadend=()=>{b(H.result)},H.readAsDataURL(Z);const X=await Fn.uploadImage(Z,!0);if(X.success&&((C=X.data)!=null&&C.url)){const ie=X.data.url;y(pe=>({...pe,avatarUrl:ie})),b(ie),k("Image uploaded! Click Save to update your profile.")}else w(X.message||"Failed to upload image")}catch(H){console.error("Upload error:",H),w(H.message||"Failed to upload image")}finally{f(!1)}}},oe=async()=>{if(!p.fullName.trim()){w("Full name is required");return}try{d(!0);const Q=await ls.updateProfile({fullName:p.fullName,phone:p.phone||void 0,avatarUrl:p.avatarUrl||void 0});Q.success?(k("Profile updated successfully!"),s&&s(Q.data),n&&setTimeout(()=>n(),1e3)):w(Q.message||"Failed to update profile")}catch(Q){console.error("Update profile error:",Q),w(Q.message||"Failed to update profile")}finally{d(!1)}},Y=async Q=>{var me,C;const Z=(me=Q.target.files)==null?void 0:me[0];if(Z){if(!Z.type.startsWith("image/")){w("Please select an image file");return}if(Z.size>5*1024*1024){w("Image size must be less than 5MB");return}try{f(!0);const H=new FileReader;H.onloadend=()=>{$(H.result)},H.readAsDataURL(Z);const X=await Fn.uploadImage(Z,!0);X.success&&((C=X.data)!=null&&C.url)?(P(Z),$(X.data.url),k("Verification photo uploaded! Click Submit Verification to complete.")):w(X.message||"Failed to upload photo")}catch(H){w(H.message||"Failed to upload photo")}finally{f(!1)}}},_=async Q=>{var me,C;const Z=(me=Q.target.files)==null?void 0:me[0];if(Z){if(!Z.type.startsWith("image/")){w("Please select an image file");return}if(Z.size>5*1024*1024){w("Image size must be less than 5MB");return}try{f(!0);const H=new FileReader;H.onloadend=()=>{I(H.result)},H.readAsDataURL(Z);const X=await Fn.uploadImage(Z,!0);X.success&&((C=X.data)!=null&&C.url)?(D(Z),I(X.data.url),k("ID document uploaded! Click Submit Verification to complete.")):w(X.message||"Failed to upload document")}catch(H){w(H.message||"Failed to upload document")}finally{f(!1)}}},W=async()=>{if(!V||!A){w("Please upload both your profile photo and ID document");return}if(!q){w("Please select the type of ID document");return}try{F(!0);const Q=await ls.submitVerification({verificationPhotoUrl:V,verificationIdUrl:A,verificationIdType:q});if(Q.success){if(k("Verification documents submitted successfully! Please wait for admin review."),s){const Z=await ls.getProfile();Z.success&&s(Z.data)}}else w(Q.message||"Failed to submit verification")}catch(Q){w(Q.message||"Failed to submit verification")}finally{F(!1)}};return t.jsxs("div",{className:"min-h-screen bg-light-bg dark:bg-dark-bg text-light-text-primary dark:text-dark-text-primary",children:[t.jsxs("div",{className:"sticky top-0 z-20 bg-light-card/80 dark:bg-dark-card/80 backdrop-blur-sm border-b border-light-border dark:border-dark-border p-4 flex items-center justify-between md:hidden",children:[t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("h1",{className:"text-xl font-bold",children:"My Profile"})}),n&&t.jsx("button",{onClick:n,className:"p-2 rounded-md hover:bg-light-border dark:hover:bg-dark-border",children:t.jsx(je,{className:"w-6 h-6 text-light-text-secondary dark:text-dark-text-secondary"})})]}),t.jsxs("div",{className:"container mx-auto px-4 py-8 md:py-12 max-w-4xl",children:[t.jsx("h1",{className:"hidden md:block text-4xl font-bold text-brand-primary mb-6",children:"My Profile"}),t.jsxs("div",{className:"bg-light-card dark:bg-dark-card rounded-lg shadow-lg border border-light-border dark:border-dark-border p-6 md:p-8",children:[t.jsxs("div",{className:"flex flex-col items-center mb-8",children:[t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"w-32 h-32 rounded-full bg-light-bg dark:bg-dark-bg border-4 border-brand-primary overflow-hidden",children:x?t.jsx("img",{src:x,alt:"Profile",className:"w-full h-full object-cover",onError:Q=>{Q.target.src="https://via.placeholder.com/256?text=Photo"}}):t.jsx("div",{className:"w-full h-full flex items-center justify-center",children:t.jsx(Rr,{className:"w-16 h-16 text-light-text-secondary dark:text-dark-text-secondary"})})}),t.jsx("button",{onClick:()=>{var Q;return(Q=v.current)==null?void 0:Q.click()},disabled:u,className:"absolute bottom-0 right-0 p-3 bg-brand-primary text-white rounded-full hover:bg-brand-secondary transition-colors disabled:opacity-50 disabled:cursor-not-allowed shadow-lg",title:"Upload profile picture",children:u?t.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):t.jsx(ap,{className:"w-5 h-5"})}),t.jsx("input",{ref:v,type:"file",accept:"image/*",onChange:se,className:"hidden"})]}),t.jsx("p",{className:"mt-4 text-sm text-light-text-secondary dark:text-dark-text-secondary text-center",children:"Click the camera icon to upload a new profile picture"}),t.jsx("p",{className:"text-xs text-light-text-secondary dark:text-dark-text-secondary text-center mt-1",children:"Max size: 5MB | Formats: JPG, PNG, GIF"})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-light-text-primary dark:text-dark-text-primary mb-2",children:["Full Name ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",value:p.fullName,onChange:Q=>y({...p,fullName:Q.target.value}),placeholder:"Enter your full name",className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-3 text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-brand-primary focus:outline-none",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-light-text-primary dark:text-dark-text-primary mb-2",children:"Email Address"}),t.jsx("input",{type:"email",value:p.email,disabled:!0,className:"w-full bg-light-bg/50 dark:bg-dark-bg/50 border border-light-border dark:border-dark-border rounded-lg px-4 py-3 text-light-text-secondary dark:text-dark-text-secondary cursor-not-allowed"}),t.jsx("p",{className:"text-xs text-light-text-secondary dark:text-dark-text-secondary mt-1",children:"Email cannot be changed"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-light-text-primary dark:text-dark-text-primary mb-2",children:"Phone Number"}),t.jsx("input",{type:"tel",value:p.phone,onChange:Q=>y({...p,phone:Q.target.value}),placeholder:"Enter your phone number",className:"w-full bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-3 text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-brand-primary focus:outline-none"})]}),ce&&t.jsxs("div",{className:"pt-6 border-t border-light-border dark:border-dark-border",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx(Sc,{className:"w-6 h-6 text-brand-primary"}),t.jsx("h3",{className:"text-lg font-semibold text-light-text-primary dark:text-dark-text-primary",children:"Verification Required"})]}),t.jsxs("p",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary mb-6",children:["As a ",(r==null?void 0:r.role)==="LANDLORD"?"landlord":"agent",", you must submit verification documents before uploading accommodations. This helps prevent fake listings and ensures trust on our platform."]}),(r==null?void 0:r.verificationStatus)&&t.jsxs("div",{className:`mb-6 p-4 rounded-lg border ${r.verificationStatus==="approved"?"bg-green-500/10 border-green-500/20":r.verificationStatus==="rejected"?"bg-red-500/10 border-red-500/20":"bg-yellow-500/10 border-yellow-500/20"}`,children:[t.jsx("div",{className:"flex items-center gap-3 mb-2",children:r.verificationStatus==="approved"?t.jsxs(t.Fragment,{children:[t.jsx(Ae,{className:"w-6 h-6 text-green-500"}),t.jsx("span",{className:"font-semibold text-green-500",children:"Verified"})]}):r.verificationStatus==="rejected"?t.jsxs(t.Fragment,{children:[t.jsx(Hn,{className:"w-6 h-6 text-red-500"}),t.jsx("span",{className:"font-semibold text-red-500",children:"Verification Rejected"})]}):t.jsxs(t.Fragment,{children:[t.jsx(gi,{className:"w-6 h-6 text-yellow-500"}),t.jsx("span",{className:"font-semibold text-yellow-500",children:"Pending Review"})]})}),r.verificationStatus==="rejected"&&r.verificationRejectionReason&&t.jsxs("p",{className:"text-sm text-red-500 mt-2",children:["Reason: ",r.verificationRejectionReason]}),r.verificationStatus==="pending"&&t.jsx("p",{className:"text-sm text-yellow-500 mt-2",children:"Your verification is under review. You'll be notified once it's approved."})]}),(r==null?void 0:r.verificationStatus)!=="approved"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-light-text-primary dark:text-dark-text-primary mb-2",children:["Your Profile Photo ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("p",{className:"text-xs text-light-text-secondary dark:text-dark-text-secondary mb-3",children:"Upload a clear photo of yourself for identity verification"}),V?t.jsxs("div",{className:"relative w-full max-w-xs",children:[t.jsx("img",{src:V,alt:"Verification Photo",className:"w-full h-64 object-cover rounded-lg border-2 border-brand-primary"}),t.jsx("button",{onClick:()=>{$(null),P(null),z.current&&(z.current.value="")},className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-2 hover:bg-red-600",children:t.jsx(Hn,{className:"w-4 h-4"})})]}):t.jsxs("button",{onClick:()=>{var Q;return(Q=z.current)==null?void 0:Q.click()},disabled:u,className:"w-full max-w-xs h-64 border-2 border-dashed border-light-border dark:border-dark-border rounded-lg flex flex-col items-center justify-center gap-3 hover:border-brand-primary transition-colors disabled:opacity-50",children:[t.jsx(ap,{className:"w-12 h-12 text-light-text-secondary dark:text-dark-text-secondary"}),t.jsx("span",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary",children:u?"Uploading...":"Click to upload profile photo"})]}),t.jsx("input",{ref:z,type:"file",accept:"image/*",onChange:Y,className:"hidden"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-light-text-primary dark:text-dark-text-primary mb-2",children:["ID Document ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("p",{className:"text-xs text-light-text-secondary dark:text-dark-text-secondary mb-3",children:"Upload a clear photo of your NIN, Driver's License, Passport, or other valid ID"}),t.jsx("div",{className:"mb-3",children:t.jsxs("select",{value:q,onChange:Q=>M(Q.target.value),className:"w-full max-w-xs bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border rounded-lg px-4 py-2 text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-brand-primary focus:outline-none",children:[t.jsx("option",{value:"NIN",children:"National Identification Number (NIN)"}),t.jsx("option",{value:"DRIVERS_LICENSE",children:"Driver's License"}),t.jsx("option",{value:"PASSPORT",children:"Passport"}),t.jsx("option",{value:"OTHER",children:"Other Valid ID"})]})}),A?t.jsxs("div",{className:"relative w-full max-w-xs",children:[t.jsx("img",{src:A,alt:"ID Document",className:"w-full h-64 object-contain bg-light-bg dark:bg-dark-bg rounded-lg border-2 border-brand-primary p-2"}),t.jsx("button",{onClick:()=>{I(null),D(null),re.current&&(re.current.value="")},className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-2 hover:bg-red-600",children:t.jsx(Hn,{className:"w-4 h-4"})})]}):t.jsxs("button",{onClick:()=>{var Q;return(Q=re.current)==null?void 0:Q.click()},disabled:u,className:"w-full max-w-xs h-64 border-2 border-dashed border-light-border dark:border-dark-border rounded-lg flex flex-col items-center justify-center gap-3 hover:border-brand-primary transition-colors disabled:opacity-50",children:[t.jsx(gi,{className:"w-12 h-12 text-light-text-secondary dark:text-dark-text-secondary"}),t.jsx("span",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary",children:u?"Uploading...":"Click to upload ID document"})]}),t.jsx("input",{ref:re,type:"file",accept:"image/*",onChange:_,className:"hidden"})]}),t.jsx("button",{onClick:W,disabled:ee||!V||!A||(r==null?void 0:r.verificationStatus)==="pending",className:"w-full bg-brand-primary text-white py-3 rounded-lg font-semibold hover:bg-brand-secondary transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:ee?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),t.jsx("span",{children:"Submitting..."})]}):(r==null?void 0:r.verificationStatus)==="pending"?t.jsxs(t.Fragment,{children:[t.jsx(gi,{className:"w-5 h-5"}),t.jsx("span",{children:"Verification Under Review"})]}):t.jsxs(t.Fragment,{children:[t.jsx(Sc,{className:"w-5 h-5"}),t.jsx("span",{children:"Submit Verification"})]})})]})]}),t.jsxs("div",{className:"pt-6 border-t border-light-border dark:border-dark-border",children:[t.jsx("h3",{className:"text-lg font-semibold text-light-text-primary dark:text-dark-text-primary mb-4",children:"Account Information"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"bg-light-bg dark:bg-dark-bg p-4 rounded-lg border border-light-border dark:border-dark-border",children:[t.jsx("p",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary mb-1",children:"Role"}),t.jsx("p",{className:"font-semibold text-light-text-primary dark:text-dark-text-primary",children:(r==null?void 0:r.role)||"SEEKER"})]}),t.jsxs("div",{className:"bg-light-bg dark:bg-dark-bg p-4 rounded-lg border border-light-border dark:border-dark-border",children:[t.jsx("p",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary mb-1",children:"Premium Status"}),t.jsx("div",{className:"flex items-center gap-2",children:r!=null&&r.isPremium?t.jsxs(t.Fragment,{children:[t.jsx(Ae,{className:"w-5 h-5 text-green-500"}),t.jsx("span",{className:"font-semibold text-green-500",children:"Premium"})]}):t.jsx("span",{className:"font-semibold text-light-text-secondary dark:text-dark-text-secondary",children:"Free"})})]})]})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-6",children:[t.jsx("button",{onClick:oe,disabled:l||u,className:"flex-1 bg-brand-primary text-white py-3 rounded-lg font-semibold hover:bg-brand-secondary transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:l?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),t.jsx("span",{children:"Saving..."})]}):t.jsx("span",{children:"Save Changes"})}),n&&t.jsx("button",{onClick:n,className:"px-6 py-3 bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border text-light-text-primary dark:text-dark-text-primary rounded-lg hover:bg-light-border dark:hover:bg-dark-border transition-colors",children:"Cancel"})]})]})]})]})]})},qx="sheltrify_favorites",zg=T.createContext(void 0),hj=({children:n})=>{const[r,s]=T.useState(()=>{if(typeof window<"u"){const d=localStorage.getItem("theme");return d||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}return"dark"});T.useEffect(()=>{const d=window.document.documentElement;r==="dark"?d.classList.add("dark"):d.classList.remove("dark"),localStorage.setItem("theme",r)},[r]);const l=()=>{s(d=>d==="light"?"dark":"light")};return t.jsx(zg.Provider,{value:{theme:r,toggleTheme:l},children:n})},pj=()=>{const n=T.useContext(zg);if(!n)throw new Error("useTheme must be used within a ThemeProvider");return n},xj=()=>{const[n,r]=T.useState("landing"),[s,l]=T.useState(!1),[d,u]=T.useState(!1),[f,p]=T.useState(!1),[y,x]=T.useState(!1),[b,v]=T.useState(null),[k,w]=T.useState(!1),[j,P]=T.useState(null),[V,$]=T.useState([]),[U,D]=T.useState(null),[A,I]=T.useState(0);T.useEffect(()=>{const Y=()=>{const _=window.location.hash.slice(1);_&&["landing","chat","community","wallet","marketplace","feels","rentalWahala","paymentVerify","cart","globalTales","about","contact","premium","adminDashboard","userDashboard","profile"].includes(_)?(r(_),window.scrollTo(0,0)):_||r("landing")};return Y(),window.addEventListener("hashchange",Y),()=>{window.removeEventListener("hashchange",Y)}},[]),T.useEffect(()=>{const Y=new URLSearchParams(window.location.search);(Y.get("reference")||Y.get("trxref"))&&(window.location.pathname.includes("/payments/verify")||window.location.hash.includes("payments/verify"))&&r("paymentVerify")},[]),T.useEffect(()=>{s&&z()},[s]),T.useEffect(()=>{const Y=async()=>{var H,X,ie,pe;const Z=localStorage.getItem("authToken"),me=localStorage.getItem("tokenExpiry"),C=localStorage.getItem("user");if(me){const J=parseInt(me,10);if(Date.now()>=J){console.log("Token expired, logging out"),Qt.logout(),l(!1),P(null),w(!1),q("Your session has expired. Please log in again.");return}}else if(Z){console.log("Token missing expiry, logging out"),Qt.logout(),l(!1),P(null),w(!1);return}if(Z&&C&&!_())try{const J=JSON.parse(C);l(!0),P(J);const he=J.isPremium&&(!J.premiumExpiryDate||new Date(J.premiumExpiryDate)>new Date);w(he)}catch(J){console.error("Failed to parse stored user:",J)}if(Z&&!_())try{const J=await Qt.getCurrentUser();if(J.success&&J.data){l(!0),P(J.data);const he=J.data.isPremium&&(!J.data.premiumExpiryDate||new Date(J.data.premiumExpiryDate)>new Date);w(he),localStorage.setItem("user",JSON.stringify(J.data))}else console.warn("Token validation failed, but keeping user logged in with stored data")}catch(J){(H=J.message)!=null&&H.includes("401")||(X=J.message)!=null&&X.includes("Unauthorized")||(ie=J.message)!=null&&ie.includes("Invalid token")||(pe=J.message)!=null&&pe.includes("Token expired")?(console.warn("Token invalid, logging out"),Qt.logout(),l(!1),P(null),w(!1),q("Your session has expired. Please log in again.")):console.warn("Auth check failed (network error?), keeping user logged in with stored data")}else C&&(!Z||_())&&(Qt.logout(),l(!1),P(null),w(!1))},_=()=>{const Z=localStorage.getItem("tokenExpiry");if(!Z)return!0;const me=parseInt(Z,10);return Date.now()>=me-3e5};Y();const W=Z=>{l(!1),P(null),w(!1),q("Your session has expired. Please log in again.")};window.addEventListener("auth:logout",W);const Q=setInterval(()=>{const Z=localStorage.getItem("tokenExpiry");if(Z){const me=parseInt(Z,10);Date.now()>=me&&(Qt.logout(),l(!1),P(null),w(!1),q("Your session has expired. Please log in again."),clearInterval(Q))}else localStorage.getItem("authToken")&&(Qt.logout(),l(!1),P(null),w(!1),clearInterval(Q))},300*1e3);return()=>{window.removeEventListener("auth:logout",W),clearInterval(Q)}},[]),T.useEffect(()=>{try{const Y=localStorage.getItem(qx);Y&&$(JSON.parse(Y))}catch(Y){console.error("Failed to parse favorites from localStorage",Y)}},[]);const q=Y=>{D(Y),setTimeout(()=>D(null),3e3)},M=Y=>{$(_=>{const W=_.some(Z=>Z.id===Y.id);let Q;return W?(Q=_.filter(Z=>Z.id!==Y.id),q(" Property removed from favorites.")):(Q=[..._,Y],q(k?" Property saved! You will receive alerts on this property.":" Property saved! Upgrade to Premium to get price drop alerts.")),localStorage.setItem(qx,JSON.stringify(Q)),Q})},ee=Y=>{F("chat"),setTimeout(()=>{const _=new CustomEvent("viewPropertyDetails",{detail:Y});window.dispatchEvent(_)},100),p(!1)},F=Y=>{Y==="chat"||Y==="community"||Y==="wallet"||Y==="marketplace"||Y==="feels"||Y==="rentalWahala"||Y==="cart"||Y==="globalTales"?s||Y==="globalTales"?(r(Y),window.location.hash=Y,window.scrollTo(0,0)):(v(Y),u(!0)):Y==="about"||Y==="contact"||Y==="premium"?(r(Y),window.location.hash=Y,window.scrollTo(0,0)):Y==="adminDashboard"||Y==="userDashboard"?s?(Y==="adminDashboard"&&(j==null?void 0:j.role)!=="ADMIN"?(r("userDashboard"),window.location.hash="userDashboard"):(r(Y),window.location.hash=Y),window.scrollTo(0,0)):(v(Y),u(!0)):Y==="profile"?s?(r(Y),window.location.hash=Y,window.scrollTo(0,0)):(v(Y),u(!0)):Y==="paymentVerify"?(r(Y),window.scrollTo(0,0)):Y==="landing"?(r(Y),window.location.hash="",window.scrollTo(0,0)):(r("landing"),window.location.hash="",window.scrollTo(0,0))},z=async()=>{try{if(localStorage.getItem("authToken")){const _=await _r.getAll();_.success&&I(_.data.itemCount||0)}}catch{I(0)}},re=async Y=>{l(!0),P(Y),w(Y.isPremium||!1),u(!1),r(b||"chat"),v(null),window.scrollTo(0,0);try{const{favoritesAPI:_}=await Bt(async()=>{const{favoritesAPI:Q}=await Promise.resolve().then(()=>Yl);return{favoritesAPI:Q}},void 0),W=await _.getAll();W.success&&$(W.data)}catch(_){console.error("Failed to load favorites:",_)}await z()},ce=()=>{Qt.logout(),l(!1),P(null),w(!1),$([]),I(0),r("landing");try{Object.keys(localStorage).forEach(_=>{_.startsWith("chatHistory_")&&localStorage.removeItem(_)})}catch(Y){console.error("Error clearing chat history:",Y)}window.scrollTo(0,0)},se=async()=>{var Y,_,W,Q,Z,me;if(!s){v("premium"),u(!0),q("Please log in to upgrade to premium.");return}try{const{userAPI:C}=await Bt(async()=>{const{userAPI:X}=await Promise.resolve().then(()=>Yl);return{userAPI:X}},void 0),H=await C.upgradePremium();if(H.success){const X=H.data.isPremium&&(!H.data.premiumExpiryDate||new Date(H.data.premiumExpiryDate)>new Date);if(w(X),j){const ie={...j,isPremium:X,premiumExpiryDate:H.data.premiumExpiryDate};P(ie),localStorage.setItem("user",JSON.stringify(ie))}q(" Premium upgrade successful! Your premium access is now active for 1 month.")}else q(H.message||"Failed to upgrade to premium. Please try again.")}catch(C){if(console.error("Premium upgrade error:",C),((_=(Y=C.response)==null?void 0:Y.data)==null?void 0:_.code)==="INSUFFICIENT_BALANCE"||(W=C.message)!=null&&W.includes("Insufficient wallet balance")){const X=(((Q=C.response)==null?void 0:Q.data)||{}).shortage||2e3;q(` Insufficient wallet balance. Please fund your wallet with ${X.toLocaleString()} or more to upgrade.`),setTimeout(()=>{F("wallet")},2e3)}else q(((me=(Z=C.response)==null?void 0:Z.data)==null?void 0:me.message)||C.message||"Failed to upgrade to premium. Please try again.")}},oe=d||y||f;return T.useEffect(()=>(oe?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[oe]),t.jsxs("div",{className:"flex flex-col min-h-screen font-sans",children:[oe&&t.jsx("div",{className:"fixed inset-0 bg-black/60 z-40"}),t.jsxs("div",{className:oe?"blur-sm":"",children:[t.jsx(Gv,{isAuthenticated:s,isAdmin:(j==null?void 0:j.role)==="ADMIN",cartCount:A,onLogoClick:()=>F("landing"),onChatClick:()=>F("chat"),onCommunityClick:()=>F("community"),onWalletClick:()=>F("wallet"),onMarketplaceClick:()=>F("marketplace"),onFeelsClick:()=>F("feels"),onRentalWahalaClick:()=>F("rentalWahala"),onGlobalTalesClick:()=>F("globalTales"),onAboutClick:()=>F("about"),onContactClick:()=>F("contact"),onPremiumClick:()=>F("premium"),onProfileClick:()=>{s?F("profile"):p(!0)},onAdminClick:()=>F("adminDashboard"),onCartClick:()=>F("cart"),onLoginClick:()=>u(!0),onSignupClick:()=>u(!0),onLogoutClick:ce}),t.jsxs("main",{className:"flex-grow container mx-auto px-4 py-8 md:py-12 overflow-x-hidden w-full max-w-full",children:[n==="landing"&&t.jsx(Bv,{onStartChatting:()=>F("chat"),onTalkToAnna:()=>x(!0),onPremiumUpgrade:se}),n==="chat"&&t.jsx(QS,{isPremium:k,favorites:V,onToggleFavorite:M,onPremiumUpgrade:se,toastMessage:U,onNavigateHome:()=>F("landing"),currentUser:j}),n==="community"&&t.jsx(xT,{currentUser:j}),n==="wallet"&&t.jsx(_T,{isAuthenticated:s,currentUser:j}),n==="marketplace"&&t.jsx(DT,{onCartUpdate:z}),n==="cart"&&t.jsx(lj,{currentUser:j,onCartUpdate:z}),n==="feels"&&t.jsx(tj,{isAuthenticated:s,isAdmin:(j==null?void 0:j.role)==="ADMIN",currentUser:j}),n==="rentalWahala"&&t.jsx(nj,{isAuthenticated:s,isAdmin:(j==null?void 0:j.role)==="ADMIN",currentUser:j}),n==="globalTales"&&t.jsx(dj,{isAuthenticated:s,currentUser:j}),n==="about"&&t.jsx(cj,{onClose:()=>F("landing")}),n==="contact"&&t.jsx(uj,{onClose:()=>F("landing")}),n==="premium"&&t.jsx(mj,{onClose:()=>F("landing"),onPremiumUpgrade:se}),n==="adminDashboard"&&s&&(j==null?void 0:j.role)==="ADMIN"&&t.jsx(aj,{onClose:()=>F("landing")}),n==="userDashboard"&&s&&j&&t.jsx(sj,{onClose:()=>F("landing"),user:j}),n==="profile"&&s&&j&&t.jsx(fj,{onClose:()=>F("landing"),currentUser:j,onUserUpdate:Y=>{P(Y);const _=localStorage.getItem("user");if(_)try{const W=JSON.parse(_);localStorage.setItem("user",JSON.stringify({...W,...Y}))}catch(W){console.error("Failed to update user in localStorage:",W)}}}),n==="paymentVerify"&&t.jsx(ij,{})]}),t.jsx(Yv,{page:n})]}),d&&t.jsx($v,{onClose:()=>{u(!1),v(null)},onLoginSuccess:re}),f&&t.jsx(Xv,{onClose:()=>p(!1),favorites:V,onRemoveFavorite:M,onViewDetails:ee}),y&&t.jsx(uT,{onClose:()=>x(!1)})]})},gj=()=>t.jsx(hj,{children:t.jsx(yT,{children:t.jsx(xj,{})})}),Gg=document.getElementById("root");if(!Gg)throw new Error("Could not find root element to mount to");const yj=ov.createRoot(Gg);yj.render(t.jsx(zt.StrictMode,{children:t.jsx(gj,{})}));export{zt as R,Bt as _,T as r};
